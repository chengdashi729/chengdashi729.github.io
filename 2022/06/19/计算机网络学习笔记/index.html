<!DOCTYPE HTML>
<html lang="zh-CN">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="计算机网络笔记, 成大事">
    <meta name="description" content="以前在B站学习王道的计算机网络的笔记">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <!-- Global site tag (gtag.js) - Google Analytics -->


    <title>计算机网络笔记 | 成大事</title>
    <link rel="stylesheet" type="text/css" href="/css/loading.css">
    <link rel="icon" type="image/png" href="/favicon.png">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">

    <script src="/libs/jquery/jquery-3.6.0.min.js"></script>


<meta name="generator" content="Hexo 6.1.0"></head>




   <style>
    body{
       background-image: url(/medias/banner/bg.jpg);
       background-repeat:no-repeat;
       background-size: 100% 100%;
       background-attachment:fixed;
    }
</style>



<body>
    
  <div id="loading-box">
    <div class="loading-left-bg"></div>
    <div class="loading-right-bg"></div>
    <div class="spinner-box">
      <div class="configure-border-1">
        <div class="configure-core"></div>
      </div>
      <div class="configure-border-2">
        <div class="configure-core"></div>
      </div>
      <div class="loading-word">加载中...</div>
    </div>
  </div>
  <!-- 页面加载动画 -->
  <script>
    $(document).ready(function () {
      document.body.style.overflow = 'auto';
      document.getElementById('loading-box').classList.add("loaded")
    })
  </script>



    <!-- 白天和黑夜主题 -->
<div class="sum-moon-box">
  <a class="btn-floating btn-large waves-effect waves-light" onclick="switchNightMode()" title="切换主题" >
    <i id="sum-moon-icon" class="fas fa-sun" style="width:48px; height:48px; font-size: 28px;"></i>
  </a>
</div>

<script>
  function switchNightMode() {
    $('<div class="Cuteen_DarkSky"><div class="Cuteen_DarkPlanet"></div></div>').appendTo($('body')),
      setTimeout(function () {
        $('body').hasClass('DarkMode') 
        ? ($('body').removeClass('DarkMode'), localStorage.setItem('isDark', '0'), $('#sum-moon-icon').removeClass("fa-sun").addClass('fa-moon')) 
        : ($('body').addClass('DarkMode'), localStorage.setItem('isDark', '1'), $('#sum-moon-icon').addClass("fa-sun").removeClass('fa-moon')),
          
        setTimeout(function () {
          $('.Cuteen_DarkSky').fadeOut(1e3, function () {
            $(this).remove()
          })
        }, 2e3)
      })
  }
</script>
<div class="stars-con">
  <div id="stars"></div>
  <div id="stars2"></div>
  <div id="stars3"></div>  
</div>

<script>
    /* 模式判断 */
    if (localStorage.getItem('isDark') === '1') {
        document.body.classList.add('DarkMode');
        $('#sum-moon-icon').addClass("fa-sun").removeClass('fa-moon')
    } else {
        document.body.classList.remove('DarkMode');
        $('#sum-moon-icon').removeleClass("fa-sun").addClass('fa-moon')
    }
</script>

    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">成大事</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>首页</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>标签</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>分类</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>归档</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>关于</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/contact" class="waves-effect waves-light">
      
      <i class="fas fa-comments" style="zoom: 0.6;"></i>
      
      <span>留言板</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/friends" class="waves-effect waves-light">
      
      <i class="fas fa-address-book" style="zoom: 0.6;"></i>
      
      <span>友链</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/gallery" class="waves-effect waves-light">
      
      <i class="fa fa-images" style="zoom: 0.6;"></i>
      
      <span>相册</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="搜索" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">成大事</div>
        <div class="logo-desc">
            
            Never really desperate, only the lost of the soul.
            
        </div>
    </div>

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			首页
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			标签
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			分类
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			归档
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			关于
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/contact" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-comments"></i>
			
			留言板
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/friends" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-address-book"></i>
			
			友链
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/gallery" class="waves-effect waves-light">
			
			    <i class="fa-fw fa fa-images"></i>
			
			相册
		</a>
          
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/chengdashia" class="waves-effect waves-light" target="_blank">
                <i class="fab fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>
</div>


        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/chengdashia" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
        
    </nav>

</header>

    



<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/index/25.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">计算机网络笔记</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        width: 345px;
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        padding: 35px 0 15px 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content {
        padding-bottom: 30px;
        overflow: auto;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;

        position: absolute;
        right: 23.5vw;
        display: block;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 15px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/">
                                <span class="chip bg-color">计算机网络</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fas fa-bookmark fa-fw icon-category"></i>
                        
                            <a href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" class="post-category">
                                学习笔记
                            </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2022-06-19
                </div>
                

                

                
                <div class="info-break-policy">
                    <i class="far fa-file-word fa-fw"></i>文章字数:&nbsp;&nbsp;
                    34.7k
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-clock fa-fw"></i>阅读时长:&nbsp;&nbsp;
                    121 分
                </div>
                

                
            </div>
        </div>
        <hr class="clearfix">

        
        <!-- 是否加载使用自带的 prismjs. -->
        <link rel="stylesheet" href="/libs/prism/prism.css">
        

        

        <div class="card-content article-card-content">
            <div id="articleContent">
                <h1 id="计算机网络"><a href="#计算机网络" class="headerlink" title="计算机网络"></a>计算机网络</h1><h2 id="一些基本了解"><a href="#一些基本了解" class="headerlink" title="一些基本了解"></a>一些基本了解</h2><h3 id="组成"><a href="#组成" class="headerlink" title="组成"></a>组成</h3><h4 id="组成部分"><a href="#组成部分" class="headerlink" title="组成部分"></a>组成部分</h4><ul>
<li>硬件</li>
<li>软件</li>
<li>协议</li>
</ul>
<h4 id="工作方式"><a href="#工作方式" class="headerlink" title="工作方式"></a>工作方式</h4><h5 id="边缘部分（用户直接使用）"><a href="#边缘部分（用户直接使用）" class="headerlink" title="边缘部分（用户直接使用）"></a>边缘部分（用户直接使用）</h5><ul>
<li>C&#x2F;S方式</li>
<li>P2P方式</li>
</ul>
<h5 id="核心部分（交换机，路由器，服务器等）"><a href="#核心部分（交换机，路由器，服务器等）" class="headerlink" title="核心部分（交换机，路由器，服务器等）"></a>核心部分（交换机，路由器，服务器等）</h5><p>为边缘部分服务</p>
<h4 id="功能组成"><a href="#功能组成" class="headerlink" title="功能组成"></a>功能组成</h4><h5 id="通讯子网"><a href="#通讯子网" class="headerlink" title="通讯子网"></a>通讯子网</h5><ul>
<li>实现数据通信</li>
<li>实现资源共享功能的设备和软件的集合。</li>
<li>包括：物理层，数据链路层，网络层</li>
</ul>
<h5 id="资源子网"><a href="#资源子网" class="headerlink" title="资源子网"></a>资源子网</h5><ul>
<li>实现资源共享&#x2F;数据处理。</li>
<li>各种传输介质，通信设备，相应的网络协议组成。</li>
<li>包括：会话层，表示层，应用层。</li>
</ul>
<h3 id="功能"><a href="#功能" class="headerlink" title="功能"></a>功能</h3><ul>
<li>数据通信</li>
<li>资源共享</li>
<li>分布式处理，提高可靠性，负载均衡。</li>
</ul>
<h3 id="分类"><a href="#分类" class="headerlink" title="分类"></a>分类</h3><h4 id="分布范围"><a href="#分布范围" class="headerlink" title="分布范围"></a>分布范围</h4><ul>
<li>广域网【WAN】</li>
<li>城域网【MAN】</li>
<li>局域网【LAN】</li>
<li>个人区域网【PAN】</li>
</ul>
<h4 id="使用者"><a href="#使用者" class="headerlink" title="使用者"></a>使用者</h4><ul>
<li>公用网</li>
<li>专用网</li>
</ul>
<h4 id="交换技术"><a href="#交换技术" class="headerlink" title="交换技术"></a>交换技术</h4><ul>
<li>电路交换</li>
<li>报文交换</li>
<li>分组交换</li>
</ul>
<h4 id="拓扑技术"><a href="#拓扑技术" class="headerlink" title="拓扑技术"></a>拓扑技术</h4><ul>
<li>总线型</li>
<li>星型</li>
<li>环形</li>
<li>网状型</li>
</ul>
<h4 id="传输技术"><a href="#传输技术" class="headerlink" title="传输技术"></a>传输技术</h4><h5 id="广播式"><a href="#广播式" class="headerlink" title="广播式"></a>广播式</h5><ul>
<li>共享公共通信信道</li>
</ul>
<h5 id="点对点"><a href="#点对点" class="headerlink" title="点对点"></a>点对点</h5><ul>
<li>使用分组存储转发和路由选择机制</li>
</ul>
<h3 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h3><ul>
<li>计算机网络是互联的，自治的计算机集合。【是一个将分散的，具有独立功能的计算机系统，通过通信设备与线路连接起来，由功能完善的软件实现资源共享和信息传递的系统】</li>
</ul>
<h3 id="标准化工作"><a href="#标准化工作" class="headerlink" title="标准化工作"></a>标准化工作</h3><h4 id="标准的分类："><a href="#标准的分类：" class="headerlink" title="标准的分类："></a>标准的分类：</h4><ul>
<li><p>法定标准</p>
<ul>
<li>由权威机构制定的正式的，合法的标准 OSI</li>
</ul>
</li>
<li><p>事实标准</p>
<ul>
<li>某些公司的产品在竞争中占据了主流，时间长了，这些产品中的协议和技术就成了标准   TCP&#x2F;IP</li>
</ul>
</li>
</ul>
<h4 id="标准化工作的相关组织"><a href="#标准化工作的相关组织" class="headerlink" title="标准化工作的相关组织"></a>标准化工作的相关组织</h4><ul>
<li><p>国际标准化组织 ISO</p>
<ul>
<li>OSI参考模型，HDLC协议</li>
</ul>
</li>
<li><p>国际电信联盟 ITU</p>
<ul>
<li>制定通信规则</li>
</ul>
</li>
<li><p>国际电气电子工程师协会IEEE</p>
<ul>
<li>学术机构，IEEE802系列标准，5G</li>
</ul>
</li>
<li><p>internet工程任务组IETF</p>
<ul>
<li>负责因特网相关标准的制定   RFC XXXX</li>
</ul>
</li>
</ul>
<h2 id="性能指标"><a href="#性能指标" class="headerlink" title="性能指标"></a>性能指标</h2><h3 id="速率"><a href="#速率" class="headerlink" title="速率"></a>速率</h3><ul>
<li>速率即数据率或数据传输率或比特率</li>
<li>连接在计算机网络上的主机在数字通道上传送数据位数的速率。</li>
<li>单位：b&#x2F;s，kb&#x2F;s，Mb&#x2F;s，Gb&#x2F;s，Tb&#x2F;s【存储容量  1Byte（字节）  &#x3D;  8bit（比特）】  1KB &#x3D; 2十次方B &#x3D; 1024B &#x3D; 1024*8b</li>
</ul>
<h3 id="带宽"><a href="#带宽" class="headerlink" title="带宽"></a>带宽</h3><ul>
<li>“带宽”原本指的是某个信号具有的频带宽度，即最高频率与最低频率之差，单位是赫兹（Hz）。</li>
<li>计算机网络中，带宽用来表示网络的通信线路传送数据的能力，通常是指单位时间内从网络中某一点到另一个点所能通过的“最高数据率”。单位是“比特每秒”，b&#x2F;s，kb&#x2F;s，Mb&#x2F;s，Gb&#x2F;s.  【网络设备所支持的最高速度】</li>
<li>通俗理解就是，设备所能发送数据的最大速率。理论值。</li>
</ul>
<h3 id="吞吐量"><a href="#吞吐量" class="headerlink" title="吞吐量"></a>吞吐量</h3><ul>
<li>表示在单位时间内通过某个网络（或信道，接口）的数据量。单位b&#x2F;s，kb&#x2F;s，Mb&#x2F;s，Gb&#x2F;s等。</li>
<li>吞吐量受网络的带宽或网络的额定速率的限制。</li>
<li>通俗的理解就是，带宽在实际中的实际速率。</li>
</ul>
<h3 id="时延"><a href="#时延" class="headerlink" title="时延"></a>时延</h3><blockquote>
<p>指数据（报文&#x2F;分组&#x2F;比特流）从网络（或链路）的一端传送到另一端所需的时间。也叫延迟或迟延。单位是s。</p>
</blockquote>
<h4 id="发送时延"><a href="#发送时延" class="headerlink" title="发送时延"></a>发送时延</h4><ul>
<li>主机或路由器发送数据帧所需要的时间。【从发送分组的第一个比特算起，到该分组的最后一个比特发送完毕所需的时间】】</li>
<li>发送时延 &#x3D; 数据帧长度（bit）【数据长度】   &#x2F;    发送速率（bit&#x2F;s）【信道带宽】</li>
</ul>
<h4 id="传播时延"><a href="#传播时延" class="headerlink" title="传播时延"></a>传播时延</h4><ul>
<li>是电磁波在信道中传播一定的距离需要花费的时间。【取决于电磁波传播速度和链路长度】</li>
<li>传播时延 &#x3D;  信道长度（m）  &#x2F;   电磁波在信道上的传播速率 （m&#x2F;s )</li>
</ul>
<h4 id="处理时延"><a href="#处理时延" class="headerlink" title="处理时延"></a>处理时延</h4><p>主机或路由器在收到分组时要花费一定的时间进行处理，例如分析分组的首部，从分组中提取数据部分，进行差错检验或查找适当的路由等。</p>
<h4 id="排队时延"><a href="#排队时延" class="headerlink" title="排队时延"></a>排队时延</h4><p>分组在经过网络传输时，要经过许多路由器，但分组在进入路由器后要先在输入队列中排队等待处理。</p>
<h4 id="总时延"><a href="#总时延" class="headerlink" title="总时延"></a>总时延</h4><p>总时延&#x3D; 发送时延 + 传播时延 +  处理时延 + 排队时延</p>
<h3 id="时延带宽积"><a href="#时延带宽积" class="headerlink" title="时延带宽积"></a>时延带宽积</h3><ul>
<li>时延带宽积（bit） &#x3D;  传播时延（s） *  带宽（b&#x2F;s)</li>
<li>链路的时延带宽积又称为以比特为单位的链路长度。【即“某段链路现在有多少比特】</li>
</ul>
<h3 id="往返时间RTT"><a href="#往返时间RTT" class="headerlink" title="往返时间RTT"></a>往返时间RTT</h3><p>从发送方发送数据开始，到发送方收到接收方的确认（接收方收到数据后立即发送确认），总共经历的时延。</p>
<h4 id="RTT"><a href="#RTT" class="headerlink" title="RTT"></a>RTT</h4><ul>
<li>往返传播时延  &#x3D;   传播时延 * 2</li>
<li>末端处理时间</li>
<li>RTT越大，在收到确认之前，可以发送的数据越多。</li>
</ul>
<h3 id="利用率"><a href="#利用率" class="headerlink" title="利用率"></a>利用率</h3><h4 id="信道利用率"><a href="#信道利用率" class="headerlink" title="信道利用率"></a>信道利用率</h4><p>信道利用率 &#x3D;   有数据通过时间 &#x2F;  （有 + 无 ） 数据通过时间</p>
<h4 id="网络利用率"><a href="#网络利用率" class="headerlink" title="网络利用率"></a>网络利用率</h4><ul>
<li><p>信道利用率加权平均值</p>
</li>
<li><p>信道或网络的利用率过高会产生非常大的时延。</p>
</li>
</ul>
<h2 id="网络体系结构"><a href="#网络体系结构" class="headerlink" title="网络体系结构"></a>网络体系结构</h2><blockquote>
<p>从功能上描述计算机网络结构</p>
</blockquote>
<h3 id="分层结构"><a href="#分层结构" class="headerlink" title="分层结构"></a>分层结构</h3><h4 id="为什么要分层"><a href="#为什么要分层" class="headerlink" title="为什么要分层"></a>为什么要分层</h4><blockquote>
<p>例如：发送文件前要完成的工作：</p>
</blockquote>
<ul>
<li>发起通信的计算机必须将数据通信的通路进行激活。</li>
<li>要告诉网络如何识别目的主机。</li>
<li>发起通信的计算机要查明目的主机是否开机，并且与网络连接正常。</li>
<li>发起通信的计算机要弄清楚，对方计算机中文件管理程序是否已经做好准备工作。</li>
<li>确保差错和意外可以解决。</li>
<li>。。。。</li>
</ul>
<h4 id="怎么分层："><a href="#怎么分层：" class="headerlink" title="怎么分层："></a>怎么分层：</h4><ul>
<li>协议</li>
<li>服务</li>
<li>接口</li>
</ul>
<h4 id="分层的基本原则："><a href="#分层的基本原则：" class="headerlink" title="分层的基本原则："></a>分层的基本原则：</h4><ul>
<li>每层之间相互独立，每层只实现一种相对独立的功能。</li>
<li>每层之间界面自然清晰，易于理解，相互交流尽可能少。</li>
<li>结构上可分割开，每层都采用最合适的技术来实现。</li>
<li>保持下层对上层的独立性，上层单向使用下层提供的服务。</li>
<li>整个分层结构应该能促进标准化工作。</li>
</ul>
<h3 id="正式认识分层结构："><a href="#正式认识分层结构：" class="headerlink" title="正式认识分层结构："></a>正式认识分层结构：</h3><h4 id="实体"><a href="#实体" class="headerlink" title="实体:"></a>实体:</h4><blockquote>
<p> 第n层中的活动元素称为n层实体。同一层的实体叫对等实体。</p>
</blockquote>
<h4 id="协议"><a href="#协议" class="headerlink" title="协议:"></a>协议:</h4><blockquote>
<p>为进行网络中的对等实体数据交换而建立的规则，标准或约定被称为网络协议。【水平】</p>
</blockquote>
<ul>
<li>语法：规定传输数据的格式。</li>
<li>语义：规定所要完成的功能。</li>
<li>同步：规定各种操作的顺序。</li>
</ul>
<h4 id="接口（访问服务点SAP）："><a href="#接口（访问服务点SAP）：" class="headerlink" title="接口（访问服务点SAP）："></a>接口（访问服务点SAP）：</h4><p>上层使用下层服务的入口。</p>
<h4 id="服务："><a href="#服务：" class="headerlink" title="服务："></a>服务：</h4><p>下层为相邻上层提供的功能调用。【垂直】</p>
<ul>
<li>SDU  服务数据单元：为完成用户所要求的的功能而应传送的数据。</li>
<li>PCI  协议控制信息：控制协议操作的信息。</li>
<li>PDI协议数据单元：对等层次之间传送的数据单位。</li>
<li><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/2dc8bd6a63d4514240475c55728c8a4bab52477c9e1a281a33490c38ef987e9b.png"></li>
</ul>
<h3 id="概念总结："><a href="#概念总结：" class="headerlink" title="概念总结："></a>概念总结：</h3><ul>
<li>网络体系结构是从功能上描述计算机网络结构。</li>
<li>计算机网络体系结构简称网络体系结构是分层结构。</li>
<li>每层遵循某个&#x2F;些网络协议以完成本层功能。</li>
<li>计算机网络体系结构是计算机网络的各层及其协议的集合。</li>
<li>第n层在向n+1层提供服务时，此服务不仅包含第n层本身的功能，还包含由下层服务提供的功能。</li>
<li>仅仅在相邻层间有接口，且所提供服务的具体实现细节对上一层完全屏蔽。</li>
<li>体系结构是抽象的，而实现是指能运行的一些软件和硬件。</li>
</ul>
<h2 id="计算机网络分层结构："><a href="#计算机网络分层结构：" class="headerlink" title="计算机网络分层结构："></a>计算机网络分层结构：</h2><h3 id="7层OSI参考模型（法定标准）"><a href="#7层OSI参考模型（法定标准）" class="headerlink" title="7层OSI参考模型（法定标准）"></a>7层OSI参考模型（法定标准）</h3><blockquote>
<p>为了解决计算机网络复杂的大问题</p>
</blockquote>
<p>分层结构（按功能）</p>
<h4 id="目的："><a href="#目的：" class="headerlink" title="目的："></a>目的：</h4><p>支持异构网络系统的互联互通。</p>
<h4 id="国际标准化组织（ISO）于1984年提出开放系统互连（OSI-参考模型。"><a href="#国际标准化组织（ISO）于1984年提出开放系统互连（OSI-参考模型。" class="headerlink" title="国际标准化组织（ISO）于1984年提出开放系统互连（OSI)参考模型。"></a>国际标准化组织（ISO）于1984年提出开放系统互连（OSI)参考模型。</h4><p>但是，理论成功，市场失败。</p>
<h4 id="OSI七层"><a href="#OSI七层" class="headerlink" title="OSI七层"></a>OSI七层</h4><p><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/07ecbbee2cf7f5d2418ec0fba2af0fd52d50080b2519bbd44138787249ad6c44.png" alt="OSI参考模型解释通信过程"></p>
<h5 id="应用层【7】"><a href="#应用层【7】" class="headerlink" title="应用层【7】"></a>应用层【7】</h5><ul>
<li><p>DATA(H7)</p>
</li>
<li><p>用户与网络的界面【所有能和用户交互产生网络流量的程序】</p>
</li>
<li><p>典型的应用层服务：</p>
<ul>
<li>文件传输（FTP)</li>
<li>电子邮件（SMTP)</li>
<li>万维网（HTTP)</li>
</ul>
</li>
</ul>
<h5 id="表示层【6】"><a href="#表示层【6】" class="headerlink" title="表示层【6】"></a>表示层【6】</h5><ul>
<li><p>7-PDU(H6)</p>
</li>
<li><p>用于处理在两个通信系统中交换信息的表示方式（语法和语义）</p>
</li>
<li><p>功能：</p>
<ul>
<li>数据格式转换</li>
<li>数据加密解密</li>
<li>数据压缩和恢复</li>
</ul>
</li>
<li><p>主要协议：</p>
<ul>
<li>JPEG</li>
<li>ASCII</li>
</ul>
</li>
</ul>
<h5 id="会话层【5】"><a href="#会话层【5】" class="headerlink" title="会话层【5】"></a>会话层【5】</h5><ul>
<li><p>6-PDU(H5)</p>
</li>
<li><p>向表示层实体&#x2F;用户进程提供建立连接并在连接上有序的传输数据。【这是会话，也是建立同步（SYN)】</p>
</li>
<li><p>功能：</p>
<ul>
<li>建立，管理，终止会话</li>
<li>使用校验点可使会话在通信失效时从校验点&#x2F;同步点继续恢复通信，实现数据同步。【适用于传输大文件】</li>
</ul>
</li>
<li><p>主要协议：</p>
<ul>
<li>ASDP</li>
<li>ASP</li>
</ul>
</li>
</ul>
<h5 id="传输层【4】"><a href="#传输层【4】" class="headerlink" title="传输层【4】"></a>传输层【4】</h5><ul>
<li><p>5-PDU(H4)</p>
</li>
<li><p>负责主机中两个进程的通信，即端到端的通信。传输单位是报文段或用户数据报。</p>
</li>
<li><p>功能：</p>
<ul>
<li><p>可靠传输，不可靠传输</p>
<ul>
<li>可靠传输【有确认机制】</li>
<li>不可靠传输【不需要建立连接和确认机制】</li>
</ul>
</li>
<li><p>差错控制</p>
<ul>
<li>帧错误、帧丢失、帧重复。</li>
</ul>
</li>
<li><p>流量控制</p>
<ul>
<li>协调发送端和接收端的速度问题。</li>
</ul>
</li>
<li><p>复用分用</p>
<ul>
<li>复用：多个应用层进程可同时使用下面运输层的服务。</li>
<li>分用：运输层把收到的信息分别交付给上面应用层中相应的进程。</li>
</ul>
</li>
</ul>
</li>
<li><p>主要协议：</p>
<ul>
<li>TCP</li>
<li>UDP</li>
</ul>
</li>
</ul>
<h5 id="网络层【3】"><a href="#网络层【3】" class="headerlink" title="网络层【3】"></a>网络层【3】</h5><ul>
<li><p>4-PDU(H3)</p>
</li>
<li><p>主要任务是把分组从源端传到目的端，为分组交换网上不同主机提供通信服务。网络层传输单位是数据报。</p>
</li>
<li><p>功能：</p>
<ul>
<li><p>路由选择</p>
<ul>
<li>最佳路径</li>
</ul>
</li>
<li><p>流量控制</p>
<ul>
<li>协调发送端和接收端的速度问题。【主要是限制发送端的速度】</li>
</ul>
</li>
<li><p>差错控制</p>
<ul>
<li>帧错误、帧丢失、帧重复。</li>
</ul>
</li>
<li><p>拥塞控制</p>
<ul>
<li>若所有结点都来不及接受分组，而要丢弃大量分组的话，网络就处于拥塞状态。因此要采取一定措施，缓解这种拥塞。</li>
</ul>
</li>
</ul>
</li>
<li><p>主要协议：</p>
<ul>
<li>IP</li>
<li>IPX</li>
<li>ICMP</li>
<li>IGMP</li>
<li>ARR</li>
<li>RARP</li>
<li>OSPF</li>
</ul>
</li>
</ul>
<h5 id="数据链路层【2】"><a href="#数据链路层【2】" class="headerlink" title="数据链路层【2】"></a>数据链路层【2】</h5><ul>
<li><p>3-PUD(H2)[不仅加了首部，还加了尾部]</p>
</li>
<li><p>主要任务是把网络层传下来的数据报组装成帧。【数据链路层&#x2F;链路层的传输单位是帧】</p>
</li>
<li><p>功能：</p>
<ul>
<li><p>成帧</p>
<ul>
<li>定义帧的开始和结束</li>
</ul>
</li>
<li><p>差错控制</p>
<ul>
<li>帧错+位错</li>
</ul>
</li>
<li><p>流量控制</p>
<ul>
<li>协调发送端和接收端的速度问题。</li>
</ul>
</li>
<li><p>访问（接入）控制</p>
<ul>
<li>控制对信道的访问</li>
</ul>
</li>
</ul>
</li>
<li><p>主要协议：</p>
<ul>
<li>SDLC</li>
<li>HDLC</li>
<li>PPP</li>
<li>STP</li>
</ul>
</li>
</ul>
<h5 id="物理层【1】"><a href="#物理层【1】" class="headerlink" title="物理层【1】"></a>物理层【1】</h5><ul>
<li><p>主要任务是在物理媒体上实现比特流的透明传输。【物理层传输的单位是比特】</p>
</li>
<li><p>透明传输：指不管所传数据是什么样的比特组合，都应当能够在链路上传送。</p>
</li>
<li><p>功能：</p>
<ul>
<li><p>定义接口特性</p>
</li>
<li><p>定义传输模式</p>
<ul>
<li><p>单工</p>
<ul>
<li>单工数据传输只支持数据在一个方向上传输；在同一时间只有一方能接受或发送信息，不能实现双向通信，举例：电视，广播。</li>
</ul>
</li>
<li><p>半双工</p>
<ul>
<li>半双工数据传输允许数据在两个方向上传输,但是,在某一时刻,只允许数据在一个方向上传输,它实际上是一种切换方向的单工通信；在同一时间只可以有一方接受或发送信息，可以实现双向通信。举例：对讲机。</li>
</ul>
</li>
<li><p>双工</p>
<ul>
<li>双工数据通信允许数据同时在两个方向上传输,因此,全双工通信是两个单工通信方式的结合,它要求发送设备和接收设备都有独立的接收和发送能力；在同一时间可以同时接受和发送信息，实现双向通信，举例：电话通信。</li>
</ul>
</li>
</ul>
</li>
<li><p>定义传输速率</p>
</li>
<li><p>比特同步</p>
</li>
<li><p>比特编码</p>
</li>
</ul>
</li>
<li><p>主要协议：</p>
<ul>
<li>Rj45</li>
<li>802.3</li>
</ul>
</li>
</ul>
<h3 id="4层TCP-x2F-IP参考模型（事实标准）"><a href="#4层TCP-x2F-IP参考模型（事实标准）" class="headerlink" title="4层TCP&#x2F;IP参考模型（事实标准）"></a>4层TCP&#x2F;IP参考模型（事实标准）</h3><ul>
<li>应用层</li>
<li>传输层</li>
<li>网际层</li>
<li>网络接口层</li>
</ul>
<h3 id="5层参考模型："><a href="#5层参考模型：" class="headerlink" title="5层参考模型："></a>5层参考模型：</h3><p><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/0646f31c95743cec3356b8777e177ff34161309993d69f253adf37814eea0295.png" alt="5层参考模型的数据封装与解封装"></p>
<h4 id="应用层"><a href="#应用层" class="headerlink" title="应用层"></a>应用层</h4><blockquote>
<p>支持各种网络应用</p>
</blockquote>
<p>主要协议：</p>
<ul>
<li>FTP</li>
<li>SMTP</li>
<li>HTTP</li>
</ul>
<h4 id="传输层"><a href="#传输层" class="headerlink" title="传输层"></a>传输层</h4><blockquote>
<p>进程-进程的数据传输</p>
</blockquote>
<p>主要协议：</p>
<ul>
<li>TCP</li>
<li>UDP</li>
</ul>
<h4 id="网络层"><a href="#网络层" class="headerlink" title="网络层"></a>网络层</h4><blockquote>
<p>源主机到目的主机的数据分组路由与转发</p>
</blockquote>
<p>主要协议：</p>
<ul>
<li>IP</li>
<li>ICMP</li>
<li>OSPF</li>
</ul>
<h4 id="数据链路层"><a href="#数据链路层" class="headerlink" title="数据链路层"></a>数据链路层</h4><blockquote>
<p>把网络层传下来的数据报组装成帧</p>
</blockquote>
<p>主要协议：</p>
<ul>
<li>Ethernet</li>
<li>ppp</li>
</ul>
<h4 id="物理层"><a href="#物理层" class="headerlink" title="物理层"></a>物理层</h4><blockquote>
<p>实现比特传输</p>
</blockquote>
<p>主要协议：</p>
<ul>
<li>Rj45</li>
<li>802.3</li>
</ul>
<blockquote>
<p>综合了OSI和TCP&#x2F;IP的优点</p>
</blockquote>
<h3 id="OSI参考模型和TCP-x2F-IP参考模型相同点："><a href="#OSI参考模型和TCP-x2F-IP参考模型相同点：" class="headerlink" title="OSI参考模型和TCP&#x2F;IP参考模型相同点："></a>OSI参考模型和TCP&#x2F;IP参考模型相同点：</h3><h4 id="相同点"><a href="#相同点" class="headerlink" title="相同点"></a>相同点</h4><ul>
<li>都分层</li>
<li>基于独立的协议栈的概念</li>
<li>都可以实现异构网络互联</li>
</ul>
<h4 id="不同点"><a href="#不同点" class="headerlink" title="不同点"></a>不同点</h4><ul>
<li><p>OSI定义三点：服务，协议，接口</p>
</li>
<li><p>OSI先出现，参考模型先于协议发明，不偏向特定协议</p>
</li>
<li><p>TCP&#x2F;IP设计之初就考虑到异构网互联的问题，将IP作为重要层次。</p>
</li>
<li><p><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/e0ace6e71c326e99639c5c1b3c1a03df7330a527dcddae61a3a6d6550f52ffe7.png"></p>
<ul>
<li><p>面向连接分为三个阶段：</p>
<ul>
<li>第一是建立连接，在此阶段，发出一个建立连接的请求。</li>
<li>第二阶段是：只有在连接成功之后，才能开始数据传输。</li>
<li>第三是：接着当数据传输完毕，必须释放连接。</li>
</ul>
</li>
<li><p>面向无连接</p>
<ul>
<li>没有这么多阶段，直接进行数据传输</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="物理层-1"><a href="#物理层-1" class="headerlink" title="物理层"></a>物理层</h2><blockquote>
<p> 物理层解决如何在连接各种计算机的传输媒体上传输数据比特流，而不是指具体的传输媒体。</p>
</blockquote>
<h3 id="主要任务："><a href="#主要任务：" class="headerlink" title="主要任务："></a>主要任务：</h3><blockquote>
<p>确定与传输媒体接口有关的一些特性。</p>
</blockquote>
<ul>
<li>定义标准。</li>
</ul>
<h3 id="有哪些特性："><a href="#有哪些特性：" class="headerlink" title="有哪些特性："></a>有哪些特性：</h3><h4 id="机械特性："><a href="#机械特性：" class="headerlink" title="机械特性："></a>机械特性：</h4><p>定义物理连接的特性，规定物理连接时所采用的规格，接口形状，引线数目，引脚数量和排列情况。</p>
<h4 id="电气特性："><a href="#电气特性：" class="headerlink" title="电气特性："></a>电气特性：</h4><p>规定传输二进制位时，线路上信号的电压范围、阻抗匹配、传输速率和距离限制等。</p>
<h4 id="功能特性："><a href="#功能特性：" class="headerlink" title="功能特性："></a>功能特性：</h4><p>指明某条线上出现的某一电平表示何种意义，接口部件的信号线的用途。</p>
<h4 id="规程特性："><a href="#规程特性：" class="headerlink" title="规程特性："></a>规程特性：</h4><p>（过程特性）定义各条物理线路的工作规程和时序关系。</p>
<h3 id="数据通信的基础知识"><a href="#数据通信的基础知识" class="headerlink" title="数据通信的基础知识"></a>数据通信的基础知识</h3><p><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/4542774b214afbc6a6ad3e49223cbd06f57679d185608f00954d410b3e0eb924.png" alt="典型的数据通信模型"></p>
<h4 id="数据通信的相关术语："><a href="#数据通信的相关术语：" class="headerlink" title="数据通信的相关术语："></a>数据通信的相关术语：</h4><blockquote>
<p> 通信的目的是传送消息。</p>
</blockquote>
<h5 id="数据"><a href="#数据" class="headerlink" title="数据"></a>数据</h5><blockquote>
<p>传送信息的实体，通常是有意义的符号序列。</p>
</blockquote>
<h5 id="信号："><a href="#信号：" class="headerlink" title="信号："></a>信号：</h5><p>数据的电气&#x2F;电磁的表现，是数据在传输过程中的存在形式。</p>
<ul>
<li><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/9403af4267f5fae3a189ac45dc9fc638a1644c7267a44294b066b9260307a129.png" alt="数字信号：代表消息的参数取值是离散的。"></li>
<li><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/409d3aa712c24088d9b12dc1a6a8117a6c34344a9815fdc1d0d7f0fe56faa591.png" alt="模拟信号：代表消息的参数取值是连续的。"></li>
</ul>
<h5 id="信源："><a href="#信源：" class="headerlink" title="信源："></a>信源：</h5><blockquote>
<p>产生和发送数据的源头。</p>
</blockquote>
<h5 id="信宿："><a href="#信宿：" class="headerlink" title="信宿："></a>信宿：</h5><blockquote>
<p>接收数据的终点。</p>
</blockquote>
<h5 id="信道："><a href="#信道：" class="headerlink" title="信道："></a>信道：</h5><blockquote>
<p>信号的传输媒介。一般用来表示向某一个方向传送信息的介质，因此一条通信线路往往包含一条发送信道和一条接收信道。</p>
</blockquote>
<h6 id="传输信号："><a href="#传输信号：" class="headerlink" title="传输信号："></a>传输信号：</h6><ul>
<li>模拟信道（传送模拟信号）</li>
<li>数字信道（传送数字信号）</li>
</ul>
<h6 id="传输介质："><a href="#传输介质：" class="headerlink" title="传输介质："></a>传输介质：</h6><ul>
<li>无线信道</li>
<li>有线信道</li>
</ul>
<h4 id="三种通信方式："><a href="#三种通信方式：" class="headerlink" title="三种通信方式："></a>三种通信方式：</h4><blockquote>
<p>从通信双方信道的交互方式看，可以有三种基本方式。</p>
</blockquote>
<h5 id="单工通信"><a href="#单工通信" class="headerlink" title="单工通信"></a>单工通信</h5><blockquote>
<p>只有一个方向的通信而没有反方向的交互，仅需要一条信道。</p>
</blockquote>
<h5 id="半双工通信"><a href="#半双工通信" class="headerlink" title="半双工通信"></a>半双工通信</h5><blockquote>
<p>通信的双方都可以发送或接收信息，但任何一方都不能同时发送和接收，需要两条信道。</p>
</blockquote>
<h5 id="全双工通信"><a href="#全双工通信" class="headerlink" title="全双工通信"></a>全双工通信</h5><blockquote>
<p>通信双方可以同时发送和接收信息，也需要两条信道。</p>
</blockquote>
<h4 id="两种数据传输方式："><a href="#两种数据传输方式：" class="headerlink" title="两种数据传输方式："></a>两种数据传输方式：</h4><h5 id="串行传输"><a href="#串行传输" class="headerlink" title="串行传输"></a>串行传输</h5><blockquote>
<p>速度慢，费用低，适合远距离</p>
</blockquote>
<p><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/a1f13e22cda81a72654d9a759ee268a0eb3944dcd07b88505879bf148aaa8373.png"></p>
<h5 id="并行传输"><a href="#并行传输" class="headerlink" title="并行传输"></a>并行传输</h5><p><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/bc7b93564397262dadf2f386283738a1c6c169c8874d8ee03e2fd59b37e8af83.png" alt="速度快，费用高，适合近距离"></p>
<p><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/f2b4ba6abf7064a876d4591a57fd7a339562c145885ce84b5a99fc54e2a81125.png"></p>
<h4 id="码元、波特、速率、带宽"><a href="#码元、波特、速率、带宽" class="headerlink" title="码元、波特、速率、带宽"></a>码元、波特、速率、带宽</h4><h5 id="码元"><a href="#码元" class="headerlink" title="码元"></a>码元</h5><blockquote>
<p>码元是指用一个固定时长的信号波形（数字脉冲），代表不同离散数值的基本波形，是数字通信中信号的计量单位，这个时长内的信号称为K进制码元，而该时长称为码元宽度。当码元的离散状态有M个时（M大于2），此时的码元为M进制码元。</p>
</blockquote>
<ul>
<li><p>k进制码元—4进制码元—&gt;码元的离散状态有4个—&gt;4种高低不同的信号波形      00、01、10、11</p>
</li>
<li><p>1码元可以携带多个比特的信息量。例如，在使用二进制编码时，只有两种不同的码元，一种代表0状态，另一中代表1状态。</p>
</li>
</ul>
<h5 id="波特"><a href="#波特" class="headerlink" title="波特"></a>波特</h5><blockquote>
<p>单位时间内数字通信系统所传输的码元的个数（也可称为脉冲个数或信号变化的次数），单位是波特（Baud）。1波特表示通信系统每秒传输一个码元。【1Baud &#x3D;  1码元&#x2F;s】</p>
</blockquote>
<h5 id="速率-1"><a href="#速率-1" class="headerlink" title="速率"></a>速率</h5><blockquote>
<p>也叫数据率，是指数据的传输速率，表示单位时间内传输的数据量。可以用码元传输速率和信息传输速率表示。</p>
</blockquote>
<ul>
<li><p>码元传输速率：</p>
<ul>
<li>别名码元速率、波形速率、调制速率、符号速率等，它表示单位时间内数字通信系统所传输的码元的个数（也可称为脉冲个数或信号变化的次数），单位是波特（Baud）。1波特表示通信系统每秒传输一个码元。这里的码元可以是多进制的，也可以是二进制的，但是码元速率与进制数无关。【1s传输多少个码元】</li>
</ul>
</li>
<li><p>信息传输速率：</p>
<ul>
<li>别名信息速率、比特率等，表示单位时间内数字通信系统传输的二进制码元个数（即比特数），单位是比特&#x2F;s（b&#x2F;s）【1s能传输多少个比特】</li>
</ul>
</li>
<li><p>关系：</p>
<ul>
<li>若一个码元携带n  bit的信息量，则M  Baud的码元传输速率所对应的信息传输速率为M *  n  bit&#x2F;s。</li>
</ul>
</li>
</ul>
<h5 id="带宽-1"><a href="#带宽-1" class="headerlink" title="带宽"></a>带宽</h5><blockquote>
<p>表示在单位时间内从网络中的某一点到另一点所能通过的“最高数据率”，常用来表示网络的通信线路所能传输数据的能力。单位是b&#x2F;s。</p>
</blockquote>
<h4 id="奈氏准则和香农定理"><a href="#奈氏准则和香农定理" class="headerlink" title="奈氏准则和香农定理"></a>奈氏准则和香农定理</h4><h5 id="失真"><a href="#失真" class="headerlink" title="失真"></a>失真</h5><h6 id="影响失真程度的因素："><a href="#影响失真程度的因素：" class="headerlink" title="影响失真程度的因素："></a>影响失真程度的因素：</h6><ul>
<li>码元传输速率【速率越高，失真程度越严重】</li>
<li>信号传输距离【距离越远，衰减就越久，干扰就越久】</li>
<li>噪声干扰【越多就越容易失真】</li>
<li>传输媒体质量【质量越差，失真越严重】</li>
</ul>
<p><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/73db8278f55982286c177a466db4d14b646f361bea890c4b339f5c05392a8cce.png"></p>
<h6 id="码间串扰"><a href="#码间串扰" class="headerlink" title="码间串扰"></a>码间串扰</h6><blockquote>
<p> 接收端收到的信号波形失去了码元之间清晰界限的现象。</p>
</blockquote>
<p>信道带宽：</p>
<ul>
<li><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/7c5fe7396fc60554797616c399d26aae13795e7200b0311bb9906b4d8942ef32.png" alt="是信道能通过的最高频率和最低频率之差"></li>
</ul>
<h4 id="奈氏准则（奈奎斯特定理）"><a href="#奈氏准则（奈奎斯特定理）" class="headerlink" title="奈氏准则（奈奎斯特定理）"></a>奈氏准则（奈奎斯特定理）</h4><blockquote>
<p>在理想低通（无噪声，带宽受限）条件下，为了避免码间串扰，极限码元传输速率为2W  Baud，W是信道带宽，单位是Hz。</p>
</blockquote>
<p><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/image-20220619115536746.png" alt="理想低通信道下的极限数据传输率 = 2Wlog2V   ( b/s)"></p>
<h5 id="结论："><a href="#结论：" class="headerlink" title="结论："></a>结论：</h5><ul>
<li>在任何信道中，码元传输的速率是有上限的。若传输速率超过此上限 ，就会出现严重的码间串扰问题，使接收端对码元的完全正确识别称为不可能。</li>
<li>信道的频带越宽（即能通过的信号高频分量越多），就可以用更高的速率进行码元的有效传输。</li>
<li>奈氏准则给出了码元传输速率的限制，但并没有对信息传输速率给出限制。</li>
<li>由于码元的传输速率受奈氏准则的制约，所以要提高数据的传输速率，就必须设法使每个码元能携带更多个比特的信息量，这就需要采用多元制的调制方法。</li>
</ul>
<h4 id="香农定理"><a href="#香农定理" class="headerlink" title="香农定理"></a>香农定理</h4><h5 id="噪声"><a href="#噪声" class="headerlink" title="噪声"></a>噪声</h5><blockquote>
<p>噪声存在于所有的电子设备和通信信道中。由于噪声随机产生，它的瞬时值有时会很大，因此噪声会使接收端对码元的判决产生错误。但是噪声的影响是相对的，若信号较强，那么噪声影响相对较小。因此，信噪比就很重要。</p>
</blockquote>
<p><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/21bb576d5a6eaff0faf81f13e8fcec09fd7b791b547eac45e7a7f4f2df6668c8.png" alt="信噪比 =  信号的平均功率/噪声的平均功率，常记为S/N，并用分贝（dB）作为肚量单位，即：信噪比（dB） =  10log10（S/N)  数值等价"></p>
<h6 id="香农定理："><a href="#香农定理：" class="headerlink" title="香农定理："></a>香农定理：</h6><blockquote>
<p> 在带宽受限且有噪声的信道中，为了不产生误差，信息的数据传输速率有上限值。</p>
</blockquote>
<h6 id="结论：-1"><a href="#结论：-1" class="headerlink" title="结论："></a>结论：</h6><ul>
<li>信道的带宽或信道中的信噪比越大，则信息的极限传输速率就越高。</li>
<li>对一定的传输带宽和一定的信噪比，信息的传输速率的上限就确定了。</li>
<li>只要信息的传输速率低于信道的极限传输速率，就一定能找到某种方法来实现无差错的传输。</li>
<li>香农定理得出的为极限信息传输速率，实际信道能达到的传输速率要比它低不少。</li>
<li>从香农定理可以看出，若信道带宽W或信噪比S&#x2F;N没有上限（不可能），那么信道的极限信息传输速率就没有上限。</li>
</ul>
<h4 id="奈氏准则和香农定理区别"><a href="#奈氏准则和香农定理区别" class="headerlink" title="奈氏准则和香农定理区别"></a>奈氏准则和香农定理区别</h4><h5 id="奈氏准则（内忧）"><a href="#奈氏准则（内忧）" class="headerlink" title="奈氏准则（内忧）"></a>奈氏准则（内忧）</h5><ul>
<li>带宽受限无噪声条件下，为了避免码间串扰，码元传输速率的上限2W Baud</li>
<li>理想低通信道下的极限数据传输率 &#x3D; 2W log2V</li>
<li>要想提高数据率，就要提高带宽&#x2F;采用更好的编码技术</li>
</ul>
<h5 id="香农定理（外患）"><a href="#香农定理（外患）" class="headerlink" title="香农定理（外患）"></a>香农定理（外患）</h5><ul>
<li>带宽受限有噪声条件下的信息传输速率。</li>
<li>信道的极限数据传输速率 &#x3D; Wlog2（1+S&#x2F;N)</li>
<li>要想提高数据率，就要提高带宽&#x2F;信噪比。</li>
</ul>
<h4 id="编码与调制"><a href="#编码与调制" class="headerlink" title="编码与调制"></a>编码与调制</h4><h5 id="基带信号与带宽信号"><a href="#基带信号与带宽信号" class="headerlink" title="基带信号与带宽信号"></a>基带信号与带宽信号</h5><h6 id="信道"><a href="#信道" class="headerlink" title="信道:"></a>信道:</h6><blockquote>
<p>信号的传输媒介，一般用来表示向某一个方向传送信息的介质，因此一条通信线路往往包含一条发送信道和一条接收信道。</p>
</blockquote>
<ul>
<li><p>按传输信号：</p>
<ul>
<li>模拟信道（传送模拟信号）</li>
<li>数字信道（传送数字信号）</li>
</ul>
</li>
<li><p>按传输介质：</p>
<ul>
<li>无线信道</li>
<li>有线信道</li>
</ul>
</li>
</ul>
<h6 id="信道上传送的信号："><a href="#信道上传送的信号：" class="headerlink" title="信道上传送的信号："></a>信道上传送的信号：</h6><ul>
<li><p>基带信号：</p>
<ul>
<li>将数字信号1和0直接用两种不同的电压表示，再送到数字信道上去传输（基带传输）</li>
<li>来自信源的信号，像计算机输出的代表各种文字或图像文件的数据信号都属于基带信号。基带信号就是发出的直接表达了要传输的信息的信号，比如我们说话的声波就是基带信号。</li>
</ul>
</li>
<li><p>宽带信号：</p>
<ul>
<li>将基带信号进行调制后形成的频分复用模拟信号，再传送到模拟信道上去传输（宽带传输）。</li>
<li>把基带信号经过载波调制后，把信号的频率范围搬移到较高的频段以便在信道中传输（即仅在一段频率范围内能够通过信道）</li>
</ul>
</li>
<li><p>总结：</p>
<ul>
<li>在传输距离较近时，计算机网络采用基带传输方式（近距离衰减小，从而信号内容不易发生变化）</li>
<li>在传输距离较远时，计算机网络采用宽带传输方式（远距离衰减大，即使信号变化大也能最后过滤出来基带信号）</li>
</ul>
</li>
</ul>
<h5 id="编码："><a href="#编码：" class="headerlink" title="编码："></a>编码：</h5><h6 id="数据———-gt-数字信号"><a href="#数据———-gt-数字信号" class="headerlink" title="数据———&gt;数字信号"></a>数据———&gt;数字信号</h6><ul>
<li>数字数据__数字发送器___-&gt; 数字信号</li>
<li>模拟数据___PCM编码器__-&gt;数字信号</li>
</ul>
<h6 id="数字数据编码为数字信号"><a href="#数字数据编码为数字信号" class="headerlink" title="数字数据编码为数字信号"></a>数字数据编码为数字信号</h6><ul>
<li><p>非归零编码【NRZ]</p>
<ul>
<li>高1低0</li>
<li>编码容易实现，但没有检错功能，且无法判断一个码元的开始和结束，以至于收发双方难以保持同步。</li>
<li><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/e955952ddd7c9ea35ebcd512d9ed474bad6be4a719dc1a8c7ae2f2a5f1adbfab.png"></li>
</ul>
</li>
<li><p>曼彻斯特编码</p>
<ul>
<li>曼彻斯特编码(Manchester)又称裂相码、同步码、相位编码，是一种用电平跳变来表示1或0的编码方法，其变化规则很简单，即每个码元均用两个不同相位的电平信号表示，也就是一个周期的方波，但0码和1码的相位正好相反。由于曼彻斯特码在每个时钟位都必须有一次变化，因此，其编码的效率仅可达到50%左右，位中间的跳变既作时钟信号（可用于同步），又作数据信号，但它所占的频带宽度是原始的基带宽度的两倍。每一个码元都被调成两个电平，所以数据传输速率只有调制速率的1&#x2F;2.</li>
<li><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/d2db19f1ec0e6a807cf9f9a0eeadd8e67b0d231406017dc922bb1e21cf694500.png"></li>
</ul>
</li>
<li><p>差分曼彻斯特编码</p>
<ul>
<li>同1异0</li>
<li>常用于局域网传输，其规则是：若码元为1，则前半个码元的电平与上一个码元的后半个码元的电平相同，若为0，则相反。该编码的特点是，在每个码元的中间，都有一次电平的跳转，可以实现自同步，且抗干扰性强于曼彻斯特编码。</li>
<li><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/bb67f7aa73890884dfaa7896d59725e7388dd4a17aa777b94881b539166e4cd5.png"></li>
</ul>
</li>
<li><p>归零编码【RZ】</p>
<ul>
<li>信号电平在一个码元之内都有恢复到零的这种编码成编码方式。</li>
<li><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/0c4a2ab225cbde44b78bd054efba3741f301a63c14f271b9c67fdd0be865bceb.png"></li>
</ul>
</li>
<li><p>反向不归零编码【NRZI】</p>
<ul>
<li>信号电平翻转表示0，信号电平不变表示1.</li>
<li><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/9ffa8e9603d321e94116dbad43ae9e6ed71bfee0f81970727758e533633c5e5a.png"></li>
</ul>
</li>
<li><p>4B&#x2F;5B编码</p>
<ul>
<li>比特流中插入额外的比特以打破一连串的0或1，就是用5个比特来编码4个比特的数据，之后再传给接收方，因此称为4B&#x2F;5B。编码效率为80%。</li>
<li>只采用16种对应16种不同的4位码，其他的16种作为控制码（帧的开始和结束，线路的状态信息等）或保留。</li>
<li><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/1056c2249ba93d9a9da8499b70bf891ee0034a63641cfe2baa5409e8036d6ba2.png"></li>
</ul>
</li>
</ul>
<h6 id="模拟数据编码为数字信号："><a href="#模拟数据编码为数字信号：" class="headerlink" title="模拟数据编码为数字信号："></a>模拟数据编码为数字信号：</h6><ul>
<li><p>计算机内部处理的是二进制数据，处理的都是数字音频，所以需要将模拟音频通过采样、量化转换成有限个数字表示的离散序列（即实现音频数字化）。</p>
</li>
<li><p>最典型的例子就是对音频信号进行编码的脉冲调制（PCM),在计算机应用中，能够达到最高保真水平的就是PCM编码，被广泛用于素材保存及音乐欣赏，CD、DVD以及我们常见的WAV文件中均有应用。它主要包括三步：抽样、量化、编码。</p>
<ul>
<li><p>抽样：</p>
<ul>
<li>对模拟信号周期性扫描，把时间上连续的信号变成时间上离散的信号。</li>
<li>为了使所得的离散信号能无失真地代表被抽样的模拟数据，要使用采样定理进行采样：f采样频率 &gt;&#x3D; 2f信号最高频率</li>
</ul>
</li>
<li><p>量化：</p>
<ul>
<li>把抽样取得的电平幅值按照一定的分级标度转化为对应的数字值，并取整数，这就把连续的电平幅值转换为离散的数字值。</li>
</ul>
</li>
<li><p>编码：</p>
<ul>
<li>把量化的结果转换为与之对应的二进制编码。</li>
</ul>
</li>
</ul>
</li>
</ul>
<h5 id="调制："><a href="#调制：" class="headerlink" title="调制："></a>调制：</h5><h6 id="数据—–-gt-模拟信号"><a href="#数据—–-gt-模拟信号" class="headerlink" title="数据—–&gt;模拟信号"></a>数据—–&gt;模拟信号</h6><ul>
<li>数字数据___调制器___-&gt;模拟信号</li>
<li>模拟数据____放大器调制器___-&gt;模拟信号</li>
</ul>
<h6 id="数字数据调制为模拟信号"><a href="#数字数据调制为模拟信号" class="headerlink" title="数字数据调制为模拟信号"></a>数字数据调制为模拟信号</h6><ul>
<li><p>数字数据调制技术在发送端将数字信号转换为模拟信号，而在接收端将模拟信号还原为数字信号，分别对应于调制解调器的调制和解调过程。</p>
</li>
<li><p>调幅（2ASK)</p>
<ul>
<li><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/f073b0c9c6e8d487e561933e3aa12fab49365d0a28a8d1d3f92f2f20eca03392.png"></li>
<li><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/a1cde732f6504fb22abd486c864483feb86096e0d938e912cb5792e3c4c86498.png"></li>
</ul>
</li>
<li><p>调频（2FSK)</p>
<ul>
<li><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/f073b0c9c6e8d487e561933e3aa12fab49365d0a28a8d1d3f92f2f20eca03392.png"></li>
<li><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/ba3cb6e14f503589b214d1baa9e7ad931aeebc40228525f6f05164ff6b59e7dc.png"></li>
</ul>
</li>
<li><p>调相（2PSK)</p>
<ul>
<li><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/f073b0c9c6e8d487e561933e3aa12fab49365d0a28a8d1d3f92f2f20eca03392.png"></li>
<li><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/417f9399d85860dd5ea2f5f4bea6780069e939619c4bbe34a46a1d97ab218fc4.png"></li>
</ul>
</li>
<li><p>调幅+调相（QAM)</p>
</li>
</ul>
<h6 id="模拟数据调制为模拟信号"><a href="#模拟数据调制为模拟信号" class="headerlink" title="模拟数据调制为模拟信号"></a>模拟数据调制为模拟信号</h6><blockquote>
<p>为了实现传输的有效性，可能需较高的频率。这种调制方式还可以使用频分复用技术，充分利用带宽资源。在电话机和本地交换机所传输的信号是采用模拟信号传输模拟数据的方式：模拟的声音数据是加载到模拟的载波信号中传输的。</p>
</blockquote>
<h3 id="物理层传输介质及分类："><a href="#物理层传输介质及分类：" class="headerlink" title="物理层传输介质及分类："></a>物理层传输介质及分类：</h3><blockquote>
<p>传输介质也称传输媒体&#x2F;传输媒介，它就是数据传输系统中在发送设备和接收设备之间的物理通路。</p>
</blockquote>
<h4 id="传输媒体并不是物理层。"><a href="#传输媒体并不是物理层。" class="headerlink" title="传输媒体并不是物理层。"></a>传输媒体并不是物理层。</h4><ul>
<li>传输媒体在物理层的下面，因为物理层是体系结构的第一层，因此有时称传输媒体为0层。在传输媒体中传输的是信号，但传输媒体并不知道传输的信号代表什么意思。</li>
<li>但物理层规定了电气特性，因此能够识别所传送的比特流。</li>
</ul>
<h4 id="传输介质：-1"><a href="#传输介质：-1" class="headerlink" title="传输介质："></a>传输介质：</h4><h5 id="导向性传输介质"><a href="#导向性传输介质" class="headerlink" title="导向性传输介质"></a>导向性传输介质</h5><p>电磁波被导向沿着固定媒体（铜线&#x2F;光纤）传播。</p>
<h6 id="双绞线"><a href="#双绞线" class="headerlink" title="双绞线"></a>双绞线</h6><blockquote>
<p>双绞线是古老，又常用的传输介质，它由两根采用一定规则并排绞合的、相互绝缘的铜导线组成。【绞合可以减少对相邻导线的电磁干扰。】</p>
</blockquote>
<ul>
<li><p>无屏蔽双绞线</p>
<ul>
<li><p>无屏蔽层的双绞线就称为非屏障双绞线（UTP).</p>
</li>
<li><p><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/60885c7fb67558e732aeeb5c015d0a56a6d388cb8dd1a4ae2f8533db36524082.png"></p>
<ul>
<li><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/6797cae2019626e4fc5bcb3dc134d4fd04ccd40f480b4f603430c697c2c61da1.png"></li>
</ul>
</li>
</ul>
</li>
<li><p>屏蔽双绞线</p>
<ul>
<li><p>为了进一步提高电磁干扰能力，可在双绞线的外面再加上一个由金属丝编织成的屏蔽层，这就是屏蔽双绞线（STP)</p>
</li>
<li><p><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/5e85ad519eef0db2742e7683bae75b476449bf18c85698cafd22a5c059e9e14d.png"></p>
<ul>
<li><p><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/a735e51d114d6764658d5c86d6a26324ff7f99e96b82425917dbae06b585a531.png"></p>
<p>双绞线价格便宜，是最常用的传输介质之一，在局域网和传统电话网中普遍使用。模拟传输和数字传输都可以使用双绞线，其通信距离一般为几公里到数十公里。距离太远时，对于模拟传输，要用放大器放大衰减的信号；对于数字传输，要用中继器将失真的信号整型。</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h6 id="同轴电缆"><a href="#同轴电缆" class="headerlink" title="同轴电缆"></a>同轴电缆</h6><blockquote>
<p>同轴电缆由导体铜质芯线、绝缘层、网状屏蔽层和塑料外层构成。</p>
</blockquote>
<ul>
<li><p>按特性阻抗数值的不同：</p>
<ul>
<li>50欧姆同轴电缆主要用于传送基带数字信号，又称基带同轴电缆，在局域网中得到了广泛的应用。</li>
<li>75欧姆同轴电缆主要用于传送宽带信号，又称为宽带同轴电缆，它主要用于有线电视系统。</li>
</ul>
<p><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/c2027e20dd7e117399eedb699549c195175d3b589f326c3e8db085b2ea48da7d.png"></p>
</li>
</ul>
<h6 id="光纤"><a href="#光纤" class="headerlink" title="光纤"></a>光纤</h6><ul>
<li><p>光纤通信就是光导纤维（简称光纤）传递光脉冲来进行通信。有光脉冲表示1，无光脉冲表示0.而可见光的频率大约是10的8次方MHz，因为光纤通信系统的带宽远远大于目前其他各种传输媒体的带宽。</p>
<ul>
<li>光纤在发送端有光源，可以采用发光二极管或半导体激光器，它们在电脉冲作用下能产生出光脉冲；在接收端用光电二极管做成光检测器，在检测到光脉冲时可还原出电脉冲。</li>
</ul>
</li>
<li><p>光纤主要由纤芯（实心的！）和包层构成，光波通过纤芯进行传导，包层较纤芯有较低的折射率。当光线从高折射率的介质射向低折射率的介质时，其折射角将大于入射角。因此，如果入射角足够大，就会出现全反射，即光线碰到包层时候就会折射回纤芯、这个过程不断重复，光也就沿着光纤传输下去。</p>
</li>
<li><p><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/6e251522c04a115548ef03b299b5fcef133a910bc0bbb9c08efd411dad6300e0.png"></p>
</li>
<li><p>按射入光线的条数</p>
<ul>
<li><p>多模脉冲</p>
<ul>
<li><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/abcdb6252cfdd62f0ef3a75a97effecaf49840b9b615d0113ababfa82f967a4b.png"></li>
</ul>
</li>
<li><p>单模光纤</p>
<ul>
<li><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/befcfb726fbcbee3f3af4b37284242370cf5d9819ced9aa8a19b984dbde52b5a.png"></li>
</ul>
</li>
<li><p><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/bcb4a0e12ef5b577631dd7652ea0092a272e0ba0b5ce7e4c08805e1833b7a883.png"></p>
</li>
</ul>
</li>
<li><p>特点：</p>
<ul>
<li>传输损耗小，中继距离长，对远距离传输特别经济。</li>
<li>抗雷电和电磁干扰性能好。</li>
<li>无串音干扰，保密性好，也不易被窃听或截取数据。</li>
<li>体积下，重量轻。</li>
</ul>
</li>
</ul>
<h5 id="非导向性传输介质"><a href="#非导向性传输介质" class="headerlink" title="非导向性传输介质"></a>非导向性传输介质</h5><h6 id="自由空间，介质可以是空气、真空、海水等。"><a href="#自由空间，介质可以是空气、真空、海水等。" class="headerlink" title="自由空间，介质可以是空气、真空、海水等。"></a>自由空间，介质可以是空气、真空、海水等。</h6><h6 id="无线电波"><a href="#无线电波" class="headerlink" title="无线电波"></a>无线电波</h6><ul>
<li>信号向所有方向传播</li>
<li>较强的穿透能力，可传远距离，广泛用于通信领域（如手机通信）。</li>
</ul>
<h6 id="微波"><a href="#微波" class="headerlink" title="微波"></a>微波</h6><blockquote>
<p>信号向固定方向传播</p>
</blockquote>
<ul>
<li><p>微波通信频率较高、频段范围宽，因此数据率很高。</p>
<ul>
<li><p>地面微波接力通信</p>
</li>
<li><p>卫星通信</p>
<ul>
<li><p>优点</p>
<ul>
<li>通信容量大</li>
<li>距离远</li>
<li>覆盖广</li>
<li>广播通信和多址通信</li>
</ul>
</li>
<li><p>缺点</p>
<ul>
<li>传播时延长（250-270ms）</li>
<li>受气候影响大（eg：强风、太阳黑子爆发、日凌）</li>
<li>误码率较高</li>
<li>成本高</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h6 id="红外线、激光"><a href="#红外线、激光" class="headerlink" title="红外线、激光"></a>红外线、激光</h6><ul>
<li>信号向固定方向传播</li>
<li>把要传输的信号分别转换为各自的信号格式，即红外光信号和激光信号，再在空间中传播。</li>
</ul>
<h3 id="物理层设备"><a href="#物理层设备" class="headerlink" title="物理层设备"></a>物理层设备</h3><h4 id="中继器"><a href="#中继器" class="headerlink" title="中继器"></a>中继器</h4><h5 id="诞生原因："><a href="#诞生原因：" class="headerlink" title="诞生原因："></a>诞生原因：</h5><ul>
<li>由于存在损耗，在线路上传输的信号功率会逐渐衰减，衰减到一定程度将造成信号失真，因此会导致接收错误。</li>
</ul>
<h5 id="功能："><a href="#功能：" class="headerlink" title="功能："></a>功能：</h5><ul>
<li>对信号进行再生和还原，对衰减的信号进行放大，保持与原数据相同，以增加信号传输的距离，延长网络的长度。【再生数字信号】</li>
</ul>
<h5 id="中继器的两端："><a href="#中继器的两端：" class="headerlink" title="中继器的两端："></a>中继器的两端：</h5><ul>
<li>两端的网络部分是网段，而不是子网，适用于完全相同的两类网络的互连，且两个网段速率要相同。</li>
<li>中继器只将任何电缆段上的数据发送到另一段电缆上，它仅作用于信号的电气部分，并不管数据中是否有错误数据或不适于网段的数据。</li>
<li>两端可连相同媒体，也可连不同媒体。</li>
<li>中继器的两端的网段一定要是同一个协议。（中继器不会存储转发）</li>
</ul>
<h5 id="5-4-3规则："><a href="#5-4-3规则：" class="headerlink" title="5-4-3规则："></a>5-4-3规则：</h5><ul>
<li>网络标准中都对信号的延迟范围作了具体的规定，因而中继器只能在规定的范围内进行，否则会网络故障。</li>
<li><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/1ef5280dd7d485fdc610370ef287c1b232fcbe00d3a1dd794a83a0fccc9b7c97.png" alt="最多不超过五个网段，在五个网段中最多有四个物理层网络设备，只有三个段可以挂接计算机。"></li>
</ul>
<h4 id="集线器（多口中继器）"><a href="#集线器（多口中继器）" class="headerlink" title="集线器（多口中继器）"></a>集线器（多口中继器）</h4><h5 id="功能：-1"><a href="#功能：-1" class="headerlink" title="功能："></a>功能：</h5><p>对信号进行再生放大转发，对衰减的信号进行放大，接着转发到其他所有（除输入端口外）处于工作状态的端口上，以增加信号传输的距离，延长网络的长度。不具备信号的定向传送能力，是一个共享式设备。</p>
<h5 id="集线器不能分割冲突域。"><a href="#集线器不能分割冲突域。" class="headerlink" title="集线器不能分割冲突域。"></a>集线器不能分割冲突域。</h5><p>连在集线器上的工作主机平方带宽。</p>
<h2 id="数据链路层-1"><a href="#数据链路层-1" class="headerlink" title="数据链路层"></a>数据链路层</h2><h3 id="数据链路层基本概念："><a href="#数据链路层基本概念：" class="headerlink" title="数据链路层基本概念："></a>数据链路层基本概念：</h3><h4 id="结点："><a href="#结点：" class="headerlink" title="结点："></a>结点：</h4><blockquote>
<p>主机、路由器</p>
</blockquote>
<h4 id="链路："><a href="#链路：" class="headerlink" title="链路："></a>链路：</h4><blockquote>
<p>网络中两个结点之间的物理通道，链路的传输介质主要有双绞线、光纤和微波。分为有线链路、无线链路。</p>
</blockquote>
<h4 id="数据链路："><a href="#数据链路：" class="headerlink" title="数据链路："></a>数据链路：</h4><blockquote>
<p>网络中两个结点之间的逻辑通道，把实现控制数据传输协议的硬件和软件加到链路上就构成数据链路。</p>
</blockquote>
<h4 id="帧："><a href="#帧：" class="headerlink" title="帧："></a>帧：</h4><blockquote>
<p>链路层的协议数据单元，封装网络层数据报。</p>
</blockquote>
<p>数据链路层负责通过一条链路从一个结点向另一个物理链路直接相连的相邻结点传送数据报。</p>
<h3 id="链路层的功能："><a href="#链路层的功能：" class="headerlink" title="链路层的功能："></a>链路层的功能：</h3><blockquote>
<p>数据链路层在物理层提供服务的基础上向网络层提供服务，其最基本的服务是将源自网络层来的数据可靠地传输到相邻节点的目标机网络层。其主要作用是加强物理层传输原始比特流的功能，将物理层提供的可能出错的物理连接改造成为逻辑上无差错的数据链路，使之对网络层表现为一条无差错的链路。</p>
</blockquote>
<h4 id="为网络层提供服务："><a href="#为网络层提供服务：" class="headerlink" title="为网络层提供服务："></a>为网络层提供服务：</h4><h5 id="无确认无连接服务"><a href="#无确认无连接服务" class="headerlink" title="无确认无连接服务"></a>无确认无连接服务</h5><ul>
<li>通信质量好</li>
<li>有线传输链路</li>
</ul>
<h5 id="有确认无连接服务"><a href="#有确认无连接服务" class="headerlink" title="有确认无连接服务"></a>有确认无连接服务</h5><ul>
<li>通信质量差的无线传输链路</li>
</ul>
<h5 id="有确认面向连接服务"><a href="#有确认面向连接服务" class="headerlink" title="有确认面向连接服务"></a>有确认面向连接服务</h5><ul>
<li>通信质量差的无线传输链路</li>
</ul>
<h4 id="链路管理【用于面向连接的服务】："><a href="#链路管理【用于面向连接的服务】：" class="headerlink" title="链路管理【用于面向连接的服务】："></a>链路管理【用于面向连接的服务】：</h4><ul>
<li>连接的建立</li>
<li>维持</li>
<li>释放</li>
</ul>
<h5 id="组帧："><a href="#组帧：" class="headerlink" title="组帧："></a>组帧：</h5><h6 id="封装成帧："><a href="#封装成帧：" class="headerlink" title="封装成帧："></a>封装成帧：</h6><ul>
<li><p><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/0cefc2e4fcb5ba596b8f7249c40a08c9557f480b0a9ab26327f452a06fc0f916.png"></p>
</li>
<li><p>封装成帧就是在一段数据的前后部分添加首部和尾部，这样就构成了一个帧。接收端在收到物理层上交的比特流后，就能根据首部和尾部的标记，从收到的比特流中识别帧的开始和结束</p>
</li>
<li><p>首部和尾部包含许多的控制信息，他们的一个重要作用:帧定界（确定帧的界限）。</p>
</li>
<li><p>帧同步：</p>
<ul>
<li>接收方应当能从接收到的二进制比特流中区分出帧的起始和终止。</li>
</ul>
</li>
</ul>
<h6 id="透明传输："><a href="#透明传输：" class="headerlink" title="透明传输："></a>透明传输：</h6><ul>
<li>透明传输是指不管所传数据是什么样的比特组合，都应当能够在链路上传送。因此，链路层就“看不见”有什么妨碍数据传输的东西。</li>
<li>当所传数据中的比特组合恰巧与某一个控制信息完全一样时，就必须采取适当的措施，使收方不会将这样的数据误认为是某种控制信息。这样才能保证数据链路层的传输是透明的。</li>
</ul>
<h6 id="组帧的四种方法："><a href="#组帧的四种方法：" class="headerlink" title="组帧的四种方法："></a>组帧的四种方法：</h6><ul>
<li><p>字符计数法</p>
<ul>
<li><p><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/70f78a4fb46b056d09640979adf9fdf4c04f62e73099880ab5a4f9f8282c3401.png"></p>
</li>
<li><p>帧首部使用一个计数字段（第一个字节，八位）来标明帧内字符数。</p>
</li>
<li><p>缺点：</p>
<ul>
<li>容易一错全错。</li>
</ul>
</li>
</ul>
</li>
<li><p>字符（节）填充法</p>
<ul>
<li><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/df77f8e3df514576fce173cd3d21e868d738eb0a823408b5e57afd6f38af4eca.png"></li>
</ul>
</li>
<li><p>零比特填充法</p>
<ul>
<li><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/1b53e0afba2141730fb61ab288701f69c920dc5d666753428bf1e94b41cce5bb.png"></li>
<li>保证了透明传输:在传送的比特流中可以传送任意比特组合，而不会引起对帧边界的判断错误。</li>
</ul>
</li>
<li><p>违规编码法</p>
<ul>
<li><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/2c27e2fc0eba438ce7f6b7425b1723286a451fce51a3f81a3cb82f1495b5c6c9.png"></li>
<li>可以用“高-高”，“低-低”来定界帧的起始和终止。</li>
</ul>
<p>由于字节计数法中Count字段的脆弱性（其值若有差错将导致灾难性后果〉及字符填充实现上的复杂性和不兼容性，目前较普遍使用的帧同步法是比特填充和违规编码法。</p>
</li>
</ul>
<h5 id="流量控制与可靠传输机制："><a href="#流量控制与可靠传输机制：" class="headerlink" title="流量控制与可靠传输机制："></a>流量控制与可靠传输机制：</h5><blockquote>
<p>较高的发送速度和较低的接收能力的不匹配，会造成传输出错，因此流量控制也是数据链路层的一项重要工作。</p>
</blockquote>
<h6 id="流量控制在不同层："><a href="#流量控制在不同层：" class="headerlink" title="流量控制在不同层："></a>流量控制在不同层：</h6><ul>
<li><p>数据链路层：</p>
<ul>
<li>数据链路层的流量控制是点对点的。</li>
<li>数据链路层流量控制手段:接收方收不下就不回复确认。</li>
</ul>
</li>
<li><p>传输层：</p>
<ul>
<li>传输层的流量控制是端到端的。</li>
<li>传输层流量控制手段:接收端给发送端一个窗口公告。</li>
</ul>
</li>
</ul>
<h6 id="流量控制方法："><a href="#流量控制方法：" class="headerlink" title="流量控制方法："></a>流量控制方法：</h6><ul>
<li><p>停止-等待协议：</p>
<ul>
<li><p>每发送完一个帧就停止发送,等待对方的确认，在收到确认后再发送下一个帧。</p>
</li>
<li><p><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/86476c5d33b14f214e5d345a56960854f95b788d257a0aab491617a4bb5005f3.png"></p>
</li>
<li><p>发送窗口大小&#x3D;1，接收窗口大小&#x3D;1;</p>
</li>
<li><p>为什么要有停止-等待协议：</p>
<ul>
<li><p>除了比特出差错，底层信道还会出现丢包问题。</p>
<ul>
<li>丢包:物理线路故障、设备故障、病毒攻击、路由信息错误等原因，会导致数据包的丢失。</li>
</ul>
</li>
<li><p>为了实现流量控制。</p>
</li>
</ul>
</li>
<li><p>研究停等协议的前提：</p>
<ul>
<li>虽然现在常用全双工通信方式，但为了讨论问题方便，仅考虑一方发送数据（发送方)，一方接收数据（接收方）。</li>
<li>因为是在讨论可靠传输的原理，所以并不考虑数据是在哪一个层次上传送的。</li>
<li>“停止-等待”就是每发送完一个分组就停止发送，等待对方确认，在收到确认后再发送下一个分组。</li>
</ul>
</li>
<li><p>停等协议的应用情况：</p>
<ul>
<li><p>无差错情况</p>
<ul>
<li><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/a4a1c0b758b4e9f06b35e27cc8761d6893977e69aa7a4796e8d141d558b499fc.png"></li>
</ul>
</li>
<li><p>有差错情况</p>
<ul>
<li><p>数据帧丢失或检测到帧出错</p>
<ul>
<li><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/cd98bbf99a36b935fcad1d36a8e1d1ef87fe67849badbd8a404c69c5818c21cb.png"></li>
<li>发完一个帧后，必须保留它的副本。</li>
<li>数据帧和确认帧必须编号。</li>
</ul>
</li>
<li><p>ACK丢失</p>
<ul>
<li><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/3ed31b3691b1d44356edd7f00f43201ef30d95ce27c72a76e838c8f1b4542463.png"></li>
</ul>
</li>
<li><p>ACK迟到</p>
<ul>
<li><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/f7a04cabaccb22b930c8fd9585fcd582dc9bf7cc1ce848e48240c910bf34f371.png"></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>停等协议性能分析：</p>
<ul>
<li><p>优点：</p>
<ul>
<li>简单</li>
</ul>
</li>
<li><p>缺点：</p>
<ul>
<li><p><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/2fd4546081251b77cc0e79b6965d0d071851e23f12c897ba309c74376230cb19.png"></p>
</li>
<li><p>信道利用率太低</p>
<ul>
<li>信道利用率：发送方在一个发送周期内,有效地发送数据所需要的时间占整个发送周期的比率。</li>
<li><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/875db2e25ed4a2a59bd66b5815a5d26eb00f2a5b9b072da2e3fa29a969a19802.png"></li>
<li>信道吞吐率&#x3D;信道利用率*发送方的发送速率</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>停等协议的弊端：</p>
<ul>
<li>必须增加序号范围。</li>
<li>发送方需要缓存多个分组。</li>
</ul>
</li>
</ul>
</li>
<li><p>滑动窗口协议：</p>
<ul>
<li><p>后退N帧协议（GBN）</p>
<ul>
<li><p>发送窗口大小&gt;1，接收窗口大小&#x3D;1;</p>
</li>
<li><p>滑动窗口</p>
<ul>
<li><p>发送窗口</p>
<ul>
<li>发送方维持一组连续的允许发送的帧的序号。</li>
</ul>
</li>
<li><p>接收窗口</p>
<ul>
<li>接收方维持一组连续的允许接收帧的序号。</li>
</ul>
</li>
<li><p>滑动窗口长度：</p>
<ul>
<li>若采用n个比特对帧编号，那么发送窗口的尺寸Wt,应满足: 1≤Wt&lt;2n次方-1。因为发送窗口尺寸过大，就会使得接收方无法区别新帧和旧帧。</li>
</ul>
</li>
</ul>
</li>
<li><p>GBN发送方必须响应的三件事</p>
<ul>
<li><p>上层的调用</p>
<ul>
<li>上层要发送数据时，发送方先检查发送窗口是否已满，如果未满，则产生一个帧并将其发送;如果窗口已满.发送方只需将数据返回给上层，暗示上层窗口已满。上层等一会再发送。(实际实现中，发送方可以缓存这些数据，窗口不满时再发送帧)。</li>
</ul>
</li>
<li><p>收到了一个ACK</p>
<ul>
<li>GBN协议中，对n号帧的确认采用累积确认的方式，标明接收方已经收到n号帧和它之前的全部帧。</li>
</ul>
</li>
<li><p>超时事件</p>
<ul>
<li>协议的名字为后退N帧&#x2F;回退N帧，来源于出现丢失和时延过长帧时发送方的行为。就像在停等协议中一样，定时器将再次用于恢复数据帧或确认帧的丢失。如果出现超时，发送方重传所有已发送但未被确认的帧。</li>
</ul>
</li>
</ul>
</li>
<li><p>GBN接收方要做的事</p>
<ul>
<li>如果正确收到n号帧，并且按序，那么接收方为n帧发送一个ACK，并将该帧中的数据部分交付给上层。</li>
<li>其余情况都丢弃帧，并为最近按序接收的帧重新发送ACK。接收方无需缓存任何失序帧，只需要维护一个信息:expectedseqnum(下一个按序接收的帧序号)。</li>
</ul>
</li>
<li><p>GBN协议重点总结：</p>
<ul>
<li>1.累积确认（偶尔捎带确认)</li>
<li>2接收方只按顺序接收帧,不按序无情丢弃</li>
<li>3.确认序列号最大的、按序到达的帧</li>
<li>4.发送窗口最大为2的n次方-1，接收窗口大小为1</li>
</ul>
</li>
<li><p>GBN协议性能分析：</p>
<ul>
<li><p>优点：</p>
<ul>
<li>因连续发送数据帧而提高了信道利用率</li>
</ul>
</li>
<li><p>缺点：</p>
<ul>
<li>在重传时必须把原来已经正确传送的数据帧重传，使传送效率降低</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>选择重传协议(SR)</p>
<ul>
<li><p>发送窗口大小&gt;1，接收窗口大小&gt;1;</p>
</li>
<li><p>SR发送方必须响应的三件事</p>
<ul>
<li><p>上层的调用</p>
<ul>
<li>从上层收到数据后，SR发送方检查下一个可用于该帧的序号，如果序号位于发送窗口内，则发送数据帧;否则就像GBN一样，要么将数据缓存，要么返回给上层之后再传输。</li>
</ul>
</li>
<li><p>收到了一个ACK</p>
<ul>
<li>如果收到ACK，加入该帧序号在窗口内，则SR发送方将那个被确认的帧标记为已接收。如果该帧序号是窗口的下界（最左边第一个窗口对应的序号），则窗口向前移动到具有最小序号的未确认帧处。如果窗口移动了并且有序号在窗口内的未发送帧，则发送这些帧。</li>
</ul>
</li>
<li><p>超时事件</p>
<ul>
<li>每个帧都有自己的定时器，一个超时事件发生后只重传一个帧。</li>
</ul>
</li>
</ul>
</li>
<li><p>SR接收方要做的事</p>
<ul>
<li><p>来者不拒（窗口内的帧）</p>
<ul>
<li>SR接收方将确认一个正确接收的帧而不管其是否按序。失序的帧将被缓存，并返回给发送方一个该帧的确认帧【收谁确认谁】，直到所有帧（即序号更小的帧）皆被收到为止，这时才可以将一批帧按序交付给上层，然后向前移动滑动窗口。</li>
<li>如果收到了窗口序号外(小于窗口下界)的帧，就返回一个ACK。</li>
</ul>
</li>
</ul>
</li>
<li><p>滑动窗口长度</p>
<ul>
<li><p>发送窗口最好等于接收窗口。（大了会溢出，小了没意义）</p>
</li>
<li><p>WTmay&#x3D;WRmax  &#x3D;  2的(n-1)次方</p>
<ul>
<li>n：是多少比特来标志</li>
</ul>
</li>
</ul>
</li>
<li><p>SR协议重点总结：</p>
<ul>
<li>对数据帧逐一确认，收一个确认一个。</li>
<li>只重传出错帧</li>
<li>接收方有缓存</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h5 id="差错控制（帧错-x2F-位错）："><a href="#差错控制（帧错-x2F-位错）：" class="headerlink" title="差错控制（帧错&#x2F;位错）："></a>差错控制（帧错&#x2F;位错）：</h5><blockquote>
<p>概括来说，传输中的差错都是由于噪声引起的。</p>
</blockquote>
<ul>
<li><p>全局性：</p>
<ul>
<li>1.由于线路本身电气特性所产生的随机噪声(热噪声)，是信道固有的，随机存在的。</li>
<li>解决办法:提高信噪比来减少或避免干扰。(对传感器下手)</li>
</ul>
</li>
<li><p>局部性：</p>
<ul>
<li>2.外界特定的短暂原因所造成的冲击噪声，是产生差错的主要原因。</li>
<li>解决办法:通常利用编码技术来解决。</li>
</ul>
</li>
</ul>
<h6 id="差错："><a href="#差错：" class="headerlink" title="差错："></a>差错：</h6><ul>
<li><p>位错：</p>
<ul>
<li>【比特位出错，1变成o，0变成1。】</li>
</ul>
</li>
<li><p>帧错（[#1]-[#2]-[#3]）：</p>
<ul>
<li>丢失:收到[#1]-[#3]</li>
<li>重复:收到[#1]-[#2]-[#2]-[#3]</li>
<li>失序:收到[#1]-[#3]-[#2]</li>
</ul>
</li>
</ul>
<h6 id="差错控制（比特错）："><a href="#差错控制（比特错）：" class="headerlink" title="差错控制（比特错）："></a>差错控制（比特错）：</h6><ul>
<li><p>检错编码</p>
<ul>
<li><p>奇偶校验码</p>
<ul>
<li><p>n-1位信息元<br>1位校验元</p>
</li>
<li><p>奇校验码</p>
<ul>
<li><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/2238bb8558b4b29b02a9d09e7fa228c0827eae15f041905bd6e3b333aff46323.png"></li>
<li>特点：只能检查出奇数个比特错误，检错能力为50%。</li>
</ul>
</li>
<li><p>偶校验码</p>
<ul>
<li><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/d4482ad6d5680d8fc4f67dc9e061a438643ee277d769363a89b9876dd32e1fd2.png"></li>
</ul>
</li>
</ul>
</li>
<li><p>循环冗余码CRC</p>
<ul>
<li><p><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/4d4514c10ba321fdcc8eb171e97e0c6956a8c6290f60fe56ca8bc365dad6ce12.png"></p>
</li>
<li><p>最终发送的数据：</p>
<ul>
<li>要发送的数据+帧检验序列FCS</li>
</ul>
</li>
<li><p>计算冗余码：</p>
<ul>
<li>加0      假设生成多项式G(x)的阶为r，则加r个0。</li>
<li>模2除法      数据加o后除以多项式，余数为冗余码&#x2F;FCS&#x2F;<br>CRC检验码的比特序列。</li>
</ul>
</li>
<li><p>接收端检错过程：</p>
<ul>
<li>把收到的每一个帧都除以同样的除数，然后检查得到的余数R。</li>
<li>1.余数为0，判定这个帧没有差错，接受。</li>
<li>2.余数为不为o，判定这个帧有差错（无法确定到位)，丢弃。</li>
<li>FCS的生成以及接收端CRC检验都是由硬件实现，处理很迅速，因此不会延误数据的传输。</li>
</ul>
</li>
<li><p>在数据链路层仅仅使用循环冗余检验CRC差错检测技术，只能做到对帧的无差错接收，即“凡是接收端数据链路层接受的帧，我们都能以非常接近于1的概率认为这些帧在传输过程中没有产生差错”。接收端丢弃的帧虽然曾收到了，但是最终还是因为有差错被丢弃。“凡是接收端数据链路层接收的帧均无差错”。</p>
<ul>
<li>“可靠传输”  : 数据链路层发送端发送什么，接收端就收到什么。</li>
<li>链路层使用CRC检验，能够实现无比特差错的传输，但这还不是可靠传输。</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>纠错编码</p>
<ul>
<li><p>海明码</p>
<ul>
<li><p>发现双比特错，纠正单比特错。</p>
</li>
<li><p>工作原理；</p>
<ul>
<li>动一发而牵全身</li>
</ul>
</li>
<li><p>工作流程：</p>
<ul>
<li><p>确定校验码位数r</p>
<ul>
<li><p>海明不等式</p>
<ul>
<li>2的r次方 &gt; k+r+1<br>r为冗余信息位，k为信息位</li>
</ul>
</li>
<li><p>例：要发送的数据：  D &#x3D; 101101</p>
<ul>
<li>数据的位数k&#x3D;6,<br>满足不等式的最小r为4，<br>也就是D&#x3D;101101的海明码应该有6+4&#x3D;10位，其中原数据6位，效验码4位。</li>
</ul>
</li>
</ul>
</li>
<li><p>确定校验码和数据的位置</p>
<ul>
<li><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/a5dfc4dbe129496ff360eeb79763cacbccd0466adbb38b825907903d152454ab.png"></li>
</ul>
</li>
<li><p>求出校验码的值</p>
<ul>
<li>令所有要检验的位异或 &#x3D; 0。 </li>
<li><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/0387ef41788865abe965e9df50c267e75cc513fd1d298cc172ae28decb9e5eb8.png"></li>
</ul>
</li>
<li><p>检错并纠错</p>
<ul>
<li>令所有要校验的位异或运算。</li>
<li><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/bf1efcbca2d92f0b33da941d6259fb286977cc0946c5c4da260b9e41b6cd19e1.png"></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h6 id="编码：-1"><a href="#编码：-1" class="headerlink" title="编码："></a>编码：</h6><ul>
<li><p>数据链路层编码和物理层的数据编码与调制不同。</p>
</li>
<li><p>数据链路层</p>
<ul>
<li>而数据链路层的编码针对的是一组比特,它通过冗余码的技术实现一组二进制比特串在传输过程是否出现了差错。</li>
</ul>
</li>
<li><p>物理层</p>
<ul>
<li>物理层编码针对的是单个比特，解决传输过程中比特的同步等问题,如曼彻斯特编码。</li>
</ul>
</li>
<li><p>冗余编码：</p>
<ul>
<li>在数据发送之前，先按某种关系附加上一定的冗余位，构成一个符合某一规则的码字后再发送。当要发送的有效数据变化时，相应的冗余位也随之变化，使码字遵从不变的规则。接收端根据收到码字是否仍符合原规则，从而判断是否出错。</li>
</ul>
</li>
</ul>
<h3 id="介质访问控制："><a href="#介质访问控制：" class="headerlink" title="介质访问控制："></a>介质访问控制：</h3><blockquote>
<p>介质访问控制的内容就是，采取一定的措施，使得两对节点之间的通信不会发生互相干扰的情况。</p>
</blockquote>
<h4 id="协议："><a href="#协议：" class="headerlink" title="协议："></a>协议：</h4><h5 id="信道划分介质访问控制-MAC-Multiple-Access-Control-协议"><a href="#信道划分介质访问控制-MAC-Multiple-Access-Control-协议" class="headerlink" title="信道划分介质访问控制(MAC Multiple Access Control)协议:"></a>信道划分介质访问控制(MAC Multiple Access Control)协议:</h5><ul>
<li>基于多路复用技术划分资源。</li>
<li>网络负载重:共享信道效率高，且公平</li>
<li>网络负载轻:共享信道效率低</li>
</ul>
<h5 id="随机访问MAC协议"><a href="#随机访问MAC协议" class="headerlink" title="随机访问MAC协议:"></a>随机访问MAC协议:</h5><ul>
<li>用户根据意愿随机发送信息，发送信息时可独占信道带宽。</li>
<li>网络负载重:产生冲突开销</li>
<li>网络负载轻:共享信道效率高，单个结点可利用信道全部带宽</li>
</ul>
<h5 id="轮询访问MAC协议-x2F-轮流协议-x2F-轮转访问MAC协议"><a href="#轮询访问MAC协议-x2F-轮流协议-x2F-轮转访问MAC协议" class="headerlink" title="轮询访问MAC协议&#x2F;轮流协议&#x2F;轮转访问MAC协议:"></a>轮询访问MAC协议&#x2F;轮流协议&#x2F;轮转访问MAC协议:</h5><blockquote>
<p>既要不产生冲突，又要发送时占全部带宽。</p>
</blockquote>
<h6 id="轮询协议："><a href="#轮询协议：" class="headerlink" title="轮询协议："></a>轮询协议：</h6><blockquote>
<p>主结点轮流“邀请”从属节点发送数据。</p>
</blockquote>
<ul>
<li><p><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/881655e483ced38f15ecfeefcd7c58f317a600c2c9b4715396878c433d2ad104.png"></p>
</li>
<li><p>问题：</p>
<ul>
<li>轮询开销</li>
<li>等待延迟</li>
<li>单点故障</li>
</ul>
</li>
</ul>
<h4 id="介质访问控制：-1"><a href="#介质访问控制：-1" class="headerlink" title="介质访问控制："></a>介质访问控制：</h4><h5 id="静态划分信道"><a href="#静态划分信道" class="headerlink" title="静态划分信道"></a>静态划分信道</h5><p>信道划分介质访问控制</p>
<blockquote>
<p>信道划分介质访问控制:将使用介质的每个设备与来自同一信道上的其他设备的通信隔离开，把时域和频域资源合理地分配给网络上的设备。</p>
</blockquote>
<h6 id="可以分为几种方式："><a href="#可以分为几种方式：" class="headerlink" title="可以分为几种方式："></a>可以分为几种方式：</h6><ul>
<li><p>频分多路复用FDM</p>
<ul>
<li><p><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/e90d4bce13bc9569c2965d1fdf1601cc74d7aae65d8a54956e8644d30b754745.png"></p>
</li>
<li><p>用户在分配到一定的频带后，在通信过程中自始至终都占用这个频带。频分复用的所有用户在同样的时间占用不同的带宽（频率带宽）资源。</p>
</li>
<li><p>优点：</p>
<ul>
<li>充分利用传输介质带宽，系统效率较高;</li>
<li>由于技术比较成熟，实现也比较容易。</li>
</ul>
</li>
</ul>
</li>
<li><p>时分多路复用TDM</p>
<ul>
<li><p><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/63656d09e0f2171ad0dd3e1e852f7a55d3312690f141ddc48d7974c74f95d810.png"></p>
<ul>
<li>TDM帧是在物理层传送的比特流所划分的帧，标志一个周期。</li>
</ul>
</li>
<li><p>将时间划分为一段段等长的时分复用帧（TDM帧）。每一个时分复用的用户在每一个TDM帧中占用固定序号的时隙，所有用户轮流占用信道。</p>
</li>
<li><p>改进的时分复用–统计时分复用STDM</p>
<ul>
<li>每一个STDM帧中的时隙数小于连接在集中器上的用户数。各用户有了数据就随时发往集中器的输入缓存，然后集中器按顺序依次扫描输入缓存，把缓存中的输入数据放入STDM帧中，一个STDM帧满了就发出。STDM帧不是固定分配时隙,而是按需动态分配时隙。</li>
<li><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/e24314043fe1aa7a80773c10fbfd6159ac9fc2095dbf3b8fbb81bd1579571e6f.png"></li>
</ul>
</li>
</ul>
</li>
<li><p>波分多路复用WDM</p>
<ul>
<li><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/d52ff26592c103093c17743978225bc52723a728d4fd2e4b63629406a2ea235c.png"></li>
<li>波分多路复用就是光的频分多路复用，在一根光纤中传输多种不同波长（频率）的光信号，由于波长（频率)不同，所以各路光信号互不干扰，最后再用波长分解复用器将各路波长分解出来。</li>
</ul>
</li>
<li><p>码分多路复用CDM</p>
<ul>
<li><p>码分多址(CDMA）是码分复用的一种方式。</p>
<ul>
<li><p>1个比特分为多个码分&#x2F;芯片（chip），每一个站点被指定一个唯一的m位的芯片序列。发送1时站点发送芯片序列，发送0时发送芯片序列反码（通常把0写出-1）。</p>
</li>
<li><p>如何不打架：</p>
<ul>
<li>多个站点同时发送数据的时候，要求各个站点芯片序列相互正交。</li>
</ul>
</li>
<li><p>如何合并：</p>
<ul>
<li>各路数据在信道中被线性相加。</li>
</ul>
</li>
<li><p>如何分离：</p>
<ul>
<li>合并的数据和源站规格化内积。</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h5 id="动态划分信道"><a href="#动态划分信道" class="headerlink" title="动态划分信道"></a>动态划分信道</h5><h6 id="动态媒体接入控制-x2F-多点接入"><a href="#动态媒体接入控制-x2F-多点接入" class="headerlink" title="动态媒体接入控制&#x2F;多点接入"></a>动态媒体接入控制&#x2F;多点接入</h6><blockquote>
<p>特点:信道并非在用户通信时固定分配给用户。</p>
</blockquote>
<h6 id="轮询访问介质访问控制"><a href="#轮询访问介质访问控制" class="headerlink" title="轮询访问介质访问控制"></a>轮询访问介质访问控制</h6><ul>
<li><p>令牌传递协议：</p>
<ul>
<li><p><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/a1434d2f74d950afc001dee521b30720aa3e08ad8bdcf7bd045b56dc62670936.png"></p>
<ul>
<li><p>令牌：</p>
<ul>
<li>一个特殊格式的MAC控制帧，不含任何信息。</li>
<li>控制信道的使用，确保同一时刻只有一个结点独占信道。</li>
<li>令牌环网无碰撞</li>
</ul>
</li>
<li><p>每个结点都可以在一定的时间内(令牌持有时间）获得发送数据的权利，并不是无限制地持有令牌。</p>
</li>
</ul>
</li>
<li><p>问题：</p>
<ul>
<li>令牌开销</li>
<li>等待延迟</li>
<li>单点故障</li>
</ul>
</li>
<li><p>应用于令牌环网（物理星型拓扑，逻辑环形拓扑）。</p>
</li>
<li><p>采用令牌传送方式的网络常用于负载较重、通信量较大的网络中。</p>
</li>
</ul>
</li>
</ul>
<h6 id="随机访问介质访问控制"><a href="#随机访问介质访问控制" class="headerlink" title="随机访问介质访问控制"></a>随机访问介质访问控制</h6><blockquote>
<p> 所有的用户可随机发送信息发送信息时占全部带宽</p>
</blockquote>
<ul>
<li><p>ALOHA协议</p>
<ul>
<li><p>纯ALOHA协议</p>
<ul>
<li><p>纯ALOHA协议思想:不监听信道，不按时间槽发送，随机重发。【想发就发】</p>
</li>
<li><p><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/8d5a9d4289f4467b665cd8d8dcaf9e93720825c9d2564134ef83660261e6c2b4.png"></p>
<ul>
<li><p>冲突如何检测</p>
<ul>
<li>如果发生冲突，接收方在就会检测出差错,然后不予确认，发送方在一定时间内收不到就判断发生冲突。</li>
</ul>
</li>
<li><p>冲突如何解决</p>
<ul>
<li>超时后等一随机时间再重传。</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>时隙ALOHA协议</p>
<ul>
<li>时隙ALOHA协议的思想:把时间分成若干个相同的时间片，所有用户在时间片开始时刻同步接入网络信道,若发生冲突，则必须等到下一个时间片开始时刻再发送。【控制想发就发的随意性】</li>
<li><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/de7e904baf641a02d9e64323ed2642b75c99e859e7811db048668344d28f922a.png"></li>
</ul>
</li>
<li><p>关于ALOHA协议</p>
<ul>
<li>1.纯ALOHA比时隙ALOHA吞吐量更低，效率更低。</li>
<li>2.纯ALOHA想发就发，时隙ALOHA只有在时间片段开始时才能发。</li>
</ul>
</li>
</ul>
</li>
<li><p>CSMA协议</p>
<ul>
<li><p>载波监听多路访问协议CSMA (carrier sense multiple access)</p>
</li>
<li><p>CS:</p>
<ul>
<li>载波侦听&#x2F;监听，每一个站在发送数据之前要检测一下总线上是否有其他计算机在发送数据。</li>
<li>当几个站同时在总线上发送数据时，总线上的信号电压摆动值将会增大（互相叠加)。当一个站检测到的信号电压摆动值超过一定门限值时，就认为总线上至少有两个站同时在发送数据，表明产生了碰撞，即发生了冲突。</li>
</ul>
</li>
<li><p>MA:</p>
<ul>
<li>多点接入，表示许多计算机以多点接入的方式连接在一根总线上。</li>
</ul>
</li>
<li><p>协议思想：发送帧之前，监听信道。</p>
<ul>
<li><p>监听结果：</p>
<ul>
<li><p>信道空闲：</p>
<ul>
<li>发送完整帧</li>
</ul>
</li>
<li><p>信道忙：</p>
<ul>
<li>推迟发送</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>信道划分：</p>
<ul>
<li><p>1-坚持CSMA</p>
<ul>
<li><p>1-坚持指的是对于监听信道忙之后的坚持。</p>
</li>
<li><p>1-坚持CSMA思想：如果一个主机要发送消息，那么它先监听信道。</p>
<ul>
<li>空闲则直接传输，不必等待。</li>
<li>忙则一直监听，直到空闲马上传输。</li>
<li>如果有冲突，站点就马上发送，避免了媒体利用率的损失。</li>
</ul>
</li>
<li><p>优点：</p>
<ul>
<li>只要媒体空闲，站点就马上发送，避免了媒体利用率的损失。</li>
</ul>
</li>
<li><p>缺点：</p>
<ul>
<li>假如有两个或两个以上的站点有数据要发送，冲突就不可避免。</li>
</ul>
</li>
</ul>
</li>
<li><p>非坚持CSMA</p>
<ul>
<li><p>非坚持指的是对于监听信道忙之后就不继续监听。</p>
</li>
<li><p>非坚持CSMA思想:如果一个主机要发送消息，那么它先监听信道。</p>
<ul>
<li>空闲则直接传输，不必等待。</li>
<li>忙则等待一个随机的时间之后再进行监听。</li>
</ul>
</li>
<li><p>优点：</p>
<ul>
<li>采用随机的重发延迟时间可以减少冲突发生的可能性。</li>
</ul>
</li>
<li><p>缺点：</p>
<ul>
<li>可能存在大家都在延迟等待过程中，使得媒体仍可能处于空闲状态，媒体使用率降低。</li>
</ul>
</li>
</ul>
</li>
<li><p>p-坚持CSMA</p>
<ul>
<li><p>p-坚持指的是对于监听信道空闲的处理。</p>
</li>
<li><p>p-坚持CSMA思想:如果一个主机要发送消息，那么它先监听信道。</p>
<ul>
<li>空闲则以p概率直接传输，不必等待;概率1-p等待到下一个时间槽再传输。</li>
<li>忙则等待一个随机的时间之后再进行监听。</li>
</ul>
</li>
<li><p>优点：</p>
<ul>
<li>既能像非坚持算法那样减少冲突，又能像1-坚持算法那样减少媒体空闲时间的这种方案。</li>
</ul>
</li>
<li><p>缺点：</p>
<ul>
<li>发生冲突后还是要坚持把数据帧发送完，造成了浪费。</li>
</ul>
</li>
</ul>
</li>
<li><p>三种CSMA对比总结：</p>
<ul>
<li><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/a9ba08ec5577a5a7e2c0a5056a9ca5253fac9e1fbaa33676e3341893b00d0d71.png"></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>CSMA&#x2F;CD协议</p>
<ul>
<li><p>载波监听多点接入&#x2F;碰撞检测CSMA&#x2F;C(carrier sense multiple access with collision detection)</p>
</li>
<li><p>CS：</p>
<ul>
<li>载波侦听&#x2F;监听，每一个站在发送数据之前以及发送数据时都要检测一下总线上是否有其他计算机在发送数据。</li>
</ul>
</li>
<li><p>MA：</p>
<ul>
<li>多点接入，表示许多计算机以多点接入的方式连接在一根总线上。总线型网络</li>
<li>总线型网络</li>
</ul>
</li>
<li><p>CD：</p>
<ul>
<li>碰撞检测（冲突检测），“边发送边监听”，适配器边发送数据边检测信道上信号电压的变化情况，以便判断自己在发送数据时其他站是否也在发送数据。</li>
<li>半双工网络</li>
</ul>
</li>
<li><p>如何确定碰撞后的重传时机：</p>
<ul>
<li><p>截断二进制指数规避算法</p>
<ul>
<li>1.确定基本退避（推迟）时间为争用期2t。</li>
<li>⒉.定义参数k，它等于重传次数，但k不超过10，即k&#x3D;min[重传次数，10]。当重传次数不超过10时，k等于重传次数;当重传次数大于10时，k就不再增大而一直等于10。</li>
<li>3.从离散的整数集合[0,1，，2的k次方-1]中随机取出一个数r，重传所需要退避的时间就是r倍的基本退避时间，即2r t 。</li>
<li>当重传达16次仍不能成功时，说明网络太拥挤，认为此帧永远无法正确发出，抛弃此帧并向高层报告出错。</li>
</ul>
</li>
</ul>
</li>
<li><p>最小帧长问题：</p>
<ul>
<li>帧的传输时延至少要两倍于信号在总线中的传播时延。</li>
<li>帧长（bit）&#x2F;    数据传输速率     &gt;&#x3D;  2t</li>
<li>最小帧长 &#x3D;  总线传播时延  *  数据传输速率  *   2  【2 t   *   数据传输速率 】</li>
<li>以太网规定最短帧长为64B，凡是长度小于64B的都是由于冲突而异常终止的无效帧。</li>
</ul>
</li>
</ul>
</li>
<li><p>CSMA&#x2F;CA协议</p>
<ul>
<li><p>载波监听多点接入&#x2F;碰撞避免CSMA&#x2F;CA (carrier sense multiple access with collision avoidance)</p>
</li>
<li><p>应用于无线局域网</p>
<ul>
<li><p>无法做到360°全面检测碰撞</p>
</li>
<li><p>隐蔽站</p>
<ul>
<li>当A和C都检测不到信号，认为信道空闲时，同时向终端B发送数据帧，就会导致冲突.</li>
</ul>
</li>
</ul>
</li>
<li><p>CSMA&#x2F;CA协议工作原理</p>
<ul>
<li><p>发送数据前，先检测信道是否空闲。</p>
<ul>
<li>空闲则发出RTS (request to send),RTS包括发射端的地址、接收端的地址、下一份数据将持续发送的时间等信息;信道忙则等待。</li>
<li>信道忙则等待。</li>
</ul>
</li>
<li><p>接收端收到RTS后，将响应CTS (clear to send) 。</p>
</li>
<li><p>发送端收到CTS后，开始发送数据帧（同时预约信道:发送方告知其他站点自己要传多久数据）。</p>
</li>
<li><p>接收端收到数据帧后，将用CRC来检验数据是否正确，正确则响应ACK帧。</p>
</li>
<li><p>发送方收到ACK就可以进行下一个数据帧的发送，若没有则一直重传至规定重发次数为止(采用二进制指数退避算法来确定随机的推迟时间)。</p>
</li>
</ul>
</li>
<li><p>实现的三种方法避免碰撞：</p>
<ul>
<li>预约信道</li>
<li>ACK帧</li>
<li>RTS&#x2F;CTS帧（可选）</li>
</ul>
</li>
</ul>
</li>
<li><p>CSMA&#x2F;CD与CSMA&#x2F;CA</p>
<ul>
<li><p>相同的：</p>
<ul>
<li>CSMA&#x2F;CD与CSMA&#x2F;CA机制都从属于CSMA的思路，其核心是先听再说。换言之，两个在接入信道之前都须要进行监听。当发现信道空闲后，才能进行接入。</li>
</ul>
</li>
<li><p>不同点：</p>
<ul>
<li><p>传输介质不同：</p>
<ul>
<li>CSMA&#x2F;CD用于总线式以太网【有线】，而CSMA&#x2F;CA用于无线局域网【无线】。</li>
</ul>
</li>
<li><p>载波检测方式不同：</p>
<ul>
<li>因传输介质不同，CSMA&#x2F;CD与CSMA&#x2F;CA的检测方式也不同。CSMA&#x2F;CD通过电缆中电压的变化来检测，当数据发生碰撞时，电缆中的电压就会随着发生变化;而CSMA&#x2F;CA采用能量检测(ED)、载波检测(CS）和能量载波混合检测三种检测信道空闲的方式。</li>
</ul>
</li>
<li><p>CSMA&#x2F;CD检测冲突，CSMA&#x2F;CA避免冲突，两者出现冲突后都会进行有上限的重传。</p>
<ul>
<li>子主题 1</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h5 id="多路复用技术："><a href="#多路复用技术：" class="headerlink" title="多路复用技术："></a>多路复用技术：</h5><blockquote>
<p>把多个信号组合在一条物理信道上进行传输，使得多个计算机或终端设备共享信道资源,提高信道利用率。</p>
</blockquote>
<h3 id="局域网基本概念和体系结构："><a href="#局域网基本概念和体系结构：" class="headerlink" title="局域网基本概念和体系结构："></a>局域网基本概念和体系结构：</h3><blockquote>
<p>局域网(Local Area Network):简称LAN，是指在某一区域内由多台计算机互联成的计算机组，使用广播信道。</p>
</blockquote>
<h4 id="局域网特点："><a href="#局域网特点：" class="headerlink" title="局域网特点："></a>局域网特点：</h4><ul>
<li>覆盖的地理范围较小，只在一个相对独立的局部范围内联，如一座或集中的建筑群内。</li>
<li>使用专门铺设的传输介质（双绞线、同轴电缆）进行联网，数据传输速率高（10Mb&#x2F;s~10Gb&#x2F;s)。</li>
<li>通信延迟时间短，误码率低，可靠性较高。</li>
<li>各站为平等关系，共享传输信道。</li>
<li>多采用分布式控制和广播式通信，能进行广播和组播。</li>
</ul>
<h4 id="决定局域网的主要要素为"><a href="#决定局域网的主要要素为" class="headerlink" title="决定局域网的主要要素为:"></a>决定局域网的主要要素为:</h4><h5 id="网络拓扑"><a href="#网络拓扑" class="headerlink" title="网络拓扑"></a>网络拓扑</h5><h6 id="星型拓扑"><a href="#星型拓扑" class="headerlink" title="星型拓扑"></a>星型拓扑</h6><ul>
<li><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/6c3606cf8f12b209bd387a75b74b5549e52d753230e391de8b5d8ca71be0e438.png"></li>
<li>中心节点是控制中心，任意两个节点间的通信最多只需两步，传输速度快,并且网络构形简单、建网容易、便于控制和管理。但这种网络系统，网络可靠性低，网络共享能力差,有单点故障问题。</li>
</ul>
<h6 id="总线型拓扑"><a href="#总线型拓扑" class="headerlink" title="总线型拓扑"></a>总线型拓扑</h6><ul>
<li><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/ea2d914bc821b51fcf30908d70b71287882591e99767e9e516b2aef970af96f5.png"></li>
<li>网络可靠性高、网络节点间响应速度快、共享资源能力强、设备投入量少、成本低、安装使用方便,当某个工作站节点出现故障时，对整个网络系统影响小。</li>
</ul>
<h6 id="环形拓扑"><a href="#环形拓扑" class="headerlink" title="环形拓扑"></a>环形拓扑</h6><ul>
<li><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/502049690d4a73b9bc3594560ed51721d466ff2d2eb90757fb436a8c4474cea2.png"></li>
<li>系统中通信设备和线路比较节省。有单点故障问题;由于环路是封闭的，所以不便于扩充，系统响应延时长，且信息传输效率相对较低。</li>
</ul>
<h6 id="树型拓扑"><a href="#树型拓扑" class="headerlink" title="树型拓扑"></a>树型拓扑</h6><ul>
<li><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/f4af5d38c79b8016b48802570a88515dc53e558beab1e159dc9e9eb9dabdabd5.png"></li>
<li>易于拓展，易于隔离故障,也容易有单点故障。</li>
</ul>
<h5 id="传输介质"><a href="#传输介质" class="headerlink" title="传输介质"></a>传输介质</h5><h6 id="有线局域网"><a href="#有线局域网" class="headerlink" title="有线局域网"></a>有线局域网</h6><p>常用介质:双绞线、同轴电缆、光纤</p>
<h6 id="无线局域网"><a href="#无线局域网" class="headerlink" title="无线局域网"></a>无线局域网</h6><p>常用介质:电磁波</p>
<h5 id="介质访问控制方法"><a href="#介质访问控制方法" class="headerlink" title="介质访问控制方法"></a>介质访问控制方法</h5><h6 id="CSMA-x2F-CD"><a href="#CSMA-x2F-CD" class="headerlink" title="CSMA&#x2F;CD"></a>CSMA&#x2F;CD</h6><ul>
<li>常用于总线型局域网，也用于树型网络</li>
</ul>
<h6 id="令牌总线"><a href="#令牌总线" class="headerlink" title="令牌总线"></a>令牌总线</h6><ul>
<li><p>常用于总线型局域网，也用于树型网络</p>
<ul>
<li>它是把总线型或树型网络中的各个工作站按一定顺序如按接口地址大小排列形成一个逻辑环。只有令牌持有者才能控制总线，才有发送信息的权力。</li>
</ul>
</li>
</ul>
<h6 id="令牌环"><a href="#令牌环" class="headerlink" title="令牌环"></a>令牌环</h6><ul>
<li>用于环形局域网，如令牌环网</li>
</ul>
<h4 id="局域网的分类："><a href="#局域网的分类：" class="headerlink" title="局域网的分类："></a>局域网的分类：</h4><h5 id="以太网"><a href="#以太网" class="headerlink" title="以太网"></a>以太网</h5><blockquote>
<p>以太网是应用最为广泛的局域网，包括标准以太网（10Mbps)、快速以太网(100Mbps） 、千兆以太网(1000 Mbps）和10G以太网，它们都符合IEEE802.3系列标准规范。逻辑拓扑总线型，物理拓扑是星型或拓展星型。使用CSMA&#x2F;CD.</p>
</blockquote>
<h5 id="令牌环网"><a href="#令牌环网" class="headerlink" title="令牌环网"></a>令牌环网</h5><blockquote>
<p>物理上采用了星形拓扑结构，逻辑上是环形拓扑结构。已是“明日黄花”。</p>
</blockquote>
<h5 id="FDDI网-Fiber-Distributed-Data-Interface"><a href="#FDDI网-Fiber-Distributed-Data-Interface" class="headerlink" title="FDDI网(Fiber Distributed Data Interface)"></a>FDDI网(Fiber Distributed Data Interface)</h5><blockquote>
<p> 物理上采用了双环拓扑结构,逻辑上是环形拓扑结构。</p>
</blockquote>
<h5 id="ATM网（Asynchronous-Transfer-Mode"><a href="#ATM网（Asynchronous-Transfer-Mode" class="headerlink" title="ATM网（Asynchronous Transfer Mode)"></a>ATM网（Asynchronous Transfer Mode)</h5><blockquote>
<p>较新型的单元交换技术,使用53字节固定长度的单元进行交换。</p>
</blockquote>
<h5 id="无线局域网-wireless-Local-Area-Network-WLAN）"><a href="#无线局域网-wireless-Local-Area-Network-WLAN）" class="headerlink" title="无线局域网(wireless Local Area Network;WLAN）"></a>无线局域网(wireless Local Area Network;WLAN）</h5><blockquote>
<p>采用IEEE 802.11标准。</p>
</blockquote>
<h4 id="IEEE-802标准"><a href="#IEEE-802标准" class="headerlink" title="IEEE 802标准"></a>IEEE 802标准</h4><blockquote>
<p>IEEE 802系列标准是IEEE 802 LAN&#x2F;MAN标准委员会制定的局域网、城域网技术标准（1980年2月成立)。其中最广泛使用的有以太网、令牌环、无线局域网等。这一系列标准中的每一个子标准都由委员会中的一个专门工作组负责。</p>
</blockquote>
<h5 id="链路层的两个控制子层"><a href="#链路层的两个控制子层" class="headerlink" title="链路层的两个控制子层"></a>链路层的两个控制子层</h5><h6 id="MAC子层和LLC子层"><a href="#MAC子层和LLC子层" class="headerlink" title="MAC子层和LLC子层"></a>MAC子层和LLC子层</h6><blockquote>
<p>IEEE 802标准所描述的局域网参考模型只对应OSI参考模型的数据链路层与物理层，它将数据链路层划分为逻辑链路层LLC子层和介质访问控制MAC子层。</p>
</blockquote>
<ul>
<li><p><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/da6a24d60a64555f677c4eeb732325f20f9ee9f91fbbbfb80cb66f0bd600064f.png"></p>
<ul>
<li>LLC负责识别网络层协议，然后对它们进行封装。LLC报头告诉数据链路层一旦帧被接收到时，应当对数据包做何处理。为网络层提供服务:无确认无连接、面向连接、带确认无连接、高速传送。</li>
<li>MAC子层的主要功能包括数据帧的封装&#x2F;卸装,帧的寻址和识别，帧的接收与发送，链路的管理，帧的差错控制等。MAC子层的存在屏蔽了不同物理链路种类的差异性。</li>
</ul>
</li>
</ul>
<h3 id="以太网-1"><a href="#以太网-1" class="headerlink" title="以太网"></a>以太网</h3><blockquote>
<p>以太网(Ethernet)指的是由xerox公司创建并由Xerox、Intel和DEC公司联合开发的基带总线局域网规范，是当今现有局域网采用的最通用的通信协议标准。以太网络使用CSMA&#x2F;CD(载波监听多路访问及冲突检测）技术。</p>
</blockquote>
<h4 id="以太网在局域网各种技术中占统治性地位："><a href="#以太网在局域网各种技术中占统治性地位：" class="headerlink" title="以太网在局域网各种技术中占统治性地位："></a>以太网在局域网各种技术中占统治性地位：</h4><ul>
<li>1.造价低廉（以太网网卡不到100块);</li>
<li>2.是应用最广泛的局域网技术;</li>
<li>3.比令牌环网、ATM网便宜，简单;</li>
<li>4.满足网络速率要求:10Mb&#x2F;s~10Gb&#x2F;s.</li>
</ul>
<h4 id="以太网两个标准："><a href="#以太网两个标准：" class="headerlink" title="以太网两个标准："></a>以太网两个标准：</h4><ul>
<li>DIX Ethernet V2:第一个局域网产品（以太网）规约。</li>
<li>IEEE 802.3:IEEE 802委员会802.3工作组制定的第一个IEEE的以太网标准。（帧格式有一丢丢改动)</li>
</ul>
<h4 id="以太网提供无连接、不可靠的服务"><a href="#以太网提供无连接、不可靠的服务" class="headerlink" title="以太网提供无连接、不可靠的服务"></a>以太网提供无连接、不可靠的服务</h4><ul>
<li><p>以太网只实现无差错接收，不实现可靠传输。</p>
</li>
<li><p>无连接</p>
<ul>
<li>发送方和接收方之间无“握手过程”。</li>
</ul>
</li>
<li><p>不可靠</p>
<ul>
<li>不对发送方的数据帧编号，接收方不向发送方进行确认，差错帧直接丢弃，差错纠正由高层负责。</li>
</ul>
</li>
</ul>
<h4 id="1OBASE-T以太网"><a href="#1OBASE-T以太网" class="headerlink" title="1OBASE-T以太网"></a>1OBASE-T以太网</h4><ul>
<li>10BASE-T是传送基带信号的双绞线以太网，T表示采用双绞线，现10BASE-T采用的是无屏蔽双绞线(UTP），传输速率是10Mb&#x2F;s。</li>
<li>物理上采用星型拓扑,逻辑上总线型，每段双绞线最长为100m。</li>
<li>采用曼彻斯特编码。</li>
<li>采用CSMA&#x2F;CD介质访问控制。</li>
</ul>
<h4 id="适配器与MAC地址"><a href="#适配器与MAC地址" class="headerlink" title="适配器与MAC地址"></a>适配器与MAC地址</h4><blockquote>
<p>计算机与外界有局域网的连接是通过通信适配器的。</p>
</blockquote>
<h5 id="在局域网中，硬件地址又称为物理地址，或MAC地址。【实际上是标识符】"><a href="#在局域网中，硬件地址又称为物理地址，或MAC地址。【实际上是标识符】" class="headerlink" title="在局域网中，硬件地址又称为物理地址，或MAC地址。【实际上是标识符】"></a>在局域网中，硬件地址又称为物理地址，或MAC地址。【实际上是标识符】</h5><p>MAC地址:每个适配器有一个全球唯一的48位二进制地址，前24位代表厂家（由IEEE规定)，后24位厂家自己指定。常用6个十六进制数表示，如02-60-8c-e4-b1-21。</p>
<h4 id="以太网MAC帧"><a href="#以太网MAC帧" class="headerlink" title="以太网MAC帧"></a>以太网MAC帧</h4><p><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/772ce9687d03dd80af43f06c85a43d00d4204af7f1cb689a91828c3aea003bb1.png"></p>
<h5 id="与IEEE-802-3的区别"><a href="#与IEEE-802-3的区别" class="headerlink" title="与IEEE 802.3的区别:"></a>与IEEE 802.3的区别:</h5><ul>
<li>1.第三个字段是长度&#x2F;类型</li>
<li>2.当长度&#x2F;类型字段值小于Ox0600时，数据字段必须装入LLC子层。</li>
</ul>
<h4 id="高速以太网"><a href="#高速以太网" class="headerlink" title="高速以太网"></a>高速以太网</h4><blockquote>
<p>速率≥100Mb&#x2F;s的以太网称为高速以太网。</p>
</blockquote>
<h5 id="100BASE-T以太网"><a href="#100BASE-T以太网" class="headerlink" title="100BASE-T以太网"></a>100BASE-T以太网</h5><ul>
<li>在双绞线上传送100Mb&#x2F;s基带信号的星型拓扑以太网，仍使用IEEE802.3的CSMA&#x2F;CD协议。</li>
<li>支持全双工和半双工，可在全双工方式下工作而无冲突。</li>
</ul>
<h5 id="吉比特以太网"><a href="#吉比特以太网" class="headerlink" title="吉比特以太网"></a>吉比特以太网</h5><ul>
<li>在光纤或双绞线上传送1Gb&#x2F;s信号。</li>
<li>支持全双工和半双工，可在全双工方式下工作而无冲突。</li>
</ul>
<h5 id="10吉比特"><a href="#10吉比特" class="headerlink" title="10吉比特"></a>10吉比特</h5><ul>
<li>10吉比特以太网在光纤上传送10Gb&#x2F;s信号。</li>
<li>只支持全双工，无争用问题。</li>
</ul>
<h3 id="无线局域网-1"><a href="#无线局域网-1" class="headerlink" title="无线局域网"></a>无线局域网</h3><h4 id="有固定基础设施无线局域网"><a href="#有固定基础设施无线局域网" class="headerlink" title="有固定基础设施无线局域网"></a>有固定基础设施无线局域网</h4><p><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/8c740fcb6aba08c975e2ba35f79dd3f3d359ca5ce83264b1ef55fc64def974a1.png"></p>
<h4 id="无固定基础设施无线局域网的自组织网络"><a href="#无固定基础设施无线局域网的自组织网络" class="headerlink" title="无固定基础设施无线局域网的自组织网络"></a>无固定基础设施无线局域网的自组织网络</h4><p><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/80e7fa022348fdf0d7b7bc1889ba67332a991e7b7983d6f58932d9c1275a0c32.png"></p>
<h3 id="PPP协议和HDLC协议"><a href="#PPP协议和HDLC协议" class="headerlink" title="PPP协议和HDLC协议"></a>PPP协议和HDLC协议</h3><h4 id="主要应用于广域网"><a href="#主要应用于广域网" class="headerlink" title="主要应用于广域网"></a>主要应用于广域网</h4><ul>
<li><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/4849cc26f9d44c521558c67326d8672a4f1db7a6d6a5e82e94b386f230e8fd5a.png"></li>
<li>广域网（WAN，Wide Area Network)，通常跨接很大的物理范围，所覆盖的范围从几十公里到几千公里，它能连接多个城市或国家，或横跨几个洲并能提供远距离通信，形成国际性的远程网络。</li>
<li>广域网的通信子网主要使用分组交换技术。广域网的通信子网可以利用公用分组交换网、卫星通信网和无线分组交换网，它将分布在不同地区的局域网或计算机系统互连起来，达到资源共享的目的。如因特网（Internet)是世界范围内最大的广域网。</li>
</ul>
<h4 id="PPP协议"><a href="#PPP协议" class="headerlink" title="PPP协议"></a>PPP协议</h4><h5 id="特点："><a href="#特点：" class="headerlink" title="特点："></a>特点：</h5><ul>
<li>点对点协议PPP(Point-to-Point Protocol）是目前使用最广泛的数据链路层协议，用户使用拨号电话接入因特网时一般都使用PPP协议。</li>
<li>只支持全双工链路</li>
</ul>
<h5 id="应满足的要求"><a href="#应满足的要求" class="headerlink" title="应满足的要求"></a>应满足的要求</h5><ul>
<li><p>简单</p>
<ul>
<li>对于链路层的帧,无需纠错,无需序号，无需流量控制。</li>
</ul>
</li>
<li><p>封装成帧</p>
<ul>
<li>帧定界符</li>
</ul>
</li>
<li><p>透明传输</p>
<ul>
<li>与帧定界符一样比特组合的数据应该如何处理:异步线路用字节填充，同步线路用比特填充。</li>
</ul>
</li>
<li><p>多种网络层协议</p>
<ul>
<li>封装的IP数据报可以采用多种协议。</li>
</ul>
</li>
<li><p>多种类型链路</p>
<ul>
<li>串行&#x2F;并行，同步&#x2F;异步，电&#x2F;光…</li>
</ul>
</li>
<li><p>错差检测</p>
<ul>
<li>错就丢弃</li>
</ul>
</li>
<li><p>检测连接状态</p>
<ul>
<li>链路是否正常工作</li>
</ul>
</li>
<li><p>最大传送单元</p>
<ul>
<li>数据部分最大长度MTU</li>
</ul>
</li>
<li><p>网络层地址协商</p>
<ul>
<li>知道通信双方的网络层地址</li>
</ul>
</li>
<li><p>数据压缩协商</p>
</li>
</ul>
<h5 id="不需要满足的要求"><a href="#不需要满足的要求" class="headerlink" title="不需要满足的要求"></a>不需要满足的要求</h5><ul>
<li>纠错</li>
<li>流量控制</li>
<li>序号</li>
<li>不支持多点线路</li>
</ul>
<h5 id="三个组成部分"><a href="#三个组成部分" class="headerlink" title="三个组成部分"></a>三个组成部分</h5><ul>
<li>1，一个将IP数据报封装到串行链路（同步串行&#x2F;异步串行）的方法。</li>
<li>⒉.链路控制协议LCP:建立并维护数据链路连接。【身份验证】</li>
<li>3.网络控制协议NCP:PPP可支持多种网络层协议，每个不同的网络层协议都要一个相应的NCP来配置，为网络层协议建立和配置逻辑连接。</li>
</ul>
<h5 id="PPP协议的状态图"><a href="#PPP协议的状态图" class="headerlink" title="PPP协议的状态图"></a>PPP协议的状态图</h5><ul>
<li><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/379dbecb5ff3ef10c729167255d8bf8a2b4de24cf3335f469b057f4262b74a4d.png"></li>
</ul>
<h5 id="PPP协议的帧格式"><a href="#PPP协议的帧格式" class="headerlink" title="PPP协议的帧格式"></a>PPP协议的帧格式</h5><ul>
<li><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/cb07348597a8892cbe689791120b6fd660747b8de7cca1a6c2f177727e8678b2.png"></li>
</ul>
<h4 id="HDLC协议"><a href="#HDLC协议" class="headerlink" title="HDLC协议"></a>HDLC协议</h4><blockquote>
<p>高级数据链路控制（High-Level Data Link Control或简称HDLC)，是一个在同步网上传输数据、面向比特的数据链路层协议，它是由国际标准化组织(ISO)根据IBM公司的SDLC(SynchronousData Link Control)协议扩展开发而成的.</p>
</blockquote>
<ul>
<li>数据报文可透明传输，用于实现透明传输的“O比特插入法”易于硬件实现</li>
<li>采用全双工通信</li>
<li>所有帧采用CRC检验，对信息帧进行顺序编号，可防止漏收或重份，传输可靠性高。</li>
</ul>
<h5 id="HDLC的站"><a href="#HDLC的站" class="headerlink" title="HDLC的站"></a>HDLC的站</h5><ul>
<li><p>主站</p>
<ul>
<li>主站的主要功能是发送命令（包括数据信息）帧、接收响应帧，并负责对整个链路的控制系统的初启、流程的控制、差错检测或恢复等。</li>
</ul>
</li>
<li><p>从站</p>
<ul>
<li>从站的主要功能是接收由主站发来的命令帧，向主站发送响应帧，并且配合主站参与差错恢复等链路控制。</li>
</ul>
</li>
<li><p>复合站</p>
<ul>
<li>复合站的主要功能是既能发送，又能接收命令帧和响应帧，并且负责整个链路的控制。</li>
</ul>
</li>
<li><p>三种数据操作方式：</p>
<ul>
<li>正常响应方式</li>
<li>异步平衡方式</li>
<li>异步响应方式</li>
</ul>
</li>
<li><p>HDLC的帧格式</p>
<ul>
<li><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/2d0219712d07919e495cec62626f9b66c41e07ef63b4d276f26ec1ccb2ef4fcc.png"></li>
<li>1）信息帧(I）第1位为0，用来传输数据信息，或使用捎带技术对数据进行确认;</li>
<li>2）监督帧(S)10，用于流量控制和差错控制，执行对信息帧的确认、请求重发和请求暂停发送等功能</li>
<li>3)无编号帧(U) 11，用于提供对链路的建立、拆除等多种控制功能。</li>
</ul>
</li>
</ul>
<h5 id="PPP协议-amp-HDLC协议"><a href="#PPP协议-amp-HDLC协议" class="headerlink" title="PPP协议&amp;HDLC协议"></a>PPP协议&amp;HDLC协议</h5><p><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/c445c66e37f1ee54f0e79950a2743792a412d7ebf81381e959875c3dbc780ee1.png"></p>
<ul>
<li>HDLC、PPP只支持全双工链路。</li>
<li>都可以实现透明传输。</li>
<li>都可以实现差错检测，但不纠正差错。</li>
</ul>
<h3 id="链路层的设备："><a href="#链路层的设备：" class="headerlink" title="链路层的设备："></a>链路层的设备：</h3><h4 id="物理层扩展以太网"><a href="#物理层扩展以太网" class="headerlink" title="物理层扩展以太网"></a>物理层扩展以太网</h4><ul>
<li>光纤</li>
<li>主干集线器</li>
</ul>
<h4 id="链路层扩展以太网"><a href="#链路层扩展以太网" class="headerlink" title="链路层扩展以太网"></a>链路层扩展以太网</h4><h5 id="网桥"><a href="#网桥" class="headerlink" title="网桥"></a>网桥</h5><blockquote>
<p>网桥根据MAC帧的目的地址对帧进行转发和过滤。当网桥收到一个帧时，并不向所有接口转发此帧，而是先检查此帧的目的MAC地址，然后再确定将该帧转发到哪一个接口，或者是把它丢弃（即过滤）。</p>
</blockquote>
<ul>
<li><p><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/203da544921ce179f3c9c74b5795a45c2aead04d9e5f32a0d64c07afc79e3873.png"></p>
<ul>
<li>网段:一般指一个计算机网络中使用同一物理层设备(传输介质，中继器，集线器等）能够直接通讯的那一部分。</li>
</ul>
</li>
<li><p>优点：</p>
<ul>
<li>1，过滤通信量，增大吞吐量。</li>
<li>2，扩大了物理范围。</li>
<li>3，提高了可靠性。</li>
<li>4.可互连不同物理层、不同MAC子层和不同速率的以太网。</li>
</ul>
</li>
<li><p>分类：</p>
<ul>
<li><p>透明网桥：</p>
<ul>
<li>“透明”指以太网上的站点并不知道所发送的帧将经过哪几个网桥，是一种即插即用设备―-自学习。</li>
</ul>
</li>
<li><p>源路由网桥：</p>
<ul>
<li><p>在发送帧时，把详细的最佳路由信息（路由最少&#x2F;时间最短）放在帧的首部中。</p>
</li>
<li><p>方法：</p>
<ul>
<li>源站以广播的方式向欲通信的目的站发送一个发现帧。</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h5 id="多接口网桥–以太网交换机："><a href="#多接口网桥–以太网交换机：" class="headerlink" title="多接口网桥–以太网交换机："></a>多接口网桥–以太网交换机：</h5><ul>
<li><p><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/e30532ab2e4aa2b032fc678fbe0c5a0f53c5ed3ce8f6b5b1e82d2457ff3720c2.png"></p>
</li>
<li><p>交换方式</p>
<ul>
<li><p>直通式交换机</p>
<ul>
<li>查完目的地址（6B）就立刻转发。</li>
<li>延迟小，可靠性低，无法支持具有不同速率的端口的交换。</li>
</ul>
</li>
<li><p>存储转发式交换机</p>
<ul>
<li>将帧放入高速缓存，并检查否正确，正确则转发，错误则丢弃。</li>
<li>延迟大，可靠性高，可以支持具有不同速率的端口的交换。</li>
</ul>
</li>
</ul>
</li>
<li><p>冲突域和广播域</p>
<ul>
<li><p>冲突域</p>
<ul>
<li>在同一个冲突域中的每一个节点都能收到所有被发送的帧。简单的说就是同一时间内只能有一台设备发送信息的范围。</li>
</ul>
</li>
<li><p>广播域</p>
<ul>
<li>网络中能接收任一设备发出的广播帧的所有设备的集合。简单的说如果站点发出一个广播信号，所有能接收收到这个信号的设备范围称为一个广播域。</li>
</ul>
</li>
<li><p><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/1c9456685458319668de3b1b106108279a18597823a3f6f79156afbba5c6cfab.png"></p>
</li>
</ul>
</li>
</ul>
<h2 id="网络层-1"><a href="#网络层-1" class="headerlink" title="网络层"></a>网络层</h2><blockquote>
<p>主要任务是把分组从源端传到目的端，为分组交换网上的不同主机提供通信服务。</p>
<p>网络传输单位是数据报。</p>
</blockquote>
<h3 id="功能：-2"><a href="#功能：-2" class="headerlink" title="功能："></a>功能：</h3><ul>
<li>路由选择与分组转发。【最佳路径】</li>
<li>异构网络互联。</li>
<li>拥塞控制。</li>
</ul>
<h3 id="数据交换"><a href="#数据交换" class="headerlink" title="数据交换"></a>数据交换</h3><h4 id="数据交换方式"><a href="#数据交换方式" class="headerlink" title="数据交换方式"></a>数据交换方式</h4><h5 id="电路交换"><a href="#电路交换" class="headerlink" title="电路交换"></a>电路交换</h5><ul>
<li><p><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/50283b8945be1ccbb5a450510e9f2151a6e295e2b0f35d3d53000556772a6b50.png"></p>
</li>
<li><p>电路交换的阶段：</p>
<ul>
<li><p>建立连接（呼叫&#x2F;电路建立）</p>
</li>
<li><p>通信</p>
<ul>
<li><p>特点：</p>
<ul>
<li>独占资源</li>
</ul>
</li>
</ul>
</li>
<li><p>释放连接（拆除电路）</p>
</li>
</ul>
</li>
<li><p>优点：</p>
<ul>
<li>通信时延小</li>
<li>有序传输</li>
<li>没有冲突</li>
<li>实时性强</li>
</ul>
</li>
<li><p>缺点：</p>
<ul>
<li>建立连接时间长</li>
<li>线路独占，使用效率低</li>
<li>灵活性差</li>
<li>无差错控制能力</li>
</ul>
</li>
</ul>
<h5 id="报文交换"><a href="#报文交换" class="headerlink" title="报文交换"></a>报文交换</h5><ul>
<li><p>报文：</p>
<ul>
<li>源应用发送的信息整体。</li>
</ul>
</li>
<li><p><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/4e5f7191d7ffb9c6b74541e4ab1ee830453642424d47f3b0c7ac2870895c70ea.png"></p>
</li>
<li><p>优点：</p>
<ul>
<li>无需建立连接</li>
<li>存储转发，动态分配线路</li>
<li>线路可靠性较高</li>
<li>线路利用率较高</li>
<li>多目标服务</li>
</ul>
</li>
<li><p>缺点：</p>
<ul>
<li>有存储转发时延</li>
<li>报文大小不定，需要网络节点有较大的缓存空间</li>
</ul>
</li>
</ul>
<h5 id="分组交换"><a href="#分组交换" class="headerlink" title="分组交换"></a>分组交换</h5><ul>
<li><p>数据报方式</p>
<ul>
<li><p>数据报方式为网络层提供无连接服务。</p>
<ul>
<li><p>无连接服务：</p>
<ul>
<li>不事先为分组的传输确定传输路径，每个分组独立确定传输路径，不同分组传输路径可能不同。</li>
</ul>
</li>
</ul>
</li>
<li><p>每个分组携带源和目的地址</p>
</li>
<li><p>路由器根据分组的目的地址转发分组：</p>
<ul>
<li>基于路由协议&#x2F;算法构建转发表；检索转发表；每个分组独立选路。</li>
</ul>
</li>
</ul>
</li>
<li><p>虚电路方式 </p>
<ul>
<li><p>虚电路方式为网络层提供连接服务。</p>
<ul>
<li><p>连接服务：</p>
<ul>
<li>首先为分组的传输确定传输路径（建立连接），然后沿该路径（连接）传输系列分组，系列分组传输路径相同，传输结束后拆除连接。</li>
</ul>
</li>
</ul>
</li>
<li><p>虚电路将数据报方式和电路交换方式结合，以发挥两者的优点。</p>
</li>
<li><p>虚电路：</p>
<ul>
<li>一条源主机到目的主机类似于电路的路径（逻辑连接），路径上所有结点都要维持这条虚电路的建立，都维持一张虚电路表，每一项纪录了一个打开的虚电路的信息。</li>
</ul>
</li>
<li><p>通信过程：</p>
<ul>
<li><p>建立连接（虚电路建立）</p>
<ul>
<li>每一个分组携带虚电路号，而非目的的地址。<br>源主机发送“呼叫请求”分组并收到“呼叫应答”分组后才算建立连接。</li>
</ul>
</li>
<li><p>数据传输</p>
<ul>
<li>全双工通信</li>
</ul>
</li>
<li><p>释放连接（虚电路释放）</p>
<ul>
<li>源主机发送“释放请求”分组以拆除虚电路。</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>数据报&amp;虚电路</p>
<ul>
<li><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/edcdd49b9bce26abd558365125fe73ed128054358806cad9c6631557c034ba8c.png"></li>
</ul>
</li>
<li><p>分组：</p>
<ul>
<li>把大的数据块分割成小的数据块。</li>
</ul>
</li>
<li><p><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/3fdbce8b960e84d7aa3319de2181bacd95751e7c6961117f0e45abf1186a599e.png"></p>
</li>
<li><p>优点：</p>
<ul>
<li>无需建立连接</li>
<li>存储转发，动态分配线路</li>
<li>线路可靠性较高</li>
<li>线路利用率较高</li>
<li>相对于报文交换，存储管理更容易</li>
</ul>
</li>
<li><p>缺点：</p>
<ul>
<li>有存储转发时延</li>
<li>需要传输额外的信息量</li>
<li>乱序到目的主机时，要对分组排序重组</li>
</ul>
</li>
</ul>
<h5 id="三种数据交换方式比较："><a href="#三种数据交换方式比较：" class="headerlink" title="三种数据交换方式比较："></a>三种数据交换方式比较：</h5><ul>
<li><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/86f8b4ff5c02f37f4ab97682f0bb189c6cd9bc469829bc6a2b809f31cced8618.png"></li>
<li>报文交换 和分组交换都采用存储转发。</li>
<li>传送数据量大，且传送时间远大于呼叫时，选择电路交换。电路交换传输时延最小。</li>
<li>从信道利用率看，报文交换和分组交换优于电路交换，其中分组交换时延更小。</li>
</ul>
<h4 id="路由算法与路由协议"><a href="#路由算法与路由协议" class="headerlink" title="路由算法与路由协议"></a>路由算法与路由协议</h4><h5 id="最佳路由："><a href="#最佳路由：" class="headerlink" title="最佳路由："></a>最佳路由：</h5><blockquote>
<p>“最佳”只能是相对于某一种特定要求下得出的较为合理的选择而已。</p>
</blockquote>
<h5 id="路由算法的分类："><a href="#路由算法的分类：" class="headerlink" title="路由算法的分类："></a>路由算法的分类：</h5><ul>
<li><p>静态路由算法（非自适应路由算法）</p>
<ul>
<li><p>管理员手工配置路由信息。</p>
<ul>
<li><p>优点：</p>
<ul>
<li>简便、可靠，在符合稳定，拓扑变化不大的网络中运行效果很好，广泛用于高度安全性的军事网络和较小的商业网络。</li>
</ul>
</li>
<li><p>缺点：</p>
<ul>
<li>路由更新慢，不适用大型网络。</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>动态路由算法（自适应的路由算法）</p>
<ul>
<li><p>路由器间彼此交换信息，按照路由算法优化出路由表项。</p>
<ul>
<li><p>优点：</p>
<ul>
<li>路由更新快，使用与大型网络，及时响应链路费用或网络拓扑变化。</li>
</ul>
</li>
<li><p>缺点：</p>
<ul>
<li>算法复杂，增加网络负担。</li>
</ul>
</li>
</ul>
</li>
<li><p>全局性：</p>
<ul>
<li>链路状态路由算法 （OSPF）</li>
<li>所有路由器掌握完整的网络拓扑和链路费用信息。</li>
</ul>
</li>
<li><p>分散性：</p>
<ul>
<li>距离向量算法（RIP）</li>
<li>路由器只掌握物理相连的邻居及链路费用。</li>
</ul>
</li>
</ul>
</li>
</ul>
<h5 id="分层次的路由选择协议："><a href="#分层次的路由选择协议：" class="headerlink" title="分层次的路由选择协议："></a>分层次的路由选择协议：</h5><ul>
<li><p>因特网规模很大</p>
</li>
<li><p>许多单位不想让外界知道自己的路由选择协议，但还想连入因特网</p>
<ul>
<li><p>自治系统AS:</p>
<ul>
<li>在单一的技术管理下的一组路由器，而这些路由器使用一种AS内部的路由选择协议和共同的度量以确定分组在该AS内的路由，同时还使用一种AS之间的路由协议以确定在AS之间的路由。-</li>
<li>一个AS内的所有网络都属于一个行政单位来管辖，一个自治系统的所有路由器在本自治系统内都必须连通。</li>
</ul>
</li>
<li><p><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/6fe022975984763ffe7ee9ba67fe67f8af12245e4d1ae5cb4ebd86d3d78989d5.png"></p>
</li>
</ul>
</li>
<li><p>路由选择协议：</p>
<ul>
<li><p>内部网关协议IGP【一个AS内使用的 】</p>
<ul>
<li>RIP</li>
<li>OSPF</li>
</ul>
</li>
<li><p>外部网关协议EGP【AS之间使用的】</p>
<ul>
<li>BGP</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="IP数据报格式"><a href="#IP数据报格式" class="headerlink" title="IP数据报格式"></a>IP数据报格式</h4><ul>
<li><p><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/f53964b85160ed53a469fe176eecb6a76bf7b43c7df9e9b82097efb61399bcce.png"></p>
</li>
<li><p><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/9f8502907b07dbfe6ed3b804cac88bd66f6557fec83346aef530b7c6a420c5f2.png" alt="首部格式："></p>
<ul>
<li><p>版本：</p>
<ul>
<li>IPv4 &#x2F; IPv6  ?</li>
</ul>
</li>
<li><p>首部长度：</p>
<ul>
<li>单位是4B，最小值为5。</li>
</ul>
</li>
<li><p>区分服务：</p>
<ul>
<li>指示期望获得哪种类型的服务。</li>
</ul>
</li>
<li><p>总长度：</p>
<ul>
<li>首部+数据 ，  单位是1B。</li>
</ul>
</li>
<li><p>生存时间（TTL）：</p>
<ul>
<li>IP分组的保质期。经过一个路由-1，变成0则丢弃。</li>
</ul>
</li>
<li><p>协议：</p>
<ul>
<li>数据部分的协议。</li>
<li><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/4e96da5d8bd85a3a3f9245724d8d9fa5237598cac8c5ef6653add72f4035f6d8.png"></li>
</ul>
</li>
<li><p>首部检验和：</p>
<ul>
<li>只检验首部。</li>
</ul>
</li>
<li><p>源IP地址和目的IP地址：</p>
<ul>
<li>32位。</li>
</ul>
</li>
<li><p>可选字段：</p>
<ul>
<li>0~40B，用来支持排错、测量以及安全等措施。</li>
</ul>
</li>
<li><p>填充：</p>
<ul>
<li>全0，把首部补成4B的整数倍。</li>
</ul>
</li>
<li><p>标识：</p>
<ul>
<li>同一数据报的分片使用同一标识。</li>
</ul>
</li>
<li><p>标志：</p>
<ul>
<li><p>只要2位有意义x _ _</p>
<ul>
<li><p>中间位DF(Don’t  Fragment):</p>
<ul>
<li>DF &#x3D; 1 ,禁止分片</li>
<li>DF &#x3D; 0 ，允许分片</li>
</ul>
</li>
<li><p>最低位MF(More  Fragment) ：</p>
<ul>
<li>MF &#x3D; 1 ,后面“还有分片”</li>
<li>MF &#x3D; 0， 代表最后一片&#x2F;没分片</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>片偏移：</p>
<ul>
<li>指出较长分组分片后，某片在原分组中的相对位置。以8B为单位。</li>
<li>除了最后一个分片，每个分片长度一定是8B的整数倍。</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="IP数据报分片"><a href="#IP数据报分片" class="headerlink" title="IP数据报分片"></a>IP数据报分片</h4><ul>
<li><p>最大传送单元MTU：</p>
<ul>
<li>链路层数据帧可封装数据的上限。</li>
<li>以太网的MTU是1500字节。</li>
</ul>
</li>
</ul>
<h4 id="ip地址："><a href="#ip地址：" class="headerlink" title="ip地址："></a>ip地址：</h4><ul>
<li><p>全世界唯一的32位&#x2F;4字节标识符，标识路由器主机的接口。</p>
</li>
<li><p>ip地址::{&lt;网络号&gt;,&lt;主机号&gt;}</p>
</li>
<li><p>IP编址的历史阶段：</p>
<ul>
<li><p>分类的IP地址</p>
<ul>
<li><p>弱点：</p>
<ul>
<li>IP地址空间的利用率有时很低。</li>
<li>两级IP地址不够灵活。</li>
</ul>
</li>
</ul>
</li>
<li><p>子网的划分</p>
</li>
<li><p>构成超网（无分类编址方法CIDR）</p>
<ul>
<li><p>无分类域间路由选择CIDR</p>
</li>
<li><p>特点：</p>
<ul>
<li><p>消除了传统的A类，B类和C类地址以及划分子网的概念。</p>
<ul>
<li><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/3268457294ae7f4f18789ebd882a87b40f7ddefdb1c153dab1fa2a2adee61039.png"></li>
<li>CIDR记法：IP地址后加上 “ &#x2F; ”，然后写上网络前缀（可以任意长度）的位数。</li>
</ul>
</li>
<li><p>融合子网地址与子网掩码，方便子网划分。</p>
<ul>
<li>CIDR把网络前缀都相同的连续的IP地址组成一个“CIDR地址块”。</li>
<li><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/48c3ee8f45ceba5f6ec45f8733bc3bcbdc584ae1a6f282406df258023afb2b4d.png"></li>
</ul>
</li>
</ul>
</li>
<li><p>将多个子网聚合成一个较大的子网，叫做构成超网，或路由聚合。</p>
<ul>
<li>方法：将网络前缀缩短。</li>
</ul>
</li>
<li><p>使用CIDR时，查找路由表可能得到几个匹配结果，应选择具有最长网络前缀的路由。前缀越长，地址块越小，路由越具体。</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="网络地址转换NAT-Network-Address-Translation"><a href="#网络地址转换NAT-Network-Address-Translation" class="headerlink" title="网络地址转换NAT(Network   Address   Translation)"></a>网络地址转换NAT(Network   Address   Translation)</h3><blockquote>
<p>在专用网连接到因特网的路由器上安装NAT软件,安装NAT软件的路由器叫NAT路由器，它至少有一个有效的外部全球IP地址。</p>
</blockquote>
<h4 id="全球IP地址：173-38-1-5"><a href="#全球IP地址：173-38-1-5" class="headerlink" title="全球IP地址：173.38.1.5"></a>全球IP地址：173.38.1.5</h4><h4 id="NAT转换表"><a href="#NAT转换表" class="headerlink" title="NAT转换表"></a>NAT转换表</h4><p><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/04acef36f70ba15d0fe35803638e812f10732e08ebba8ba3896e99e1bd26c996.png"></p>
<h5 id="路由表中："><a href="#路由表中：" class="headerlink" title="路由表中："></a>路由表中：</h5><ul>
<li>目的网络地址</li>
<li>目的网络子网掩码</li>
<li>下一跳地址</li>
</ul>
<h4 id="路由器转发分组的算法："><a href="#路由器转发分组的算法：" class="headerlink" title="路由器转发分组的算法："></a>路由器转发分组的算法：</h4><ul>
<li>提取目的的IP地址</li>
<li>是否直接交付</li>
<li>特定主机路由</li>
<li>检测路由表中有无路径</li>
<li>默认路由0.0.0.0</li>
<li>丢弃，报告转发分组出错</li>
</ul>
<h3 id="ARP协议："><a href="#ARP协议：" class="headerlink" title="ARP协议："></a>ARP协议：</h3><p>由于在实际网络的链路上传送数据帧时，最终必须使用MAC地址。</p>
<h4 id="ARP高速缓存（完成主机或路由器IP地址与MAC地址的映射）"><a href="#ARP高速缓存（完成主机或路由器IP地址与MAC地址的映射）" class="headerlink" title="ARP高速缓存（完成主机或路由器IP地址与MAC地址的映射）"></a>ARP高速缓存（完成主机或路由器IP地址与MAC地址的映射）</h4><ul>
<li>解决下一跳走哪的问题。</li>
</ul>
<h4 id="ARP协议使用过程："><a href="#ARP协议使用过程：" class="headerlink" title="ARP协议使用过程："></a>ARP协议使用过程：</h4><ul>
<li>检查ARP高速缓存，有对应表项则写入MAC帧，没有则用目的MAC地址为FF-FF-FF-FF-FF-FF-FF的帧封装并广播ARP请求分组，同一局域网中所有主机都能收到该请求，目的主机收到请求后就会向源主机单播一个ARP响应分组，源主机收到后将此映射写入ARP缓存（10 - 20min更新一次。）</li>
</ul>
<h4 id="ARP协议4种典型情况："><a href="#ARP协议4种典型情况：" class="headerlink" title="ARP协议4种典型情况："></a>ARP协议4种典型情况：</h4><ul>
<li>主机A发给本网络上的主机B：用ARP找到主机B的硬件地址。</li>
<li>主机A发给另一网络上的主机B：用ARP找到本网络上一个路由器（网关）的硬件地址。</li>
<li>路由器发给本网络的主机A：用ARP找到主机A的硬件地址。</li>
<li>路由器发给另一个网络的主机B:用ARP找到本网络上的一个路由器的硬件地址。</li>
</ul>
<p><strong>ARP协议自动触发。</strong></p>
<h3 id="DHCP协议："><a href="#DHCP协议：" class="headerlink" title="DHCP协议："></a>DHCP协议：</h3><blockquote>
<p>动态主机配置协议DHCP是应用层的协议，使用客户&#x2F;服务器方式，客户端和服务端通过广播方式进行交互，基于UDP。</p>
<p>DHCP提供即插即用联网的机制，主机可以从服务器动态获取IP地址、子网掩码、默认网关、DNS服务器名称与IP地址，允许地址重用，支持移动用户加入网络，支持在用地址续租。</p>
</blockquote>
<h4 id="主机如何获得IP地址："><a href="#主机如何获得IP地址：" class="headerlink" title="主机如何获得IP地址："></a>主机如何获得IP地址：</h4><h5 id="静态配置"><a href="#静态配置" class="headerlink" title="静态配置"></a>静态配置</h5><ul>
<li>IP地址</li>
<li>子网掩码</li>
<li>默认网关</li>
</ul>
<h5 id="动态配置"><a href="#动态配置" class="headerlink" title="动态配置"></a>动态配置</h5><ul>
<li><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/a510a025f3a28db09904e464cef1c2bee3d22de3d1381f0d90a7789177857ace.png"></li>
</ul>
<h5 id="工作流程："><a href="#工作流程：" class="headerlink" title="工作流程："></a>工作流程：</h5><ul>
<li><p>主机广播DHCP发现报文</p>
<ul>
<li>试图找到网络中的服务器，服务器获得一个IP地址。</li>
</ul>
</li>
<li><p>DHCP服务器广播DHCP提供报文</p>
<ul>
<li>服务器拟分配给主机一个IP地址及相关配置，先到先得。</li>
</ul>
</li>
<li><p>主机广播DHCP请求报文</p>
<ul>
<li>主机向服务器请求提供IP地址。</li>
</ul>
</li>
<li><p>DHCP服务器广播DHCP确认报文</p>
<ul>
<li>正式将IP地址分配给主机。</li>
</ul>
</li>
</ul>
<h3 id="ICMP协议："><a href="#ICMP协议：" class="headerlink" title="ICMP协议："></a>ICMP协议：</h3><blockquote>
<p>网际控制报文协议ICMP</p>
</blockquote>
<h4 id="ICMP协议支持主机或路由器："><a href="#ICMP协议支持主机或路由器：" class="headerlink" title="ICMP协议支持主机或路由器："></a>ICMP协议支持主机或路由器：</h4><h5 id="差错（或异常）报告"><a href="#差错（或异常）报告" class="headerlink" title="差错（或异常）报告"></a>差错（或异常）报告</h5><p>发送特定ICMP报文</p>
<h5 id="网络探询"><a href="#网络探询" class="headerlink" title="网络探询"></a>网络探询</h5><h4 id="ICMP差错报文"><a href="#ICMP差错报文" class="headerlink" title="ICMP差错报文"></a>ICMP差错报文</h4><h5 id="五种情况："><a href="#五种情况：" class="headerlink" title="五种情况："></a>五种情况：</h5><ul>
<li><p>终点不可达：</p>
<ul>
<li>当路由器或主机不能交付数据报时就向源点发送终点不可达报文。【无法交付】</li>
</ul>
</li>
<li><p>源点抑制：</p>
<ul>
<li>当路由器或主机由于拥塞而丢弃数据报时，就向源点发送源点抑制报文，使源点知道应当把数据报的发送数据速率放慢。【拥塞丢数据】</li>
</ul>
</li>
<li><p>时间超过：</p>
<ul>
<li>当路由器收到生存时间TTL &#x3D; 0的数据报时，除丢弃该数据报外，还要向源点发送时间超过报文。</li>
<li>当终点在预先规定的时间内不能收到一个数据报的全部数据报片时，就把已收到的数据报片都丢弃，并向源点发送时间超过报文。</li>
</ul>
</li>
<li><p>参数问题：</p>
<ul>
<li>当路由器或目的主机收到的数据报的首部中有的字段的值不正确时，就丢弃该数据报，并向源点发送参数问题报文。</li>
</ul>
</li>
<li><p>改变路由（重定向）：</p>
<ul>
<li>路由器把改变路由报文发送给主机，让主机知道下次应将数据报发送给另外的路由器（可通过更好的路由）。</li>
</ul>
</li>
</ul>
<h5 id="ICMP差错报告报文数据字段："><a href="#ICMP差错报告报文数据字段：" class="headerlink" title="ICMP差错报告报文数据字段："></a>ICMP差错报告报文数据字段：</h5><ul>
<li><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/e9e4bcd725b0aba69e8868e513a20932556e08f553e40cd2c0ea77d00ab58aa0.png"></li>
</ul>
<h5 id="不应发送ICMP差错报文的情况："><a href="#不应发送ICMP差错报文的情况：" class="headerlink" title="不应发送ICMP差错报文的情况："></a>不应发送ICMP差错报文的情况：</h5><ul>
<li>对ICMP差错报告报文不再发送ICMP差错报告报文。</li>
<li>对第一个分片的数据报片的所有后续数据报片都不发送ICMP差错报告报文。</li>
<li>对具有组播地址的数据报都不发送ICMP差错报告报文。</li>
<li>对具有特殊地址(如127.0.0.0或0.0.0.0 )的数据报不发送ICMP差错报告报文。</li>
</ul>
<h4 id="ICMP询问报文"><a href="#ICMP询问报文" class="headerlink" title="ICMP询问报文"></a>ICMP询问报文</h4><h5 id="回送请求和回答报文"><a href="#回送请求和回答报文" class="headerlink" title="回送请求和回答报文"></a>回送请求和回答报文</h5><p>主机或路由器向特定目的主机发出的询问，收到此报文的主机必须给源主机或路由器发送ICMP回送回答报文。测试目的站是否可达以及了解其相关状态。</p>
<h5 id="时间戳请求和回答报文"><a href="#时间戳请求和回答报文" class="headerlink" title="时间戳请求和回答报文"></a>时间戳请求和回答报文</h5><p>请某个主机或路由器回答当前的日期和时间。用来进行时钟同步和测量时间。</p>
<h5 id="掩码地址请求和回答报文"><a href="#掩码地址请求和回答报文" class="headerlink" title="掩码地址请求和回答报文"></a>掩码地址请求和回答报文</h5><h5 id="路由器询问和通告报文"><a href="#路由器询问和通告报文" class="headerlink" title="路由器询问和通告报文"></a>路由器询问和通告报文</h5><h4 id="ICMP的应用"><a href="#ICMP的应用" class="headerlink" title="ICMP的应用"></a>ICMP的应用</h4><h5 id="PING"><a href="#PING" class="headerlink" title="PING"></a>PING</h5><ul>
<li>测试两个主机之间的连通性，使用了ICMP回送请求和回答报文。</li>
</ul>
<h5 id="Traceroute"><a href="#Traceroute" class="headerlink" title="Traceroute"></a>Traceroute</h5><ul>
<li>跟踪一个分组从源点到终点的路径，使用了ICMP时间超过差错报告报文。</li>
</ul>
<h3 id="IPv6"><a href="#IPv6" class="headerlink" title="IPv6:"></a>IPv6:</h3><h4 id="IPv6数据报格式："><a href="#IPv6数据报格式：" class="headerlink" title="IPv6数据报格式："></a>IPv6数据报格式：</h4><p><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/ce027d72e7ed7c7a2d26226964f1ab1c89e19eb93f2da94a9819d225e2b080b1.png"></p>
<p><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/1ad0582d8115a37693052d4a823cd4f8887859469e09d00455c66137593ceb78.png"></p>
<ul>
<li><p>版本：</p>
<ul>
<li>指明协议版本，总是6</li>
</ul>
</li>
<li><p>优先级：</p>
<ul>
<li>区分数据报的类别和优先级</li>
</ul>
</li>
<li><p>流标签：</p>
<ul>
<li>“流”是互联网络上从特定源点到特定终点的一系列数据报。所有属于同一个流的数据报都具有同样的流标签。</li>
</ul>
</li>
<li><p>下一个首部：</p>
<ul>
<li>标识下一个扩展首部或上层协议首部。</li>
</ul>
</li>
<li><p>跳数限制：</p>
<ul>
<li>相当于IPv4的TTL。</li>
</ul>
</li>
</ul>
<h4 id="IPv6和IPv4的不同："><a href="#IPv6和IPv4的不同：" class="headerlink" title="IPv6和IPv4的不同："></a>IPv6和IPv4的不同：</h4><ul>
<li>IPv6将地址从32位（4B）扩大到128位（16B），更大的地址空间。</li>
<li>IPv6将IPv4的校验和字段彻底移除，以减少每跳的处理时间。</li>
<li>IPv6将IPv4的可选字段移出首部，变成了扩展首部，称为灵活的首部格式，路由器通常不对扩展首部进行检查，大大提高了路由器的处理效率。</li>
<li>IPv6支持即插即用（即自动配置），不需要DHCP协议。</li>
<li>IPv6首部长度必须是8B的整数倍，IPv4首部是4B的整数倍。</li>
<li>IPv6只能在主机处分片，IPv4可以在路由器和主机处分片。</li>
<li>ICMPv6：附加报文类型“分组过大”。</li>
<li>IPv6支持资源的预分配，支持实时视像等要求，保证一定的带宽和时延的应用。</li>
<li>IPv6取消了协议字段，改成下一个首部字段。</li>
<li>IPv6取消了总长度字段，改用有效载荷长度字段。</li>
<li>IPv6取消了服务类型字段。</li>
</ul>
<h4 id="IP地址表示形式："><a href="#IP地址表示形式：" class="headerlink" title="IP地址表示形式："></a>IP地址表示形式：</h4><ul>
<li><p>一般形式【冒号十六进制记法】：</p>
<ul>
<li>4BF5:AA12:0216:FEBC:BA5F:039A:BE9A:2170</li>
</ul>
</li>
<li><p>压缩形式：</p>
<ul>
<li><p>4BF5:0000:0000:0000:BA5F:039A:000A:2176</p>
<ul>
<li>4BF5:0;0:0:BA5F:39A:A:2176</li>
</ul>
</li>
<li><p>零压缩：一连串连续的0可以被一对冒号取代。</p>
<ul>
<li><p>FF05:0:0:0:0:0:0:B3</p>
<ul>
<li>FF05::B3</li>
</ul>
</li>
<li><p>双冒号表示法在一个地址中仅可出现一次。</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="IPv6基本地址类型："><a href="#IPv6基本地址类型：" class="headerlink" title="IPv6基本地址类型："></a>IPv6基本地址类型：</h4><ul>
<li><p>单播：</p>
<ul>
<li>一对一通信</li>
<li>可做源地址+目的地址</li>
<li><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/2480e1d09c126df3f0c0ce61aa60bbb4768f81057f3ff70ee2c7546c08b94dbd.png"></li>
</ul>
</li>
<li><p>多播：</p>
<ul>
<li>一对多通信</li>
<li>可做目的地址</li>
<li><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/767587daa0ea933dc6b70abbf145aa199355561c5a191d153836ec59a3b9348f.png"></li>
</ul>
</li>
<li><p>任播：</p>
<ul>
<li>一对多中的一个通信</li>
<li>可做目的地址</li>
<li><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/962c5e4e9458112acd6d998e6bff8d5943cb374086bf3301666b0d07230dc8da.png"></li>
</ul>
</li>
</ul>
<h4 id="IPv6向IPv4过渡的策略："><a href="#IPv6向IPv4过渡的策略：" class="headerlink" title="IPv6向IPv4过渡的策略："></a>IPv6向IPv4过渡的策略：</h4><h5 id="双栈协议："><a href="#双栈协议：" class="headerlink" title="双栈协议："></a>双栈协议：</h5><ul>
<li>双栈协议技术就是指在一台设备上同时启用了IPv4协议栈和IPv6协议栈。这样的话，这台设备既能和IPv4网络通信，又能和IPv6网络通信。</li>
<li>如果这台设备是一个路由器，那么这台路由器的不同接口上，分别配置了IPv4地址和IPv6地址，并很可能分别连接了IPv4网络和IPv6网络。</li>
<li>如果这台设备是一个计算机，那么它将同时拥有IPv4地址和IPv6地址，并具备同时处理这两个协议地址的功能。</li>
</ul>
<h5 id="隧道技术："><a href="#隧道技术：" class="headerlink" title="隧道技术："></a>隧道技术：</h5><ul>
<li>通过使用互联网络的基础设施在网络之间传递数据的方式。使用隧道传递的数据（或负载）可以是不同协议的数据帧或包。隧道协议将其他协议的数据帧或包重新封装然后通过隧道发送。</li>
</ul>
<h3 id="RIP协议及距离向量算法："><a href="#RIP协议及距离向量算法：" class="headerlink" title="RIP协议及距离向量算法："></a>RIP协议及距离向量算法：</h3><h4 id="RIP协议："><a href="#RIP协议：" class="headerlink" title="RIP协议："></a>RIP协议：</h4><blockquote>
<ul>
<li>RIP是一种分布式的基于距离向量的路由选择协议，是因特网的协议标准，最大的优点是简单。</li>
<li>RIP协议要求网络中的每一个路由器都维护从它自己到其他每一个目的网络的唯一最佳距离记录。（即一组距离）</li>
<li>RIP协议只适用于小互联网。</li>
</ul>
</blockquote>
<h5 id="RIP协议和谁交换？多久交换一次？交换什么？"><a href="#RIP协议和谁交换？多久交换一次？交换什么？" class="headerlink" title="RIP协议和谁交换？多久交换一次？交换什么？"></a>RIP协议和谁交换？多久交换一次？交换什么？</h5><ul>
<li>仅和相邻路由器交换信息。</li>
<li>路由器交换的信息是自己的路由表。</li>
<li>每30秒交换一次路由信息，然后路由器根据新信息更新路由表。若超过180s没收到邻居路由器的通告，则判定邻居没了，并更新自己路由表。</li>
<li>路由器刚开始工作时，只知道直连连接的网络的距离（距离为1），接着每一个路由器也只和数目非常有限的相邻路由器交换并更新路由信息。</li>
<li>经过若干次更新后，所有路由器最终都会知道到达本自治系统任何一个网络的最短距离和下一跳路由器的地址，即‘收敛“。</li>
</ul>
<h5 id="RIP协议的报文格式："><a href="#RIP协议的报文格式：" class="headerlink" title="RIP协议的报文格式："></a>RIP协议的报文格式：</h5><ul>
<li><p><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/474e3cc2c84fb36a1402cc0857f898b01427f5a5add651d8f96e95f8d5da5268.png"></p>
<ul>
<li>RIP是应用层协议，使用UDP传送数据。</li>
<li>一个RIP报文最多可包括25个路由，如超过，必须再用一个RIP报文传送。</li>
</ul>
</li>
</ul>
<h5 id="RIP的特点："><a href="#RIP的特点：" class="headerlink" title="RIP的特点："></a>RIP的特点：</h5><blockquote>
<p>当网络出现故障时，要经过比较长的时间（例如数分钟）才能将此信息传送到所有的路由器，“慢收敛”。【好消息传的快，坏消息传的慢】</p>
</blockquote>
<h4 id="距离："><a href="#距离：" class="headerlink" title="距离："></a>距离：</h4><blockquote>
<p>通常为“跳数”，即从源端口到目的端口所经过的路由器个数，经过一个路由器跳数+1。特别的，从一路由器到直接连接的网络距离为1.RIP允许一条路由最多只能包含15个路由器，因此距离为16表示网络不可达。</p>
</blockquote>
<h4 id="距离向量算法："><a href="#距离向量算法：" class="headerlink" title="距离向量算法："></a>距离向量算法：</h4><h5 id="修改相邻路由器发来的RIP报文中的所有表项。"><a href="#修改相邻路由器发来的RIP报文中的所有表项。" class="headerlink" title="修改相邻路由器发来的RIP报文中的所有表项。"></a>修改相邻路由器发来的RIP报文中的所有表项。</h5><ul>
<li>对地址为x的相邻路由器发来的RIP报文，修改此报文中的所有项目：把“下一跳”字段中的地址改为X，并把所有的“距离”字段+1。</li>
<li><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/9ac20df53fc1583fc3c6505bf4c123a59430aa9808e1475551e148a6c7e7773f.png"></li>
</ul>
<h5 id="对修改后的RIP报文中的每一个项目，进行以下步骤："><a href="#对修改后的RIP报文中的每一个项目，进行以下步骤：" class="headerlink" title="对修改后的RIP报文中的每一个项目，进行以下步骤："></a>对修改后的RIP报文中的每一个项目，进行以下步骤：</h5><ul>
<li><p>R1路由表中若没有Net3，则把该项目填入R1路由表</p>
</li>
<li><p>R1路由表中若有Net3，则查看下一跳路由器地址：</p>
<ul>
<li>若下一跳是X，则用收到的项目替换源路由表中的项目；</li>
<li>若下一跳不是X，原来距离比从X走的距离远则更新，否则不作处理。</li>
</ul>
</li>
</ul>
<h5 id="若180s还没收到相邻路由器X的更新路由表，则把X记为不可达的路由器，即把距离设置为16"><a href="#若180s还没收到相邻路由器X的更新路由表，则把X记为不可达的路由器，即把距离设置为16" class="headerlink" title="若180s还没收到相邻路由器X的更新路由表，则把X记为不可达的路由器，即把距离设置为16."></a>若180s还没收到相邻路由器X的更新路由表，则把X记为不可达的路由器，即把距离设置为16.</h5><h5 id="返回"><a href="#返回" class="headerlink" title="返回"></a>返回</h5><h3 id="OSPF协议及链路状态算法："><a href="#OSPF协议及链路状态算法：" class="headerlink" title="OSPF协议及链路状态算法："></a>OSPF协议及链路状态算法：</h3><blockquote>
<ul>
<li>开放最短路径优先OSPF协议：“开放”标明OSPF不是受某一家厂商控制，而是公开发表的；“最短路径优先”是因为使用了Dijkstra提出的最短路径算法SPF。</li>
<li>OSPF最主要的特征就是使用分布式的链路状态协议。</li>
</ul>
</blockquote>
<h4 id="OSPF的特点："><a href="#OSPF的特点：" class="headerlink" title="OSPF的特点："></a>OSPF的特点：</h4><ul>
<li><p>使用洪泛法向自治系统内所有路由器发送信息，即路由器通过输出端口向所有相邻的路由器发送信息，而每一个相邻路由器又再次将此信息发往其所有的相邻路由器。【广播】</p>
<ul>
<li>最终整个区域内所有的路由器都得到了这个信息的一个副本。</li>
</ul>
</li>
<li><p>发送的信息就是与本路由器相邻的所有路由器的链路状态（本路由器和哪些路由器相邻，以及该链路的度量&#x2F;代价 –费用、距离、时延、带宽等）。</p>
</li>
<li><p>只有当链路状态发生变化时，路由器才向所有路由器洪泛发送此信息。</p>
</li>
<li><p>最后，所有路由器都能建立一个链路状态数据库，即全网拓扑图。</p>
</li>
</ul>
<h4 id="OSPR的区域："><a href="#OSPR的区域：" class="headerlink" title="OSPR的区域："></a>OSPR的区域：</h4><ul>
<li>为了使OSPF能够用于规模很大的网络，OSPF将一个自治系统再划分为若干个更小的范围，叫做区域。</li>
<li>每一个区域都有一个32位的区域标识符（用点分十进制表示）。</li>
<li>区域也不能太大，在一个区域内的路由器最好不超过200个。</li>
<li><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/b40a833c2800a51027519519865f987d800b2b58cd724e5d2415003352a24417.png"></li>
</ul>
<h4 id="OSPF分组："><a href="#OSPF分组：" class="headerlink" title="OSPF分组："></a>OSPF分组：</h4><ul>
<li><p><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/6ba4d05e477d88b4e883f6de911cef72848c6d3ccdd854393069a4604d9e0b1a.png"></p>
<ul>
<li>OSPF直接用IP数据报传送。</li>
<li>网络层协议。</li>
</ul>
</li>
</ul>
<h4 id="OSPF的其他特点："><a href="#OSPF的其他特点：" class="headerlink" title="OSPF的其他特点："></a>OSPF的其他特点：</h4><ul>
<li>每隔30min，要刷新一次数据库中的链路状态。</li>
<li>由于一个路由器的链路状态只涉及到与相邻路由器的联通状态，因而与整个互联网的规模并无直接关系。因此当互联网规模很大时，OSPF协议要比距离向量协议RIP好得多。</li>
<li>OSPF不存在坏消息传的慢的问题，它的收敛速度很快。</li>
</ul>
<h4 id="链路状态路由算法："><a href="#链路状态路由算法：" class="headerlink" title="链路状态路由算法："></a>链路状态路由算法：</h4><ul>
<li><p>每个路由器发现它的邻居结点【HELLO问候分组】，并了解邻居节点的网络地址。</p>
</li>
<li><p>设置到它的每个邻居的成本度量metric。</p>
</li>
<li><p>构造【DD数据库描述分组】，向邻站给出自己的链路状态数据库中的所有链路状态项目的摘要信息。</p>
</li>
<li><p>如果DD分组中的摘要自己都有，则邻站不做处理；如果有没有的或者是更新的，则发送【LSR链路状态请求分组】请求自己没有的和比自己更新的信息。</p>
</li>
<li><p>收到邻站的LSR分组后，发送【LSU链路状态更新分组】进行更新。</p>
</li>
<li><p>更新完毕后，邻站返回一个【LSAck链路状态确认分组】进行确认。</p>
</li>
<li><p>只要一个路由器的链路状态发生变化：</p>
<ul>
<li>泛洪发送【LSU链路状态更新分组】进行更新。</li>
<li>更新完毕后，其他站返回一个【LSAck链路状态确认分组】进行确认。</li>
<li>使用Dijkstra根据自己的链路状态数据库构造到其他节点间的最短路径。</li>
</ul>
</li>
</ul>
<h3 id="BGP协议："><a href="#BGP协议：" class="headerlink" title="BGP协议："></a>BGP协议：</h3><blockquote>
<ul>
<li>与其他AS的邻站BGP发言人交换信息。</li>
<li>交换的网络可达性的信息，即要到达某个网络所要经过的一系列的AS。</li>
<li>发生变化时更新有变化的部分。</li>
</ul>
</blockquote>
<h4 id="BGP协议交换信息的过程："><a href="#BGP协议交换信息的过程：" class="headerlink" title="BGP协议交换信息的过程："></a>BGP协议交换信息的过程：</h4><ul>
<li>BGP所交换的网络可达性的信息就是要到达某个网络所要经过的一系列AS。当BGP发言人互相交换了网络可达性的信息后，各BGP发言人就根据所采用的的策略从收到的路由信息中找出到达各AS的较好路由。</li>
<li>一个BGP发言人与其他自治系统中的BGP发言人要交换路由信息，就要先建立TCP连接，即通过TCP传送，然后在此连接上交换BGP报文以建立BGP会话（session），利用BGP会话交换路由信息。</li>
</ul>
<h4 id="BGP协议报文格式："><a href="#BGP协议报文格式：" class="headerlink" title="BGP协议报文格式："></a>BGP协议报文格式：</h4><ul>
<li><p><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/60b6639d4e631285c1aabf1111b2d8a51a974d7aa34ac7d1c8d124a20b72e522.png"></p>
<ul>
<li>BGP是应用层协议，借助TCP传送。</li>
</ul>
</li>
</ul>
<h4 id="BGP协议特点："><a href="#BGP协议特点：" class="headerlink" title="BGP协议特点："></a>BGP协议特点：</h4><ul>
<li>BGP支持CIDR，因此BGP的路由表也就应当包括目的网络前缀、下一跳路由器，以及到达该目的网络所要经过的各个自治系统序列。</li>
<li>在BGP刚刚运行时，BGP的邻站是交换整个的BGP路由表。但以后只需要在发生变化时更新有变化的部分。这样做对节省网络带宽和减少路由器的处理开销都有好处。</li>
</ul>
<h4 id="BGP-4的四种报文："><a href="#BGP-4的四种报文：" class="headerlink" title="BGP-4的四种报文："></a>BGP-4的四种报文：</h4><h5 id="OPEN-打开-报文："><a href="#OPEN-打开-报文：" class="headerlink" title="OPEN(打开)报文："></a>OPEN(打开)报文：</h5><ul>
<li>用来与相邻的另一个BGP发言人建立关系，并认证发送方。</li>
</ul>
<h5 id="UPDATE-更新-报文；"><a href="#UPDATE-更新-报文；" class="headerlink" title="UPDATE(更新)报文；"></a>UPDATE(更新)报文；</h5><ul>
<li>通告新路径或撤销原路径。</li>
</ul>
<h5 id="KEEPALIVE-保活-报文："><a href="#KEEPALIVE-保活-报文：" class="headerlink" title="KEEPALIVE(保活)报文："></a>KEEPALIVE(保活)报文：</h5><ul>
<li>在无UPDATE时，周期性证实邻站的连通性；也作为OPEN的确认。</li>
</ul>
<h5 id="NOTIFICATION-通知-报文："><a href="#NOTIFICATION-通知-报文：" class="headerlink" title="NOTIFICATION(通知)报文："></a>NOTIFICATION(通知)报文：</h5><ul>
<li>报告先前报文的差错；也被用于关闭连接。</li>
</ul>
<h3 id="三种路由协议比较："><a href="#三种路由协议比较：" class="headerlink" title="三种路由协议比较："></a>三种路由协议比较：</h3><ul>
<li><p>RIP是一种分布式的基于距离向量的内部网关路由选择协议，通过广播UDP报文来交换路由信息。</p>
<ul>
<li>RU</li>
</ul>
</li>
<li><p>OSPF是一个内部网关协议，要交换的信息量较大，应使报文的长度尽量短，所以不使用传输层协议（如UDP或TCP），而是直接采用IP。</p>
<ul>
<li>OI</li>
</ul>
</li>
<li><p>BGP是一个外部网关协议，在不同的自治系统之间交换路由信息，由于网络环境复杂，需要保证可靠传输，所以采用TCP。</p>
<ul>
<li>BT</li>
</ul>
</li>
<li><p><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/3cf377cfceb906244b7cd18ebf9506676d38635ac21fc36fec15e744101a2861.png"></p>
</li>
</ul>
<h3 id="IP组播："><a href="#IP组播：" class="headerlink" title="IP组播："></a>IP组播：</h3><h4 id="IP数据报的三种传输方式："><a href="#IP数据报的三种传输方式：" class="headerlink" title="IP数据报的三种传输方式："></a>IP数据报的三种传输方式：</h4><h5 id="单播"><a href="#单播" class="headerlink" title="单播"></a>单播</h5><ul>
<li>单播用于发送数据包到单个目的地，且每发送一份单播报文都使用一个单播IP地址作为目的地址。是一种点对点传输方式。</li>
<li><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/bf24e28c2be4447323fbf5bd5c4ba176e8992c74249078f4677a08b80847783a.png"></li>
</ul>
<h5 id="广播"><a href="#广播" class="headerlink" title="广播"></a>广播</h5><ul>
<li>广播式指发送数据包到同一广播域或子网内的所有设备的一种数据传输方式，是一种点对多点传输方式。</li>
<li><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/bad1e3862fed7920499bef9f4f1161c63c64f4a2466ed50f625da0a1b5e1c67b.png"></li>
</ul>
<h5 id="组播（多播）"><a href="#组播（多播）" class="headerlink" title="组播（多播）"></a>组播（多播）</h5><ul>
<li><p>当网络中的某些用户需要特定数据时，组播数据发送者仅发送一次数据，借助组播路由协议为组播数据包建立组播分发树，被传递的数据到达距离用户端尽可能近的节点才开始复制和分发，是一种点对多点传输方式。</p>
</li>
<li><p>组播提高了数据传输效率，减少了主干网出现拥塞的可能性。组播组中的主机可以是在同一个物理网络，也可以来自不同的物理网络（如果有组播路由器的支持。）</p>
<ul>
<li>运行组播协议的路由器。</li>
</ul>
</li>
<li><p><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/812895c2ad0e0c082af55fb4d84808d34e3d2b0261f6a92cfd7a3d8b72177e57.png"></p>
</li>
</ul>
<h4 id="IP组播地址："><a href="#IP组播地址：" class="headerlink" title="IP组播地址："></a>IP组播地址：</h4><ul>
<li><p>IP组播地址让源设备能够将分组发送给一组设备。属于多播组的设备将被分配一个组播组IP地址（一群共同需求主机的相同标识）。</p>
</li>
<li><p>组播地址范围为224.0.0.0 ~239.255.255.255（D类地址），一个D类地址表示一个组播组。只能用作分组的目标地址。源地址总是为单播地址。</p>
</li>
<li><p>特点：</p>
<ul>
<li>组播数据报也是“尽最大努力交付”，不提供可靠交付，应用于UDP。</li>
<li>对组播数据报不产生ICMP差错报文。</li>
<li>并非所有D类地址都可以作为组播地址。</li>
</ul>
</li>
</ul>
<h4 id="硬件组播："><a href="#硬件组播：" class="headerlink" title="硬件组播："></a>硬件组播：</h4><ul>
<li><p>同单播地址一样，组播IP地址也需要相应的组播MAC地址在本地网络中实际传送帧。组播MAC地址以十六进制值01-00-5E打头，余下的6个十六进制位是根据IP组播组地址的最后23位转换得到的。</p>
</li>
<li><p>TCP&#x2F;IP协议使用的以太网多播地址的范围是：</p>
<ul>
<li><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/ee988f1929c5133b0fe4207d4c6c4205e9cf383ff05989d35bf6fee0c85a0a48.png"></li>
<li>收到多播数据报的主机，还要在IP层利用软件进行过滤，把不是本主机要接收的数据报丢弃。</li>
</ul>
</li>
</ul>
<h4 id="网际组管理IGMP协议："><a href="#网际组管理IGMP协议：" class="headerlink" title="网际组管理IGMP协议："></a>网际组管理IGMP协议：</h4><ul>
<li><p>IGMP协议让路由器知道本局域网上是否有主机(的进程)参加或退出了某个组播组。</p>
</li>
<li><p>ICMP和IGMP都使用IP数据报传递报文。</p>
</li>
<li><p>IGMP工作的两个阶段：</p>
<ul>
<li><p>ROUND  1:</p>
<ul>
<li>某主机要加入组播组时，该主机向组播组的组播地址发送一个lGMP报文，声明自己要称为该组的成员。</li>
<li>本地组播路由器收到IGMP报文后，要利用组播路由选择协议把这组成员关系发给因特网上的其他组播路由器。</li>
</ul>
</li>
<li><p>ROUND  2:</p>
<ul>
<li>本地组播路由器周期性探询本地局域网上的主机，以便知道这些主机是否还是组播组的成员。</li>
<li>只要有一个主机对某个组响应，那么组播路由器就认为这个组是活跃的;如果经过几次探询后没有一个主机响应，组播路由器就认为本网络上的没有此组播组的主机，因此就不再把这组的成员关系发给其他的组播路由器。</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="组播路由选择协议："><a href="#组播路由选择协议：" class="headerlink" title="组播路由选择协议："></a>组播路由选择协议：</h4><ul>
<li><p>组播路由协议目的是找出以源主机为根节点的组播转发树。</p>
</li>
<li><p>构造树可以避免在路由器之间兜圈子。</p>
</li>
<li><p>对不同的多播组对应于不同的多播转发树;同一个多播组，对不同的源点也会有不同的多播转发树。</p>
</li>
<li><p>组播路由选择协议常使用的三种算法:</p>
<ul>
<li>基于链路状态的路由选绎</li>
<li>基于距离-向量的路由选择</li>
<li>协议无关的组播(稀疏&#x2F;密集)</li>
</ul>
</li>
</ul>
<h3 id="移动IP："><a href="#移动IP：" class="headerlink" title="移动IP："></a>移动IP：</h3><blockquote>
<p>移动Ip技术是移动结点(计算机&#x2F;服务器等)以固定的网络IP地址，实现跨越不同网段的漫游功能，并保证了基于网络IP的网络权限在漫游过程中不发生任何改变。</p>
</blockquote>
<h4 id="移动IP相关术语："><a href="#移动IP相关术语：" class="headerlink" title="移动IP相关术语："></a>移动IP相关术语：</h4><h5 id="移动结点："><a href="#移动结点：" class="headerlink" title="移动结点："></a>移动结点：</h5><ul>
<li>具有永久IP地址的移动设备。</li>
</ul>
<h5 id="归属代理（本地代理）"><a href="#归属代理（本地代理）" class="headerlink" title="归属代理（本地代理）"></a>归属代理（本地代理）</h5><ul>
<li>一个移动结点拥有的就“居所”称为归属网络，在归属网络中代表移动节点执行移动管理功能的实体叫做归属代理。</li>
</ul>
<h5 id="外部代理（外地代理）"><a href="#外部代理（外地代理）" class="headerlink" title="外部代理（外地代理）"></a>外部代理（外地代理）</h5><ul>
<li>在外部网络中帮助移动节点完成移动管理功能的实体称为外部代理。</li>
</ul>
<h5 id="永久地址（归属地址-x2F-主地址）"><a href="#永久地址（归属地址-x2F-主地址）" class="headerlink" title="永久地址（归属地址&#x2F;主地址）"></a>永久地址（归属地址&#x2F;主地址）</h5><ul>
<li>移动站点在归属网络中的原始地址。</li>
</ul>
<h5 id="转交地址（辅地址）"><a href="#转交地址（辅地址）" class="headerlink" title="转交地址（辅地址）"></a>转交地址（辅地址）</h5><ul>
<li>移动站点在外部网络中使用的临时地址。</li>
</ul>
<h4 id="移动IP通信过程："><a href="#移动IP通信过程：" class="headerlink" title="移动IP通信过程："></a>移动IP通信过程：</h4><p><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/3e5c3288329c0527b0caa59d4165c7c2a9b192c40b0dc49de729d236b839142d.png"></p>
<h5 id="A刚进入外部网络："><a href="#A刚进入外部网络：" class="headerlink" title="A刚进入外部网络："></a>A刚进入外部网络：</h5><ul>
<li>1.在外部代理登记获得一个转交地址，离开时注销。</li>
<li>⒉.外地代理向本地代理登记转交地址。</li>
</ul>
<h5 id="B给A发送数据报："><a href="#B给A发送数据报：" class="headerlink" title="B给A发送数据报："></a>B给A发送数据报：</h5><ul>
<li>1.本地代理截获数据报。</li>
<li>2.本地代理再封装数据报，新的数据报目的地址是转交地址，发给外部代理（隧道)。</li>
<li>3.外部代理拆封数据报并发给A。</li>
</ul>
<h5 id="A给B发送数据报："><a href="#A给B发送数据报：" class="headerlink" title="A给B发送数据报："></a>A给B发送数据报：</h5><ul>
<li>A用自己的主地址作为数据报源地址，用B的IP地址作为数据报的目的地址。</li>
</ul>
<h5 id="A移动到了下一个网络："><a href="#A移动到了下一个网络：" class="headerlink" title="A移动到了下一个网络："></a>A移动到了下一个网络：</h5><ul>
<li>1.在新外部代理登记注册一个转交地址。</li>
<li>⒉新外部代理给本地代理发送新的转交地址（覆盖旧的)。</li>
<li>3.通信。</li>
</ul>
<h5 id="A回到了归属网络："><a href="#A回到了归属网络：" class="headerlink" title="A回到了归属网络："></a>A回到了归属网络：</h5><ul>
<li>1.A向本地代理注销转交地址。</li>
<li>⒉按原始方式通信。</li>
</ul>
<h3 id="网络层设备："><a href="#网络层设备：" class="headerlink" title="网络层设备："></a>网络层设备：</h3><h4 id="路由器："><a href="#路由器：" class="headerlink" title="路由器："></a>路由器：</h4><blockquote>
<p>路由器是一种具有多个输入端口和多个输出端口的专用计算机，其任务是转发分组。</p>
</blockquote>
<h5 id="路由选择与分组转发"><a href="#路由选择与分组转发" class="headerlink" title="路由选择与分组转发"></a>路由选择与分组转发</h5><p><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/6c09b6ca3f04a6bed654d6d321a375cc25170ec2a3356a8bf4c6cb5dad74caad.png"></p>
<ul>
<li><p>路由选择：</p>
<ul>
<li>根据所选定的路由选择协议构造出路由表，同时经常或定期地和相邻路由器交换路由信息而不断地更新和维护路由表。</li>
</ul>
</li>
<li><p>分组转发：</p>
<ul>
<li>交换结构:根据转发表（路由表得来）对分组进行转发。</li>
<li>若收到RIP&#x2F;OSPF分组等，则把分组送往路由选择处理机;<br>若收到数据分组，则查找转发表并输出。</li>
</ul>
</li>
</ul>
<h5 id="输入端对线路上收到的分组的处理："><a href="#输入端对线路上收到的分组的处理：" class="headerlink" title="输入端对线路上收到的分组的处理："></a>输入端对线路上收到的分组的处理：</h5><ul>
<li><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/5562d1ee4138e238d9adf1e21c9a3ba9637a12bf70160a632a5dbc7143ed2f00.png"></li>
<li>输入端口中的查找和转发功能在路由器的交换功能中是最重要的。</li>
</ul>
<h5 id="输出端口的处理："><a href="#输出端口的处理：" class="headerlink" title="输出端口的处理："></a>输出端口的处理：</h5><ul>
<li><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/55db317f461548e953dcc6b32f9d5158102fe686e420b4a655be9e55d69b093d.png"></li>
<li>若路由器处理分组的速率赶不上分组进入队列的速率，则队列的存储空间最终必定减少到零，这就使后面再进入队列的分组由于没有存储空间而只能被丢弃。</li>
<li>路由器中的输入或输出队列产生溢出是造成分组丢失的重要原因。</li>
</ul>
<h4 id="三层设备的区别："><a href="#三层设备的区别：" class="headerlink" title="三层设备的区别："></a>三层设备的区别：</h4><p><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/607eeb566f0acf254b5a1f90fb42260308a62102eb637fa8ec9415052400a8e3.png"></p>
<ul>
<li><p>路由器：</p>
<ul>
<li>可以互联两个不同网络层协议的网段。</li>
</ul>
</li>
<li><p>网桥：</p>
<ul>
<li>可以互联两个物理层和链路层不同的网段。</li>
</ul>
</li>
<li><p>集线器:</p>
<ul>
<li>不能互联两个物理层不同的网段。</li>
</ul>
</li>
</ul>
<h4 id="路由表与路由转发："><a href="#路由表与路由转发：" class="headerlink" title="路由表与路由转发："></a>路由表与路由转发：</h4><blockquote>
<p>路由表根据路由选择算法得出的，主要用途是路由选择，总用软件来实现。</p>
</blockquote>
<p><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/07b5597a0cd4b8eb25873cd899c952e7861fb8da45f4944c89fb559f6224d8bf.png"></p>
<h5 id="转发表："><a href="#转发表：" class="headerlink" title="转发表："></a>转发表：</h5><ul>
<li>转发表由路由表得来，可以用软件实现，也可以用特殊的硬件来实现。转发表必须包含完成转发功能所必需的信息，在转发表的每一行必须包含从要到达的目的网络到输出端口和某些MAC地址信息的映射。</li>
</ul>
<h2 id="传输层-1"><a href="#传输层-1" class="headerlink" title="传输层"></a>传输层</h2><blockquote>
<p>只有主机才有的层次【为应用层提供通信服务，使用网络层的服务】</p>
</blockquote>
<h3 id="功能：-3"><a href="#功能：-3" class="headerlink" title="功能："></a>功能：</h3><ul>
<li>传输层提供进程和进程之间的逻辑通信。</li>
<li>复用和分用</li>
<li>传输层对收到的报文进行差错检测。</li>
</ul>
<h3 id="传输层的两种协议："><a href="#传输层的两种协议：" class="headerlink" title="传输层的两种协议："></a>传输层的两种协议：</h3><h4 id="TCP"><a href="#TCP" class="headerlink" title="TCP"></a>TCP</h4><ul>
<li><p>面向连接的传输控制协议TCP</p>
</li>
<li><p>传送数据之前必须建立连接，数据传送结束后要释放连接。不提供广播或多播服务。由于TCP要提供可靠的面向连接的传输服务，因此不可避免增加了许多开销：确认、流量控制、计时器及连接管理等。</p>
</li>
<li><p>特点：</p>
<ul>
<li>可靠，面向连接，时延大，适用于大文件。</li>
</ul>
</li>
</ul>
<h4 id="UDP"><a href="#UDP" class="headerlink" title="UDP"></a>UDP</h4><ul>
<li><p>无连接的用户数据报协议UDP</p>
</li>
<li><p>传送数据之前不需要建立连接，收到UDP报文后也不需要给出任何确认。</p>
</li>
<li><p>特点：</p>
<ul>
<li>不可靠，无连接，时延下，适用于小文件。</li>
</ul>
</li>
</ul>
<h3 id="传输层的寻址与端口"><a href="#传输层的寻址与端口" class="headerlink" title="传输层的寻址与端口"></a>传输层的寻址与端口</h3><h4 id="分用和复用："><a href="#分用和复用：" class="headerlink" title="分用和复用："></a>分用和复用：</h4><ul>
<li><p>复用：</p>
<ul>
<li>应用层所有的应用进程都可以通过传输层再传输到网络层。</li>
</ul>
</li>
<li><p>分用：</p>
<ul>
<li>传输层从网络层收到数据后交付指明的应用进程。</li>
</ul>
</li>
</ul>
<h4 id="端口【逻辑端口-x2F-软件端口】"><a href="#端口【逻辑端口-x2F-软件端口】" class="headerlink" title="端口【逻辑端口&#x2F;软件端口】"></a>端口【逻辑端口&#x2F;软件端口】</h4><blockquote>
<p>是传输层的SAP（服务访问点），标识主机中的应用进程。</p>
</blockquote>
<p>端口号</p>
<ul>
<li><p>端口号只有本地意义，在因特网中不同计算机的相同端口号是没有联系的。</p>
</li>
<li><p>端口号长度为16bit，能标识65536个不同的端口号。</p>
</li>
<li><p>按范围分：</p>
<ul>
<li><p>服务端使用的端口号</p>
<ul>
<li><p>熟知端口号（0~1023）：</p>
<ul>
<li>给TCP&#x2F;IP最重要的一些应用程序，让所有用户都知道。</li>
</ul>
</li>
<li><p>登记端口号（1024~49151）：</p>
<ul>
<li>为没有熟知端口号的应用程序使用的。</li>
</ul>
</li>
</ul>
</li>
<li><p>客户端使用的端口号（49152~65535）</p>
<ul>
<li>仅在客户进程运行时才动态选择。</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="套接字："><a href="#套接字：" class="headerlink" title="套接字："></a>套接字：</h4><ul>
<li>套接字Socket &#x3D; (主机IP地址，端口号）</li>
<li>在网络中采用发送方和接收方的套接字组合来识别端点，套接字唯一标识了网络中的一个主机和它上面的一个进程。</li>
</ul>
<h3 id="UDP协议"><a href="#UDP协议" class="headerlink" title="UDP协议"></a>UDP协议</h3><blockquote>
<p>UDP只在IP数据报服务之上增加了很少功能，即复用分用和差错检测功能。</p>
</blockquote>
<h5 id="主要特点："><a href="#主要特点：" class="headerlink" title="主要特点："></a>主要特点：</h5><ul>
<li><p>UDP是无连接的，减少开销和发送数据之前的时延。</p>
</li>
<li><p>UDP使用最大努力交付，即不保证可靠交付。</p>
</li>
<li><p>UDP是面向报文的，适合一次性传输少量数据的网络应用。</p>
<ul>
<li>应用层给UDP多长的报文，UDP就照样发送，即一次发送一个完整报文。</li>
<li><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/7eccb9c41a5ecb5ceb61326fcfd6eef0f943713a5dc98cb626c7d4805f943eb5.png"></li>
</ul>
</li>
<li><p>UDP无拥塞控制，适合很多实时应用。</p>
</li>
<li><p>UDP首部开销小，8B，TCP20B。</p>
</li>
</ul>
<h5 id="UDP首部格式-："><a href="#UDP首部格式-：" class="headerlink" title="UDP首部格式 ："></a>UDP首部格式 ：</h5><ul>
<li><p><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/e95cd6163c8cc292e944f9a0c8f565f244be021d8c53eea1f4f67e4f99ecda36.png"></p>
<ul>
<li><p>源端口：</p>
<ul>
<li>源端口号。在需要对方回信时选用。不需要时可用全0。</li>
</ul>
</li>
<li><p>目的端口：</p>
<ul>
<li>目的端口号。这在终点交付报文时必须使用。</li>
</ul>
</li>
<li><p>长度：</p>
<ul>
<li>UDP用户数据报的长度，其最小值是8（仅有首部）</li>
</ul>
</li>
<li><p>检验和：</p>
<ul>
<li><p>检测UDP用户数据报在传输中是否用错。有错就丢弃。</p>
<ul>
<li>eg:分用时，找不到对应的目的端口号，就丢弃报文，并发给发送方ICMP“端口不可达”差错报告报文。</li>
</ul>
</li>
<li><p><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/baca014019200e6b65370aa8ccd447729442f26bd5033c01493ad2d76fad8536.png" alt="UDP校验过程"></p>
<ul>
<li><p>伪首部：</p>
<ul>
<li><p>只有在计算检验和时才出现，不向下传送也不向上递交。</p>
</li>
<li><p><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/7f58aa632247441cfbce038264b139c902144b98c6d12ebfd916e5f67d0575b0.png" alt="伪首部校验"></p>
<ul>
<li><p>在发送端：</p>
<ul>
<li>填上伪首部</li>
<li>全0填充检验和字段</li>
<li>全0填充数据部分（UDP数据报要看成许多4B的字串接起来）</li>
<li>伪首部+首部+数据部分采用二进制反码求和</li>
<li>把和求反码填入检验和字段</li>
<li>去掉伪首部，发送</li>
</ul>
</li>
<li><p>在接收端：</p>
<ul>
<li>填上伪首部</li>
<li>伪首部+首部+数据部分采用二进制反码求和</li>
<li>结果全为1则无差错，否则丢弃数据报&#x2F;交给应用层附上出差错的警告。</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>17：</p>
<ul>
<li>封装UDP报文的IP数据报首部协议字段是17。</li>
</ul>
</li>
<li><p>UDP长度：</p>
<ul>
<li>UDP首部8B+数据部分长度（不包括伪首部）。</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="TCP协议"><a href="#TCP协议" class="headerlink" title="TCP协议"></a>TCP协议</h3><h4 id="特点：-1"><a href="#特点：-1" class="headerlink" title="特点："></a>特点：</h4><ul>
<li><p>TCP是面向连接（虚连接）的传输协议。eg：打电话</p>
</li>
<li><p>每一条TCP连接只能有两个端点，每一条TCP连接只能是点对点的。</p>
</li>
<li><p>TCP提供可靠交付的服务，无差错、不丢失、不重复、按序到达。可靠有序，不丢不重。</p>
</li>
<li><p>TCP提供全双工通信。</p>
<ul>
<li><p>发送缓存：</p>
<ul>
<li>准备发送的数据&amp;已发送但尚未收到确认的数据</li>
</ul>
</li>
<li><p>接收缓存：</p>
<ul>
<li>按序到达但尚未被接受应用程序读取的数据&amp;不按序到达的数据</li>
</ul>
</li>
</ul>
</li>
<li><p>TCP面向字节流</p>
<ul>
<li><p>流：</p>
<ul>
<li>流入到进程或从进程流出的字节序列。</li>
</ul>
</li>
<li><p><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/900eae63b8e7a7fdef8bf681c06ab324332249d91b6e3520f4a4629f50130311.png" alt="TCP把应用程序交下来的数据看成仅仅是一连串的无结构的字节流。"></p>
</li>
</ul>
</li>
</ul>
<h4 id="TCP报文段首部格式"><a href="#TCP报文段首部格式" class="headerlink" title="TCP报文段首部格式"></a>TCP报文段首部格式</h4><ul>
<li><p><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/0d1839d706090cdb524c12dce9d178fe5fbe258f716efb0500c7ddfec1c1661e.png"></p>
<ul>
<li><p>序号（seq）：</p>
<ul>
<li>在一个TCP连接中传送的字节流中的每一个字节都按顺序编号，本字段表示本报文段所发送数据的第一个字节的序号。</li>
</ul>
</li>
<li><p>确认号：</p>
<ul>
<li>期望收到对方下一个报文段的第一个数据字节的序号。若确认号为N，则证明到序号N~1为止的所有数据都已正确收到。</li>
</ul>
</li>
<li><p>数据偏移（首部长度）：</p>
<ul>
<li>TCP报文段的数据起始处距离TCP报文段的起始处有多远，以4B位单位，即一个数值是4B。</li>
</ul>
</li>
<li><p>6个控制位：</p>
<ul>
<li><p>紧急位URG：</p>
<ul>
<li>URG &#x3D; 1时，标明此报文段中有紧急数据，是高优先级的数据，应尽快传送，不用在缓存里排队，配合紧急指针字段使用。</li>
</ul>
</li>
<li><p>确认位ACK:</p>
<ul>
<li>ACK &#x3D; 1时确认号有效，在连接建立后所有传送的报文段都必须把ACK置为1。</li>
</ul>
</li>
<li><p>推送位PSH：</p>
<ul>
<li>PSH &#x3D; 1时，接收方尽快交付接收应用进程，不再等到缓存填满再向上交付。</li>
</ul>
</li>
<li><p>复位RST：</p>
<ul>
<li>RST &#x3D; 1时，表明TCP连接中出现严重差错，必须释放连接，然后再重新建立传输链接。</li>
</ul>
</li>
<li><p>同步位SYN：</p>
<ul>
<li>SYN &#x3D; 1时，表明是一个连接请求&#x2F;连接请求接受报文。</li>
</ul>
</li>
<li><p>终止位FIN：</p>
<ul>
<li>FIN &#x3D; 1时，表明此报文段发送方数据已发完，要求释放连接。</li>
</ul>
</li>
</ul>
</li>
<li><p>窗口：</p>
<ul>
<li>指的是发送本报文段的一方的接受窗口，即现在允许对方发送的数据量。</li>
</ul>
</li>
<li><p>校验和：</p>
<ul>
<li>检查首部+数据，检验时要加上12B伪首部，第四个字段为6。</li>
</ul>
</li>
<li><p>紧急指针；</p>
<ul>
<li>URG &#x3D; 1时才有意义，指出本报文段中紧急数据的字节数。</li>
</ul>
</li>
<li><p>选项：</p>
<ul>
<li>最大报文段长度MSS、窗口扩大、时间戳、选择确认……</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="TCP连接管理："><a href="#TCP连接管理：" class="headerlink" title="TCP连接管理："></a>TCP连接管理：</h4><ul>
<li><p>TCP连接传输的三个阶段：</p>
<ul>
<li><p><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/2963f2e5c1dbb7336115a643858e9b0b5ff98166143cec5514a09aed7189a6eb.png"></p>
</li>
<li><p>连接建立</p>
<ul>
<li><p>TCP连接的建立采用客户服务器方式。</p>
<ul>
<li>主动发起连接建立的应用进程叫做客户。</li>
<li>而被动等待连接建立的应用进程叫服务器。</li>
</ul>
</li>
<li><p><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/f4984a3221686ea42f3424a5ea14996c5412bcbe0269c1a126a3301a2cc2c01a.png" alt="假设运行在一台主机（客户）上的一个进程想与另一台主机（服务器）上的一个进程建立一条连接，客户应用进程首先通知客户TCP，它想建立一个与服务器上某个进程之间的连接，客户中的TCP会用以下的步骤与服务器中的TCP建立一条TCP连接："></p>
<ul>
<li><p>ROUND1:</p>
<ul>
<li><p>客户端发送连接请求报文段，无应用层数据。</p>
</li>
<li><p>SYN &#x3D; 1</p>
<ul>
<li>同步位为1，表示请求建立连接。</li>
</ul>
</li>
<li><p>seq &#x3D; x（随机）</p>
<ul>
<li>发送的随机产生的报文段的随机的一个序号为x的。</li>
</ul>
</li>
</ul>
</li>
<li><p>ROUND2:</p>
<ul>
<li><p>服务器端为该TCP连接分配缓存和变量，并向客户端返回确认报文段，允许连接，无应用层数据。</p>
</li>
<li><p>SYN &#x3D; 1</p>
<ul>
<li>同步位为1，表示同意请求建立连接。</li>
</ul>
</li>
<li><p>ACK &#x3D; 1</p>
<ul>
<li>确认位为1，在连接建立后将其为1。</li>
</ul>
</li>
<li><p>seq &#x3D; y（随机）</p>
<ul>
<li>确认字节，主机随机分配的。</li>
</ul>
</li>
<li><p>ack&#x3D; x + 1</p>
<ul>
<li>表示x即x之前的报文段已收到，想要接受x+1之后的报文。</li>
</ul>
</li>
</ul>
</li>
<li><p>ROUND 3:</p>
<ul>
<li><p>客户端为该TCP连接分配缓存和变量，并向服务器端返回确认的确认，可以携带数据。</p>
</li>
<li><p>SYN &#x3D; 0</p>
<ul>
<li>同步位为0，表示连接建立。</li>
</ul>
</li>
<li><p>ACK &#x3D; 1</p>
<ul>
<li>确认位为1，在连接建立后将其为1。</li>
</ul>
</li>
<li><p>seq &#x3D; x + 1</p>
<ul>
<li>所发送报文段的第一个字节为x+1</li>
</ul>
</li>
<li><p>ack &#x3D; y + 1</p>
<ul>
<li>期望收到的下一个序号就是y+1</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>SYN洪泛攻击</p>
<ul>
<li><p>SYN洪泛攻击发生在OSI第四层，这种方式利用TCP协议的特性，就是三次握手。攻击者发送TCP SYN，SYN是TCP三次握手中的第一个收据包，而当服务器返回ACK后，该攻击者就不对其进行再确认，那这个TCP链接就处于挂起状态，也就是所谓的半连接状态，服务器收不到再确认的话，还会重复发送ACK给攻击者。这样更加会浪费服务器的资源。攻击者就对服务器发送非常大量的这种TCP连接，由于每一个都没法完成三次握手，所以在服务器上，这些TCP连接会因为挂起状态而消耗CPU和内存，最后服务器可能死机，就无法为正常用户提供服务了。</p>
</li>
<li><p>解决方法：</p>
<ul>
<li>SYN  cookie</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>数据传送</p>
</li>
<li><p>连接释放</p>
<ul>
<li><p>参与一条TCP连接的两个进程中的任何一个都能终止该连接，连接结束后，主机中的“资源”（缓存和变量）将被释放。</p>
</li>
<li><p><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/7ea16c480b7a63e4cd33affe43876b91a1411846b865701c0e789770bc90d2fb.png"></p>
<ul>
<li><p>ROUND 1:</p>
<ul>
<li><p>客户端发送连接释放报文段，停止发送数据，主动关闭TCP连接。</p>
</li>
<li><p>FIN &#x3D; 1</p>
<ul>
<li>FIN &#x3D; 1时，表明此报文段发送方数据已发完，要求释放连接。</li>
</ul>
</li>
<li><p>seq &#x3D; u</p>
<ul>
<li>报文段（通常没有数据）一个序号，标识此报文段。等于之前发送的数据的最后一个字节的序号+1。</li>
</ul>
</li>
</ul>
</li>
<li><p>ROUND 2:</p>
<ul>
<li><p>服务器端回送一个确认报文段，客户到服务器这个方向的连接就释放了—半关闭状态。</p>
</li>
<li><p>ACK &#x3D; 1</p>
<ul>
<li>ACK &#x3D; 1时确认号有效，在连接建立后所有传送的报文段都必须把ACK置为1。</li>
</ul>
</li>
<li><p>seq &#x3D; v</p>
<ul>
<li>上一个发送的报文段的最后一个字节的序号+1。</li>
</ul>
</li>
<li><p>ack&#x3D; u + 1</p>
<ul>
<li>期待客户端发送序列号为u+1的报文段。</li>
</ul>
</li>
</ul>
</li>
<li><p>ROUND 3:</p>
<ul>
<li><p>服务器端发完数据，就发出连接释放报文段，主动关闭TCP连接。</p>
</li>
<li><p>FIN &#x3D; 1</p>
<ul>
<li>FIN &#x3D; 1时，表明此报文段发送方数据已发完，要求释放连接。</li>
</ul>
</li>
<li><p>ACK &#x3D; 1</p>
<ul>
<li>ACK &#x3D; 1时确认号有效，在连接建立后所有传送的报文段都必须把ACK置为1。</li>
</ul>
</li>
<li><p>seq &#x3D; w</p>
<ul>
<li>取决于上一步，服务器端发送数据量的多少。</li>
</ul>
</li>
<li><p>ack &#x3D; u + 1</p>
<ul>
<li>因为还是服务器端发送的，客户端没有发送数据，所以确认号还是u+1，期待客户端发送序列号为u+1 的报文段。</li>
</ul>
</li>
</ul>
</li>
<li><p>ROUND 4:</p>
<ul>
<li><p>客户端回送一个确认报文段，再等到时间等待计时器设置的2MSL（最长报文段寿命）后，连接彻底关闭。</p>
</li>
<li><p>ACK &#x3D; 1</p>
<ul>
<li>ACK &#x3D; 1时确认号有效，在连接建立后所有传送的报文段都必须把ACK置为1。</li>
</ul>
</li>
<li><p>seq&#x3D; u + 1</p>
<ul>
<li>取决于上一步，服务器端发送数据量的多少。</li>
</ul>
</li>
<li><p>ack &#x3D; w + 1</p>
<ul>
<li>发送序列号第一个序号为w+1的报文段。</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="TCP可靠传输："><a href="#TCP可靠传输：" class="headerlink" title="TCP可靠传输："></a>TCP可靠传输：</h4><ul>
<li><p>可靠：</p>
<ul>
<li>保证接收方进程从缓存区读出的字节流与发送方发出的字节流是完全一样的。</li>
</ul>
</li>
<li><p>TCP实现可靠传输的机制：</p>
<ul>
<li><p>校验：</p>
<ul>
<li>与UDP校验一样，增加伪首部。</li>
</ul>
</li>
<li><p>序号：</p>
<ul>
<li>一个字节占一个序号。【序号字段指的是一个报文段第一个字节的序号。】</li>
</ul>
</li>
<li><p>确认：</p>
<ul>
<li>接收方发送给发送方的一个确认信息，指明要接收接下来的报文段。</li>
</ul>
</li>
<li><p>重传：</p>
<ul>
<li><p>确认重传不分家，TCP的发送方在规定的时间内（重传时间）没有收到确认就要重传已发送的报文段。超时重传。</p>
</li>
<li><p>TCP采用自适应算法，动态改变重传时间的RTTs（加权平均往返时间）</p>
<ul>
<li>这两个时间之差就是报文段的往返时间RTT。</li>
<li>TCP保留了RTT的一个加权平均往返时间RTTs(又称平滑的往返时间）</li>
</ul>
</li>
<li><p>冗余ACK（冗余确认）</p>
<ul>
<li>每当比期望序号大的失序报文段到达时，发送一个冗余ACK，指明下一个期待字节的序号。</li>
<li>发送方收到3个对于报文段1的冗余ACK——&gt;认为2号报文段丢失，重传2号报文段。   快速重传。</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="TCP流量控制："><a href="#TCP流量控制：" class="headerlink" title="TCP流量控制："></a>TCP流量控制：</h4><ul>
<li><p>让发送方慢点，要让接收方来得及接收。</p>
</li>
<li><p>TCP利用滑动窗口机制实现流量控制。</p>
<ul>
<li><p>在通信过程中，接收方根据自己接收缓存的大小，动态的调整发送方的发送窗口的大小，即接收窗口rwnd（接收方设置确认报文段的窗口字段来将rwnd通知给发送方），发送方的发送窗口取接收窗口rwnd和拥塞窗口cwnd的最小值。</p>
</li>
<li><p>TCP为每一个连接设有一个持续计时器，只要TCP连接的一方收到对方的零窗口通知，就启动持续计时器。</p>
<ul>
<li>若持续计时器设置的时间到期，就发送一个零窗口探测报文段。接收方收到探测报文段时给出现在的窗口值。</li>
<li>若窗口仍然为0，那么发送方就重新设置持续计时器。</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="TCP拥塞控制："><a href="#TCP拥塞控制：" class="headerlink" title="TCP拥塞控制："></a>TCP拥塞控制：</h4><h5 id="出现拥塞的条件："><a href="#出现拥塞的条件：" class="headerlink" title="出现拥塞的条件："></a>出现拥塞的条件：</h5><ul>
<li>对资源需求的总和 &gt; 可用资源</li>
<li>网络中有许多资源同时呈现供应不足 ——&gt;网络性能变坏——&gt;网络吞吐量将随输入负荷增大而下降</li>
</ul>
<h5 id="拥塞控制："><a href="#拥塞控制：" class="headerlink" title="拥塞控制："></a>拥塞控制：</h5><ul>
<li><p>防止过多的数据注入到网络中。【全局性】</p>
</li>
<li><p>拥塞控制四种算法【<br>慢开始<br>拥塞避免<br>快重传<br>快恢复】：</p>
<ul>
<li><p>假定：</p>
<ul>
<li><p>数据单方向传送，而另一个方向只传送确认</p>
</li>
<li><p>接收方总是有足够大的缓存空间，因而发送窗口大小取决于拥塞程度。</p>
</li>
<li><p>发送窗口 &#x3D; Min{接收窗口rwnd ，拥塞窗口cwnd}</p>
<ul>
<li><p>接收窗口：</p>
<ul>
<li>接收方根据接收缓存设置的值，并告知给发送方，反映接收方容量。</li>
</ul>
</li>
<li><p>拥塞窗口：</p>
<ul>
<li>发送方根据自己估算的网络拥塞程度而设置的窗口值，反映网络当前容量。</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>慢开始和拥塞避免</p>
<ul>
<li><p>一个最大报文段长度MSS</p>
</li>
<li><p><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/5d2b7358e1e69d90e919cf80faed1fed125fbf55b8433b7c3d2a640c8d521aee.png"></p>
<ul>
<li><p>一个传输轮次：</p>
<ul>
<li>发送了一批报文段并收到它们的确认的时间。</li>
<li>一个往返时间RTT。</li>
<li>开始发送一批拥塞窗口内的报文段到开始发送下一批拥塞窗口内的报文段的时间。</li>
</ul>
</li>
<li><p>慢开始：</p>
<ul>
<li><p>当主机开始发送数据时，由于并不清楚网络的负荷情况，所以如果立即把大量数据字节注入到网络，那么久有可能引起网络发生拥塞。经验证表明，较好的方法是先探测一下，即由小到大逐渐增大发送窗口，也就是说，由小到大逐渐增大拥塞窗口的数值。</p>
</li>
<li><p>为了防止拥塞窗口cwnd增长过大引起网络拥塞，还需要设置一个慢开始门限 ssthresh 状态变量。当出现拥塞控制，发送方判断为网络拥塞。于是调整门限值ssthresh &#x3D; cwnd&#x2F;2。同时设置拥塞窗口cwnd&#x3D; 1，进入慢开始阶段。</p>
<ul>
<li><p>当cwnd &lt; ssthresh时</p>
<ul>
<li>继续使用慢开始算法</li>
</ul>
</li>
<li><p>当cwnd &gt; ssthreah时</p>
<ul>
<li>停止使用慢开始算法而改变拥塞避免算法</li>
</ul>
</li>
<li><p>当cwnd &#x3D; ssthreah时</p>
<ul>
<li>既可使用慢开始算法，也可使用拥塞避免算法</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>拥塞控制：</p>
<ul>
<li>让拥塞窗口cwnd缓慢地增大，即每经过一个往返时间RTT就把发送方的拥塞窗口cwnd+1，而不是像慢开始阶段那样加倍增长。因此在拥塞避免阶段就有“加法增大”AI(Additive Increase）的特点。</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>快重传和快恢复</p>
<ul>
<li><p><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/81c267fa2a6afedd1e49613e9990a496e38836b6992b75ccf34ac5e8532ed4e9.png"></p>
</li>
<li><p>快重传：</p>
<ul>
<li>收到3个重复的确认，执行快重传算法。</li>
<li>采用快重传算法可以让发送方尽早知道发生了个别报文段的丢失。</li>
<li>快重传算法首先是要求接收方不要等待自己发送数据时才进行少带确认，而是要立即发送确认，即收到了失序的报文段也要立即发出对已收到报文段的重复确认。</li>
</ul>
</li>
<li><p>快恢复：</p>
<ul>
<li>发送方知道现在丢失了个别的报文段，于是不启动慢开始，而是执行快恢复算法。这样，发送方调整门限值ssthresh &#x3D; cwnd &#x2F; 2，同时设置拥塞窗口 cwnd &#x3D; ssthresh，并开始执行拥塞避免算法。</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="应用层-1"><a href="#应用层-1" class="headerlink" title="应用层"></a>应用层</h2><blockquote>
<p>应用层对应用程序的通信提供服务。</p>
</blockquote>
<h3 id="应用层协议定义："><a href="#应用层协议定义：" class="headerlink" title="应用层协议定义："></a>应用层协议定义：</h3><ul>
<li>应用程序交换的报文类型，请求还是响应？</li>
<li>各种报文类型的语法，如报文中的各个字段及其详细描述。</li>
<li>字段的语义，即包含在字段中的信息的含义。</li>
<li>进程何时、如何发送报文，以及对报文进行响应的规则。</li>
</ul>
<h3 id="应用层的功能："><a href="#应用层的功能：" class="headerlink" title="应用层的功能："></a>应用层的功能：</h3><ul>
<li>文件传输、访问和管理</li>
<li>电子邮件</li>
<li>虚拟终端</li>
<li>查询服务和远程作业登录</li>
</ul>
<h3 id="应用层的重要协议："><a href="#应用层的重要协议：" class="headerlink" title="应用层的重要协议："></a>应用层的重要协议：</h3><ul>
<li>FTP</li>
<li>SMTP、POP3</li>
<li>HTTP</li>
<li>DNS</li>
</ul>
<h3 id="网络应用模型"><a href="#网络应用模型" class="headerlink" title="网络应用模型"></a>网络应用模型</h3><h4 id="客户-x2F-服务器模型（Client-x2F-Server）"><a href="#客户-x2F-服务器模型（Client-x2F-Server）" class="headerlink" title="客户&#x2F;服务器模型（Client&#x2F;Server）"></a>客户&#x2F;服务器模型（Client&#x2F;Server）</h4><p><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/e6788f45b29f38efdf550166077c0a4fbef50b9741955128f15bbaaff9a34891.png"></p>
<h5 id="服务器："><a href="#服务器：" class="headerlink" title="服务器："></a>服务器：</h5><ul>
<li><p>提供计算服务的设备。</p>
</li>
<li><p>特点：</p>
<ul>
<li>永久提供服务</li>
<li>永久性访问地址&#x2F;域名</li>
</ul>
</li>
</ul>
<h5 id="客户机："><a href="#客户机：" class="headerlink" title="客户机："></a>客户机：</h5><ul>
<li><p>请求计算服务的主机。</p>
</li>
<li><p>特点：</p>
<ul>
<li>使用服务器提供的服务。</li>
<li>间歇性接入网络。</li>
<li>可能使用动态IP地址。</li>
<li>不与其他客户机直接通信。</li>
</ul>
</li>
</ul>
<h5 id="应用："><a href="#应用：" class="headerlink" title="应用："></a>应用：</h5><ul>
<li>web</li>
<li>文件传输FTP</li>
<li>远程登录</li>
<li>电子邮件</li>
</ul>
<h4 id="P2P模型（Peer-to-peer）"><a href="#P2P模型（Peer-to-peer）" class="headerlink" title="P2P模型（Peer-to-peer）"></a>P2P模型（Peer-to-peer）</h4><p><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/110fde7aa4546e5934d4eed51d3bc52b412c422aaf14f73533298679ffb3e97d.png"></p>
<h5 id="特点：-2"><a href="#特点：-2" class="headerlink" title="特点："></a>特点：</h5><ul>
<li>不存在永远在线的服务器</li>
<li>每个主机既可以提供服务，也可以请求服务</li>
<li>任意端系统&#x2F;节点之间可以直接通讯</li>
<li>节点间歇性接入网络</li>
<li>节点可能改变IP地址</li>
<li>可拓展性好</li>
<li>网络健壮性强</li>
</ul>
<h3 id="域名解析系统DNS"><a href="#域名解析系统DNS" class="headerlink" title="域名解析系统DNS"></a>域名解析系统DNS</h3><h4 id="域名"><a href="#域名" class="headerlink" title="域名"></a>域名</h4><ul>
<li><p><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/ed37aeebbb8a175ada451a70ec6309644aec311ea13c9485d0aed2a35a98ae50.png"></p>
</li>
<li><p>根：</p>
<ul>
<li>.</li>
</ul>
</li>
<li><p>顶级域名：</p>
<ul>
<li><p>国家顶级域名</p>
<ul>
<li>cn：中国</li>
<li>us：美国</li>
<li>uk：英国</li>
<li>…….</li>
</ul>
</li>
<li><p>通用顶级域名</p>
<ul>
<li>com：公司企业</li>
<li>net：网络服务机构</li>
<li>org：非盈利性组织</li>
<li>int：国际组织</li>
<li>edu：美国专用的教育机构</li>
<li>gov：美国的政府部门</li>
<li>mil：美国军事部门</li>
<li>……</li>
</ul>
</li>
<li><p>基础结构域名&#x2F;反向域名</p>
<ul>
<li>arpa</li>
</ul>
</li>
</ul>
</li>
<li><p>二级域名：</p>
<ul>
<li><p>类别域名</p>
<ul>
<li>ac：科研机构</li>
<li>com：工、商、金融等企业</li>
<li>edu：中国的教育机构</li>
<li>gov：中国的政府机构</li>
<li>mil：中国的国防机构</li>
<li>net：提供互联网服务的机构</li>
<li>org：非盈利性的组织</li>
</ul>
</li>
<li><p>行政域名 </p>
<ul>
<li>用于我国各省、自治区、直辖市 （共34个）   bj（北京），js（江苏省）</li>
</ul>
</li>
</ul>
</li>
<li><p>三级域名：</p>
<ul>
<li>在某个二级域名下注册的单位就可以获得一个三级域名：比如在edu下的三级域名有：Tsinghua（清华大学）和pku（北京大学）</li>
</ul>
</li>
<li><p>四级域名：</p>
<ul>
<li>一旦某个单位拥有了一个域名，它就可以自己决定是否要进一步划分其下属的子域，并且不必由上级机构批准。</li>
</ul>
</li>
</ul>
<h4 id="域名服务器："><a href="#域名服务器：" class="headerlink" title="域名服务器："></a>域名服务器：</h4><ul>
<li><p><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/5a3533667e95ca686f0e9e0c8c2b14dad0eb576bbd6b519850826cecc4241e0b.png"></p>
</li>
<li><p>根域名服务器</p>
<ul>
<li>根域名服务器是最高层次的域名服务器，也是最重要的域名服务器。所有的根域名服务器都知道所有的顶级域名服务器的域名和IP地址。</li>
<li>由于根域名服务器采用了任播技术，因此当DNS客户向某个根域名服务器的IP地址发出查询报文时，互联网上的路由器就能找到离这个DNS客户最近的一个根域名服务器。</li>
</ul>
</li>
<li><p>顶级域名服务器</p>
<ul>
<li>这些域名服务器负责管理在该顶级域名服务器注册的所有二级域名。当收到DNS查询请求时，就会给出相应的回答（可能是最后的结果，也可能是下一步应当找的域名服务器的IP地址）</li>
</ul>
</li>
<li><p>权限域名服务器</p>
<ul>
<li>一个服务器所负责管辖的（或有权限的）范围叫做区，每一个区设置相应的权限域名服务器，用来保存该区中所有主机的域名到IP地址的映射。</li>
<li>负责一个区的域名服务器。当一个权限域名服务器还不能给出最后的查询回答时，就会告诉发出查询请求的DNS客户，下一步应当找哪一个权限域名服务器。</li>
</ul>
</li>
<li><p>本地域名服务器</p>
<ul>
<li>不属于域名服务器层次结构划分。</li>
<li>当一个主机发出DNS查询请求时，这个查询请求报文就发给本地域名服务器。</li>
</ul>
</li>
</ul>
<h4 id="域名解析过程；"><a href="#域名解析过程；" class="headerlink" title="域名解析过程；"></a>域名解析过程；</h4><h5 id="递归查询"><a href="#递归查询" class="headerlink" title="递归查询"></a>递归查询</h5><ul>
<li>主机向本地域名服务器的查询一般都是递归查询。</li>
<li>如果主机所询问的本地域名服务器不知道被查询域名的IP地址，那么本地域名服务器就以DNS客户的身份，向其他根域名服务器继续发出查询请求报文（即替该主机继续查询），而不是让该主机自己进行下一步的查询。因此，递归查询返回的查询结果或者是所要查询的IP地址，或者是报错，表示无法查询到所需的IP地址。</li>
<li><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/c2ba9f9360bfa46fb1cda64afae470bddc5e10388556acab6f8362eafbacf9a6.png"></li>
</ul>
<h5 id="迭代查询"><a href="#迭代查询" class="headerlink" title="迭代查询"></a>迭代查询</h5><ul>
<li><p>本地域名服务器向根域名服务器的查询通常是采用迭代查询。</p>
</li>
<li><p>迭代查询的特点：</p>
<ul>
<li>当根域名服务器收到本地域名服务器发出的迭代查询请求报文时，要么给出所要查询的IP地址，要么告诉本地域名服务器：“你下一步应当向哪一个域名服务器进行查询”。然后让本地域名服务器进行后续的查询（而不是替本地域名服务器进行后续的查询）根域名服务器通常是把自己知道的顶级域名服务器的IP地址告诉本地域名服务器，让本地域名服务器再向顶级域名服务器查询。顶级域名服务器在收到本地域名服务器的请求后，要么给出所要查询的IP地址，要么告诉本地域名服务器下一步应当向哪一个权限域名服务器进行查询，本地域名服务器就这样进行迭代查询。最后，知道了所要解析的域名的IP地址，然后把这个结果返回给发起查询的主机。</li>
<li>本地域名服务器也可以采用递归查询，这取决于最初的查询请求报文的设置是要求使用哪一种查询方式。</li>
</ul>
</li>
<li><p><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/9e20b04bc88a06d701017fc767ac738b8fc03a55b35220fc1633967aa72a4279.png"></p>
</li>
</ul>
<h5 id="高速缓存（有时也称为高速缓存域名服务器）"><a href="#高速缓存（有时也称为高速缓存域名服务器）" class="headerlink" title="高速缓存（有时也称为高速缓存域名服务器）"></a>高速缓存（有时也称为高速缓存域名服务器）</h5><ul>
<li>为了提高DNS查询效率，并减轻根域名服务器的负荷和减少互联网上DNS查询报文数量。</li>
<li>高速缓存用来存放最近查询过的域名以及从何处获得域名映射信息的记录。</li>
<li>由于名字到地址的绑定并不经常改变，为保持高速缓存中的内容正确，域名服务器应为每项内容设置计时器并处理超过合理时间的项（例如：每个项目只存放两天）</li>
</ul>
<h3 id="文件传送协议"><a href="#文件传送协议" class="headerlink" title="文件传送协议"></a>文件传送协议</h3><h4 id="文件传送协议FTP-File-Transfer-Protocol）"><a href="#文件传送协议FTP-File-Transfer-Protocol）" class="headerlink" title="文件传送协议FTP(File Transfer Protocol）"></a>文件传送协议FTP(File Transfer Protocol）</h4><blockquote>
<p>提供不同种类主机系统（硬、软件体系等都可以不同）之间的文件传输能力。</p>
</blockquote>
<h5 id="FTP服务器和用户端"><a href="#FTP服务器和用户端" class="headerlink" title="FTP服务器和用户端"></a>FTP服务器和用户端</h5><ul>
<li>FTP是基于客户&#x2F;服务器（C&#x2F;S )的协议。</li>
<li>用户通过一个客户机程序连接至在远程计算机上运行的服务器程序。</li>
<li>依照FTP协议提供服务，进行文件传送的计算机就是FTP服务器。</li>
<li>连接FTP服务器，遵循FTP协议与服务器传送文件的电脑就是FTP客户端。</li>
</ul>
<h5 id="FTP工作原理："><a href="#FTP工作原理：" class="headerlink" title="FTP工作原理："></a>FTP工作原理：</h5><ul>
<li><p>登陆：</p>
<ul>
<li><p>ftp地址</p>
<ul>
<li><p>用户名&amp;密码</p>
</li>
<li><p>匿名登陆：</p>
<ul>
<li>互联网中有很大一部分FTP服务器被称为“匿名”（Anonymous）FTP服务器。这类服务器的目的是向公众提供文件拷贝服务，不要求用户事先在该服务器进行登记注册，也不用取得FTP服务器的授权。<br>Anonymous（匿名文件传输）能够使用户与远程主机建立连接并以匿名身份从远程主机上拷贝文件，而不必是该远程主机的注册用户，用户使用特殊的用户名“anonymous”登陆FTP服务，就可访问远程主机上公开的文件。</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/c47b9ff92d21d409642f20a3cee6d5805aa0be23e8a267dc6e4acb7816c1510b.png"></p>
<ul>
<li><p>控制连接始终保持</p>
</li>
<li><p>数据连接保持一会</p>
</li>
<li><p>是否使用TCP  20端口建立数据连接与传输模式有关</p>
<ul>
<li>主动方式使用 TCP 20端口</li>
<li>被动方式由服务器和客户端自行协商决定（端口 &gt; 1024）</li>
</ul>
</li>
</ul>
</li>
</ul>
<h5 id="FTP传输模式："><a href="#FTP传输模式：" class="headerlink" title="FTP传输模式："></a>FTP传输模式：</h5><ul>
<li><p>文本模式：</p>
<ul>
<li>ASCII模式，以文本序列传输数据。</li>
</ul>
</li>
<li><p>二进制模式：</p>
<ul>
<li>Binary模式，以二进制序列传输数据。</li>
</ul>
</li>
</ul>
<blockquote>
<p>FTP使用TCP实现可靠传输。</p>
</blockquote>
<h4 id="简单文件传送协议TFTP-Trivial-File-Transfer-Protocol）"><a href="#简单文件传送协议TFTP-Trivial-File-Transfer-Protocol）" class="headerlink" title="简单文件传送协议TFTP(Trivial File Transfer Protocol）"></a>简单文件传送协议TFTP(Trivial File Transfer Protocol）</h4><blockquote>
<p>很小且易于实现的文件传送协议。</p>
<p>TFTP基于UDP协议传输。</p>
</blockquote>
<p>特点：</p>
<ul>
<li>每次传送的数据报文中有512字节的数据，但最后一次可不足512字节。</li>
<li>数据报文段按序编号，从1开始。</li>
<li>支持ASCII码或二进制传送。</li>
<li>可对文件进行读和写。</li>
<li>使用很简单的首部。</li>
</ul>
<blockquote>
<p>它们都是文件共享协议中的一大类，即复制整个文件，其特点是:若要存取一个文件，就必须先获得一个本地的文件副本。如果要修改文件，只能对文件的副本进行修改，然后再将修改后的文件副本传回原节点。</p>
</blockquote>
<h3 id="电子邮件："><a href="#电子邮件：" class="headerlink" title="电子邮件："></a>电子邮件：</h3><h4 id="电子邮件的信息格式："><a href="#电子邮件的信息格式：" class="headerlink" title="电子邮件的信息格式："></a>电子邮件的信息格式：</h4><h5 id="信封："><a href="#信封：" class="headerlink" title="信封："></a>信封：</h5><ul>
<li><a href="mailto:&#x61;&#x62;&#x63;&#x40;&#x31;&#x36;&#x33;&#x2e;&#x63;&#x6f;&#109;">&#x61;&#x62;&#x63;&#x40;&#x31;&#x36;&#x33;&#x2e;&#x63;&#x6f;&#109;</a></li>
</ul>
<h5 id="内容："><a href="#内容：" class="headerlink" title="内容："></a>内容：</h5><ul>
<li><p>首部：</p>
<ul>
<li>TO:<a href="mailto:&#97;&#x62;&#99;&#x40;&#49;&#x36;&#51;&#46;&#x63;&#x6f;&#x6d;">&#97;&#x62;&#99;&#x40;&#49;&#x36;&#51;&#46;&#x63;&#x6f;&#x6d;</a><br>Subject:Hello!(主题)<ul>
<li>From：<a href="mailto:&#49;&#49;&#49;&#64;&#49;&#54;&#x33;&#x2e;&#99;&#x6f;&#109;">&#49;&#49;&#49;&#64;&#49;&#54;&#x33;&#x2e;&#99;&#x6f;&#109;</a><br>To：<a href="mailto:&#x61;&#x62;&#99;&#x40;&#49;&#x36;&#51;&#x2e;&#x63;&#111;&#x6d;">&#x61;&#x62;&#99;&#x40;&#49;&#x36;&#51;&#x2e;&#x63;&#111;&#x6d;</a><br>Subject: Hello!<br>Date: 2020-11-19<br>…….<br>【这些都是邮件系统自动添加的。】</li>
</ul>
</li>
</ul>
</li>
<li><p>主体：</p>
<ul>
<li>就是你想写的东西。</li>
</ul>
</li>
</ul>
<h4 id="组成部分："><a href="#组成部分：" class="headerlink" title="组成部分："></a>组成部分：</h4><p><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/29bbcef5b6b51ebf18d50406f422cb98818b6799930aafd5d71ed474d6b9ec18.png"></p>
<ul>
<li><p>用户代理：</p>
<ul>
<li><p>UA(User Agetn)就是用户与电子邮件系统的接口，在大多数情况下它就是运行在电脑中的一个程序。因此用户dialing又称为电子邮件客户端软件。用户代理给用户提供一个很友好的接口（目前主要是窗口界面）来发送和接收邮件。</p>
</li>
<li><p>常见的用户代理：</p>
<ul>
<li>微软公司的Outlook  Express</li>
<li>张小龙的Foxmail</li>
</ul>
</li>
<li><p>具有的功能；</p>
<ul>
<li><p>撰写：</p>
<ul>
<li>给用户提供编辑信件的环境。</li>
</ul>
</li>
<li><p>显示：</p>
<ul>
<li>能方便地在计算机屏幕上显示出来信（包括来信附上的声音和图像）</li>
</ul>
</li>
<li><p>处理：</p>
<ul>
<li>处理包括发送和接收邮件。</li>
</ul>
</li>
<li><p>通信：</p>
<ul>
<li>发信人在撰写完邮件后，要利用邮件发送协议发送到用户所使用的邮件服务器。收件人在接收邮件时，要使用邮件读取协议从本地邮件服务器接收邮件。</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>邮件服务器：</p>
<ul>
<li><p>使用客户&#x2F;服务器模型（Client&#x2F;Server）。</p>
</li>
<li><p>功能：</p>
<ul>
<li>发送&amp;接收邮件</li>
<li>向发件人报告邮件传送结果</li>
</ul>
</li>
</ul>
</li>
<li><p>协议：</p>
<ul>
<li>SMTP(发）</li>
<li>POP3、IMAP（收）</li>
</ul>
</li>
</ul>
<h5 id="组成结构："><a href="#组成结构：" class="headerlink" title="组成结构："></a>组成结构：</h5><p><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/a41f225ecf58b1d023bd9b1104770161a66f700274002063deebc87f6743c899.png"></p>
<h4 id="简单邮件传送协议SMTP"><a href="#简单邮件传送协议SMTP" class="headerlink" title="简单邮件传送协议SMTP:"></a>简单邮件传送协议SMTP:</h4><h5 id="SMTP规定了在两个相互通信的SMTP进程之间应如何交换信息。"><a href="#SMTP规定了在两个相互通信的SMTP进程之间应如何交换信息。" class="headerlink" title="SMTP规定了在两个相互通信的SMTP进程之间应如何交换信息。"></a>SMTP规定了在两个相互通信的SMTP进程之间应如何交换信息。</h5><ul>
<li>负责发送邮件的SMTP进程就是SMTP客户</li>
<li>负责接收邮件的进程就是SMTP服务器</li>
<li>SMTP规定了14条命令（几个字母）和21种应答信息（三位数字代码+简单文字说明）</li>
</ul>
<h5 id="SMTP通信三个阶段："><a href="#SMTP通信三个阶段：" class="headerlink" title="SMTP通信三个阶段："></a>SMTP通信三个阶段：</h5><ul>
<li><p>连接建立：</p>
<ul>
<li><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/c33e050369d2fba62f176f7178c5623f428e37d545ec827bfc3fd60401d0edef.png"></li>
</ul>
</li>
<li><p>邮件传送：</p>
<ul>
<li><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/86f0a3a7dc8583551afbbf133f4e16c480b1fe58763b0931f35c5efe83f90084.png"></li>
</ul>
</li>
<li><p>连接释放：</p>
<ul>
<li>邮件发完，SMTP客户发送QUIT命令，SMTP服务器返回“221”，表示同意释放TCP连接。</li>
</ul>
</li>
</ul>
<h5 id="SMTP的缺点："><a href="#SMTP的缺点：" class="headerlink" title="SMTP的缺点："></a>SMTP的缺点：</h5><ul>
<li><p>SMTP不能传送可执行文件或者其他二进制对象。</p>
</li>
<li><p>SMTP仅限于传送7位ASCII码，不能传送其他非英语国家的文字。</p>
</li>
<li><p>SMTP服务器会拒绝超过一定长度的邮件。</p>
</li>
<li><p>解决：</p>
<ul>
<li><p>通用因特网邮件扩充MIME</p>
<ul>
<li><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/153ba82e9cb5161a906026b1a53da0c0422ab0916d380e9484cac22e056976b2.png"></li>
<li>使电子邮件系统可以支持声音、图像、视频、多种国家语言等等。</li>
<li>使得传输内容丰富多彩。</li>
</ul>
</li>
</ul>
</li>
</ul>
<blockquote>
<p> 使用TCP连接   端口号25     建立在客户&#x2F;服务器模型（Client&#x2F;Server）</p>
</blockquote>
<h4 id="邮局协议POP3"><a href="#邮局协议POP3" class="headerlink" title="邮局协议POP3:"></a>邮局协议POP3:</h4><ul>
<li><p>使用TCP连接   端口号110     建立在客户&#x2F;服务器模型（Client&#x2F;Server）</p>
</li>
<li><p>POP3是一个非常简单、但功能有限的邮件读取协议。</p>
</li>
<li><p>POP3工作方式：</p>
<ul>
<li>下载并保留（在服务器）</li>
<li>下载并删除</li>
</ul>
</li>
</ul>
<h4 id="网际报文存取协议IMAP"><a href="#网际报文存取协议IMAP" class="headerlink" title="网际报文存取协议IMAP:"></a>网际报文存取协议IMAP:</h4><ul>
<li>IMAP协议比POP协议复杂。当用户PC上的IMAP客户程序打开IMAP服务器的邮箱时，用户可以看到邮箱的首部，若用户需要打开某个邮件，该邮件才能上传到用户的计算机上。</li>
<li>IMAP可以让用户在不同的地方使用不同的计算机随时上网阅读处理邮件，还允许只读取邮件中的某一个部分（先看正文，有WIFI的时候再下载附件）。</li>
</ul>
<h4 id="基于万维网的电子邮件："><a href="#基于万维网的电子邮件：" class="headerlink" title="基于万维网的电子邮件："></a>基于万维网的电子邮件：</h4><ul>
<li>不管在什么地方（在任何一个国家的网吧、宾馆或朋友家中），只要能找到上网的计算机，在打开任何一种浏览器后，就可以非常方便地收发电子邮件。</li>
<li>在浏览器和互联网上的邮件服务器直接传送邮件时，使用HTTP协议。但是在各邮件服务器之间传送邮件时，仍然使用SMTP协议。</li>
</ul>
<h3 id="万维网："><a href="#万维网：" class="headerlink" title="万维网："></a>万维网：</h3><h4 id="万维网概述："><a href="#万维网概述：" class="headerlink" title="万维网概述："></a>万维网概述：</h4><ul>
<li>万维网WWW（World  Wide  Web）是一个大规模的、联机式的信息储藏所&#x2F;资料空间【资源（文字、视频、音频….)】，是无数个网络站点和网页的集合。</li>
<li>用户通过点击超链接（<a target="_blank" rel="noopener" href="http://www.baidu.com)获取资源,这些资源通过超文本传输协议(http)传送给使用者./">http://www.baidu.com)获取资源，这些资源通过超文本传输协议（HTTP)传送给使用者。</a></li>
<li>万维网以客户&#x2F;服务器方式工作，用户使用的浏览器就是万维网客户程序，万维网文档所驻留的主机运行服务器程序。</li>
<li>万维网使用超文本标记语言HTML，使得万维网页面设计者可以很方便从一个界面的链接转到另一个界面，并能够在自己的屏幕上显示出来。</li>
</ul>
<h4 id="统一资源定位符URL"><a href="#统一资源定位符URL" class="headerlink" title="统一资源定位符URL:"></a>统一资源定位符URL:</h4><ul>
<li><p>统一资源定位符URL____唯一标识_____&gt;资源（文字、视频、音频….)</p>
</li>
<li><p>URL一般形式：</p>
<ul>
<li>&lt;协议&gt;:&#x2F;&#x2F;&lt;主机&gt;:&lt;端口&gt;&#x2F;&lt;路径&gt;     htttp:&#x2F;&#x2F;<a target="_blank" rel="noopener" href="http://www.pku.edu.cn/">www.pku.edu.cn</a><br>http        域名<br>ftp           ip地址</li>
<li>URL不区分大小写。</li>
</ul>
</li>
</ul>
<h4 id="超文本传输协议HTTP："><a href="#超文本传输协议HTTP：" class="headerlink" title="超文本传输协议HTTP："></a>超文本传输协议HTTP：</h4><blockquote>
<p>HTTP协议定义了浏览器（万维网客户进程）怎样向万维网服务器请求万维网文档，以及服务器怎样把文档传送给服务器</p>
</blockquote>
<p><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/8de4d825a65676c787fe041b2f7bf51251d6eb8b3bd412823859b2a756ce6190.png"></p>
<h5 id="特点：-3"><a href="#特点：-3" class="headerlink" title="特点："></a>特点：</h5><ul>
<li><p>HTTP协议是无状态的。</p>
<ul>
<li><p>同一个客户第二次访问同一个服务器上的页面时，服务器的响应与第一次被访问时的相同（ 假设现在服务器还没有把该页面更新。）</p>
</li>
<li><p><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/bf630b800e3141d06063532a5acd179895ac74cbd70baa120b0e43d3646996f3.png" alt="但是在实际工作中，一些万维网站点常常希望能够识别用户。"></p>
<ul>
<li>Cookie是存储在用户主机中的文本文件，记录一段时间内某用户（使用识别码识别，如“123456”）的访问记录。</li>
</ul>
</li>
</ul>
</li>
<li><p>提供个性化服务：</p>
<ul>
<li>HTTP采用TCP作为运输层协议，但HTTP协议本身是无连接的（通信双方在交换HTTP报文之前不需要先建立HTTP连接）。</li>
</ul>
</li>
</ul>
<h5 id="HTTP的连接方式："><a href="#HTTP的连接方式：" class="headerlink" title="HTTP的连接方式："></a>HTTP的连接方式：</h5><ul>
<li><p>持久连接（Keep-alive）：</p>
<ul>
<li>非流水线</li>
<li>流水线</li>
<li><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/330e4acbe7a23d694f969cbf41d0c942694b6a6cbd341b40ac8d36e285cce3cf.png"></li>
</ul>
</li>
<li><p>非持久连接（Close）</p>
<ul>
<li><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/61ef0c785e1015e6f47e7675f03c10c9c9148e7dc53360a5f656d6ebed4222ea.png"></li>
</ul>
</li>
</ul>
<h5 id="报文结构："><a href="#报文结构：" class="headerlink" title="报文结构："></a>报文结构：</h5><ul>
<li><p>HTTP报文：</p>
<ul>
<li>请求报文</li>
<li>响应报文</li>
</ul>
</li>
<li><p><img src="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/8b44d4fc8e04b16af3f9447328172e93ac4fe6d49beb18c579e8b770873c6eaf.png"></p>
<ul>
<li><p>状态码：</p>
<ul>
<li>1xx表示通知信息的，如请求收到了或正在处理。</li>
<li>2xx表示成功，如接受或知道了。</li>
<li>3xx表示重定向，如要完成请求还必须采取进一步的行动。</li>
<li>4xx表示客户的差错，如请求中有错误的语法或不能完成。</li>
<li>5xx表示服务器的差错，如服务器失效无法完成请求。</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="几种传输单元名词辨析："><a href="#几种传输单元名词辨析：" class="headerlink" title="几种传输单元名词辨析："></a>几种传输单元名词辨析：</h2><h3 id="应用层-2"><a href="#应用层-2" class="headerlink" title="应用层"></a>应用层</h3><ul>
<li>报文</li>
</ul>
<h3 id="传输层-2"><a href="#传输层-2" class="headerlink" title="传输层"></a>传输层</h3><ul>
<li>报文段</li>
</ul>
<h3 id="网络层-2"><a href="#网络层-2" class="headerlink" title="网络层"></a>网络层</h3><ul>
<li>IP数据报、分组</li>
</ul>
<h3 id="数据链路层-2"><a href="#数据链路层-2" class="headerlink" title="数据链路层"></a>数据链路层</h3><ul>
<li>帧</li>
</ul>
<h3 id="物理层-2"><a href="#物理层-2" class="headerlink" title="物理层"></a>物理层</h3><ul>
<li>比特流</li>
</ul>

                
            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        作者:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="/about" rel="external nofollow noreferrer">成大事</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        文章链接:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="https://chengdashia.github.io/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">https://chengdashia.github.io/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        版权声明:
                    </i>
                </span>
                <span class="reprint-info">
                    本博客所有文章除特別声明外，均采用
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    许可协议。转载请注明来源
                    <a href="/about" target="_blank">成大事</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            
                                <a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/">
                                    <span class="chip bg-color">计算机网络</span>
                                </a>
                            
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">
<div id="article-share">

    
    <div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div>
    <script src="/libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
                <style>
    #reward {
        margin: 40px 0;
        text-align: center;
    }

    #reward .reward-link {
        font-size: 1.4rem;
        line-height: 38px;
    }

    #reward .btn-floating:hover {
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2), 0 5px 15px rgba(0, 0, 0, 0.2);
    }

    #rewardModal {
        width: 320px;
        height: 350px;
    }

    #rewardModal .reward-title {
        margin: 15px auto;
        padding-bottom: 5px;
    }

    #rewardModal .modal-content {
        padding: 10px;
    }

    #rewardModal .close {
        position: absolute;
        right: 15px;
        top: 15px;
        color: rgba(0, 0, 0, 0.5);
        font-size: 1.3rem;
        line-height: 20px;
        cursor: pointer;
    }

    #rewardModal .close:hover {
        color: #ef5350;
        transform: scale(1.3);
        -moz-transform:scale(1.3);
        -webkit-transform:scale(1.3);
        -o-transform:scale(1.3);
    }

    #rewardModal .reward-tabs {
        margin: 0 auto;
        width: 210px;
    }

    .reward-tabs .tabs {
        height: 38px;
        margin: 10px auto;
        padding-left: 0;
    }

    .reward-content ul {
        padding-left: 0 !important;
    }

    .reward-tabs .tabs .tab {
        height: 38px;
        line-height: 38px;
    }

    .reward-tabs .tab a {
        color: #fff;
        background-color: #ccc;
    }

    .reward-tabs .tab a:hover {
        background-color: #ccc;
        color: #fff;
    }

    .reward-tabs .wechat-tab .active {
        color: #fff !important;
        background-color: #22AB38 !important;
    }

    .reward-tabs .alipay-tab .active {
        color: #fff !important;
        background-color: #019FE8 !important;
    }

    .reward-tabs .reward-img {
        width: 210px;
        height: 210px;
    }
</style>

<div id="reward">
    <a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-medium waves-effect waves-light red">赏</a>

    <!-- Modal Structure -->
    <div id="rewardModal" class="modal">
        <div class="modal-content">
            <a class="close modal-close"><i class="fas fa-times"></i></a>
            <h4 class="reward-title">你的赏识是我前进的动力</h4>
            <div class="reward-content">
                <div class="reward-tabs">
                    <ul class="tabs row">
                        <li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">支付宝</a></li>
                        <li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li>
                    </ul>
                    <div id="alipay">
                        <img src="/medias/reward/alipay.jpg" class="reward-img" alt="支付宝打赏二维码">
                    </div>
                    <div id="wechat">
                        <img src="/medias/reward/wechat.png" class="reward-img" alt="微信打赏二维码">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('.tabs').tabs();
    });
</script>

            
        </div>
    </div>

    

    

    

    

    
        <style>
    .valine-card {
        margin: 1.5rem auto;
    }

    .valine-card .card-content {
        padding: 20px 20px 5px 20px;
    }

    #vcomments textarea {
        box-sizing: border-box;
        background: url("/medias/comment_bg.png") 100% 100% no-repeat;
    }

    #vcomments p {
        margin: 2px 2px 10px;
        font-size: 1.05rem;
        line-height: 1.78rem;
    }

    #vcomments blockquote p {
        text-indent: 0.2rem;
    }

    #vcomments a {
        padding: 0 2px;
        color: #4cbf30;
        font-weight: 500;
        text-decoration: none;
    }

    #vcomments img {
        max-width: 100%;
        height: auto;
        cursor: pointer;
    }

    #vcomments ol li {
        list-style-type: decimal;
    }

    #vcomments ol,
    ul {
        display: block;
        padding-left: 2em;
        word-spacing: 0.05rem;
    }

    #vcomments ul li,
    ol li {
        display: list-item;
        line-height: 1.8rem;
        font-size: 1rem;
    }

    #vcomments ul li {
        list-style-type: disc;
    }

    #vcomments ul ul li {
        list-style-type: circle;
    }

    #vcomments table, th, td {
        padding: 12px 13px;
        border: 1px solid #dfe2e5;
    }

    #vcomments table, th, td {
        border: 0;
    }

    table tr:nth-child(2n), thead {
        background-color: #fafafa;
    }

    #vcomments table th {
        background-color: #f2f2f2;
        min-width: 80px;
    }

    #vcomments table td {
        min-width: 80px;
    }

    #vcomments h1 {
        font-size: 1.85rem;
        font-weight: bold;
        line-height: 2.2rem;
    }

    #vcomments h2 {
        font-size: 1.65rem;
        font-weight: bold;
        line-height: 1.9rem;
    }

    #vcomments h3 {
        font-size: 1.45rem;
        font-weight: bold;
        line-height: 1.7rem;
    }

    #vcomments h4 {
        font-size: 1.25rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    #vcomments h5 {
        font-size: 1.1rem;
        font-weight: bold;
        line-height: 1.4rem;
    }

    #vcomments h6 {
        font-size: 1rem;
        line-height: 1.3rem;
    }

    #vcomments p {
        font-size: 1rem;
        line-height: 1.5rem;
    }

    #vcomments hr {
        margin: 12px 0;
        border: 0;
        border-top: 1px solid #ccc;
    }

    #vcomments blockquote {
        margin: 15px 0;
        border-left: 5px solid #42b983;
        padding: 1rem 0.8rem 0.3rem 0.8rem;
        color: #666;
        background-color: rgba(66, 185, 131, .1);
    }

    #vcomments pre {
        font-family: monospace, monospace;
        padding: 1.2em;
        margin: .5em 0;
        background: #272822;
        overflow: auto;
        border-radius: 0.3em;
        tab-size: 4;
    }

    #vcomments code {
        font-family: monospace, monospace;
        padding: 1px 3px;
        font-size: 0.92rem;
        color: #e96900;
        background-color: #f8f8f8;
        border-radius: 2px;
    }

    #vcomments pre code {
        font-family: monospace, monospace;
        padding: 0;
        color: #e8eaf6;
        background-color: #272822;
    }

    #vcomments pre[class*="language-"] {
        padding: 1.2em;
        margin: .5em 0;
    }

    #vcomments code[class*="language-"],
    pre[class*="language-"] {
        color: #e8eaf6;
    }

    #vcomments [type="checkbox"]:not(:checked), [type="checkbox"]:checked {
        position: inherit;
        margin-left: -1.3rem;
        margin-right: 0.4rem;
        margin-top: -1px;
        vertical-align: middle;
        left: unset;
        visibility: visible;
    }

    #vcomments b,
    strong {
        font-weight: bold;
    }

    #vcomments dfn {
        font-style: italic;
    }

    #vcomments small {
        font-size: 85%;
    }

    #vcomments cite {
        font-style: normal;
    }

    #vcomments mark {
        background-color: #fcf8e3;
        padding: .2em;
    }

    #vcomments table, th, td {
        padding: 12px 13px;
        border: 1px solid #dfe2e5;
    }

    table tr:nth-child(2n), thead {
        background-color: #fafafa;
    }

    #vcomments table th {
        background-color: #f2f2f2;
        min-width: 80px;
    }

    #vcomments table td {
        min-width: 80px;
    }

    #vcomments [type="checkbox"]:not(:checked), [type="checkbox"]:checked {
        position: inherit;
        margin-left: -1.3rem;
        margin-right: 0.4rem;
        margin-top: -1px;
        vertical-align: middle;
        left: unset;
        visibility: visible;
    }
</style>

<div class="card valine-card" data-aos="fade-up">
    <div class="comment_headling" style="font-size: 20px; font-weight: 700; position: relative; padding-left: 20px; top: 15px; padding-bottom: 5px;">
        <i class="fas fa-comments fa-fw" aria-hidden="true"></i>
        <span>评论</span>
    </div>
    <div id="vcomments" class="card-content" style="display: grid">
    </div>
</div>

<script src="/libs/valine/av-min.js"></script>
<script src="/libs/valine/Valine.min.js"></script>
<script>
    new Valine({
        el: '#vcomments',
        appId: 'MvaI1IozClknf8o5Euu9kJ9o-gzGzoHsz',
        appKey: 'Y4rDOeFnVOv4CL81SqzMvp4e',
        notify: '' === 'true',
        verify: '' === 'true',
        visitor: '' === 'true',
        avatar: 'monsterid',
        pageSize: '5',
        lang: 'zh-cn',
        placeholder: '昵称填写qq可以显示qq头像和昵称哦~'
    });
</script>

<!--酷Q推送-->


    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="far fa-dot-circle"></i>&nbsp;本篇
            </div>
            <div class="card">
                <a href="/2022/06/19/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">
                    <div class="card-image">
                        
                        <img src="/medias/index/25.jpg" class="responsive-img" alt="计算机网络笔记">
                        
                        <span class="card-title">计算机网络笔记</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            以前在B站学习王道的计算机网络的笔记
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2022-06-19
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" class="post-category">
                                    学习笔记
                                </a>
                            
                            
                        </span>
                    </div>
                </div>

                
                <div class="card-action article-tags">
                    
                    <a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/">
                        <span class="chip bg-color">计算机网络</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2022/06/18/%E6%95%B0%E4%BB%93/">
                    <div class="card-image">
                        
                        <img src="/medias/index/3.jpg" class="responsive-img" alt="数仓">
                        
                        <span class="card-title">数仓</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            数仓
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2022-06-18
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-user fa-fw"></i>
                            成大事
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/hadoop/">
                        <span class="chip bg-color">hadoop</span>
                    </a>
                    
                    <a href="/tags/kafka/">
                        <span class="chip bg-color">kafka</span>
                    </a>
                    
                    <a href="/tags/java/">
                        <span class="chip bg-color">java</span>
                    </a>
                    
                    <a href="/tags/hive/">
                        <span class="chip bg-color">hive</span>
                    </a>
                    
                    <a href="/tags/sqoop/">
                        <span class="chip bg-color">sqoop</span>
                    </a>
                    
                    <a href="/tags/azkaban/">
                        <span class="chip bg-color">azkaban</span>
                    </a>
                    
                    <a href="/tags/superset/">
                        <span class="chip bg-color">superset</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>


<script>
    $('#articleContent').on('copy', function (e) {
        // IE8 or earlier browser is 'undefined'
        if (typeof window.getSelection === 'undefined') return;

        var selection = window.getSelection();
        // if the selection is short let's not annoy our users.
        if (('' + selection).length < Number.parseInt('2000')) {
            return;
        }

        // create a div outside of the visible area and fill it with the selected text.
        var bodyElement = document.getElementsByTagName('body')[0];
        var newdiv = document.createElement('div');
        newdiv.style.position = 'absolute';
        newdiv.style.left = '-99999px';
        bodyElement.appendChild(newdiv);
        newdiv.appendChild(selection.getRangeAt(0).cloneContents());

        // we need a <pre> tag workaround.
        // otherwise the text inside "pre" loses all the line breaks!
        if (selection.getRangeAt(0).commonAncestorContainer.nodeName === 'PRE' || selection.getRangeAt(0).commonAncestorContainer.nodeName === 'CODE') {
            newdiv.innerHTML = "<pre>" + newdiv.innerHTML + "</pre>";
        }

        var url = document.location.href;
        newdiv.innerHTML += '<br />'
            + '来源: 成大事<br />'
            + '作者: 成大事<br />'
            + '文章链接: <a href="' + url + '">' + url + '</a><br />'
            + '本文章著作权归作者所有，任何形式的转载都请注明出处。';

        selection.selectAllChildren(newdiv);
        window.setTimeout(function () {bodyElement.removeChild(newdiv);}, 200);
    });
</script>


<!-- 代码块功能依赖 -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>

<!-- 代码语言 -->


<!-- 代码块复制 -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>


    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget card" style="background-color: white;">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('1'),
            headingSelector: 'h1, h2, h3, h4, h5, h6, h7, h8'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h1, h2, h3, h4, h5, h6, h7, h8').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>


<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"></script>



    <footer class="page-footer bg-color">

    
        <link rel="stylesheet" href="/libs/aplayer/APlayer.min.css">
<style>
    .aplayer .aplayer-lrc p {
        
        font-size: 12px;
        font-weight: 700;
        line-height: 16px !important;
    }

    .aplayer .aplayer-lrc p.aplayer-lrc-current {
        
        font-size: 15px;
        color: #42b983;
    }

    
    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body {
        left: -66px !important;
    }

    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body:hover {
        left: 0px !important;
    }

    
</style>
<div class="">
    
    <div class="row">
        <meting-js class="col l8 offset-l2 m10 offset-m1 s12"
                   server="netease"
                   type="playlist"
                   id="2943351980"
                   fixed='true'
                   autoplay='false'
                   theme='#42b983'
                   loop='all'
                   order='random'
                   preload='auto'
                   volume='0.7'
                   list-folded='true'
        >
        </meting-js>
    </div>
</div>

<script src="/libs/aplayer/APlayer.min.js"></script>
<script src="/libs/aplayer/Meting.min.js"></script>

    

    <div class="container row center-align"
         style="margin-bottom: 0px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            
                <span id="year">2022</span>
            
            <a href="/about" target="_blank">成大事</a>
            |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>
            |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a>
            <br>
            
            
            
                
            
            
                <span id="busuanzi_container_site_pv">
                &nbsp;|&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp;
                    <span id="busuanzi_value_site_pv" class="white-color"></span>
            </span>
            
            
                <span id="busuanzi_container_site_uv">
                &nbsp;|&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp;
                    <span id="busuanzi_value_site_uv" class="white-color"></span>
            </span>
            
            <br>

            <!-- 运行天数提醒. -->
            
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/chengdashia" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>



    <a href="mailto:1847085602@qq.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>







    <a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=1847085602" class="tooltipped" target="_blank" data-tooltip="QQ联系我: 1847085602" data-position="top" data-delay="50">
        <i class="fab fa-qq"></i>
    </a>








    <a href="https://blog.csdn.net/m0_49683806" class="tooltipped" target="_blank" data-tooltip="访问我的CSDN" data-position="top" data-delay="50">
        <i class="fab fa-CSDN">c</i>
    </a>


</div>
    </div>
</footer>

<div class="progress-bar"></div>



    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script type="text/javascript">
$(function () {
    var searchFunc = function (path, search_id, content_id) {
        'use strict';
        $.ajax({
            url: path,
            dataType: "xml",
            success: function (xmlResponse) {
                // get the contents from search data
                var datas = $("entry", xmlResponse).map(function () {
                    return {
                        title: $("title", this).text(),
                        content: $("content", this).text(),
                        url: $("url", this).text()
                    };
                }).get();
                var $input = document.getElementById(search_id);
                var $resultContent = document.getElementById(content_id);
                $input.addEventListener('input', function () {
                    var str = '<ul class=\"search-result-list\">';
                    var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                    $resultContent.innerHTML = "";
                    if (this.value.trim().length <= 0) {
                        return;
                    }
                    // perform local searching
                    datas.forEach(function (data) {
                        var isMatch = true;
                        var data_title = data.title.trim().toLowerCase();
                        var data_content = data.content.trim().replace(/<[^>]+>/g, "").toLowerCase();
                        var data_url = data.url;
                        data_url = data_url.indexOf('/') === 0 ? data.url : '/' + data_url;
                        var index_title = -1;
                        var index_content = -1;
                        var first_occur = -1;
                        // only match artiles with not empty titles and contents
                        if (data_title !== '' && data_content !== '') {
                            keywords.forEach(function (keyword, i) {
                                index_title = data_title.indexOf(keyword);
                                index_content = data_content.indexOf(keyword);
                                if (index_title < 0 && index_content < 0) {
                                    isMatch = false;
                                } else {
                                    if (index_content < 0) {
                                        index_content = 0;
                                    }
                                    if (i === 0) {
                                        first_occur = index_content;
                                    }
                                }
                            });
                        }
                        // show search results
                        if (isMatch) {
                            str += "<li><a href='" + data_url + "' class='search-result-title'>" + data_title + "</a>";
                            var content = data.content.trim().replace(/<[^>]+>/g, "");
                            if (first_occur >= 0) {
                                // cut out 100 characters
                                var start = first_occur - 20;
                                var end = first_occur + 80;
                                if (start < 0) {
                                    start = 0;
                                }
                                if (start === 0) {
                                    end = 100;
                                }
                                if (end > content.length) {
                                    end = content.length;
                                }
                                var match_content = content.substr(start, end);
                                // highlight all keywords
                                keywords.forEach(function (keyword) {
                                    var regS = new RegExp(keyword, "gi");
                                    match_content = match_content.replace(regS, "<em class=\"search-keyword\">" + keyword + "</em>");
                                });

                                str += "<p class=\"search-result\">" + match_content + "...</p>"
                            }
                            str += "</li>";
                        }
                    });
                    str += "</ul>";
                    $resultContent.innerHTML = str;
                });
            }
        });
    };

    searchFunc('/search.xml', 'searchInput', 'searchResult');
});
</script>

    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>
    <script type="text/javascript" src="/js/click_show_text.js"></script>

    

    


    <!-- 雪花特效 -->
    

    <!-- 鼠标星星特效 -->
     
        <script type="text/javascript">
            // 只在桌面版网页启用特效
            var windowWidth = $(window).width();
            if (windowWidth > 768) {
                document.write('<script type="text/javascript" src="/libs/others/star.js"><\/script>');
            }
        </script>
    
    <!-- 动态标题 -->
    <script type="text/javascript"> var OriginTitile = document.title, st; 
        document.addEventListener("visibilitychange", function () { document.hidden ? (document.title = "Σ(っ °Д °;)っ喔哟，崩溃啦！", clearTimeout(st)) : (document.title = "φ(゜▽゜*)♪咦，又好了！", st = setTimeout(function () { document.title = OriginTitile }, 3e3)) })
    </script>
        


    <!-- 天气接口 -->
    

    


    
    <script src="/libs/others/clicklove.js" async="async"></script>
    
    
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    

    

    

    <!--腾讯兔小巢-->
    
    

    

    

    

</body>

</html>
